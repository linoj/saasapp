  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (18.2ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20090901024918)
  [4;36;1mSQL (0.7ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "persistence_token" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090901024918')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20090901024918)
Migrating to CreateInfos (20090901025004)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCREATE TABLE "infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090901025004')[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("infos")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.2ms)[0m   [0;1mCREATE TABLE "infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (7.1ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "persistence_token" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (5.6ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (5.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901025004')[0m
  [4;35;1mSQL (2.3ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090901024918')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.9ms)[0m   [0;1mCREATE TABLE "infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "persistence_token" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (2.1ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901025004')[0m
  [4;35;1mSQL (2.1ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090901024918')[0m


Processing InfosController#welcome (for 127.0.0.1 at 2009-08-31 22:58:38) [GET]
  Parameters: {"action"=>"welcome", "controller"=>"infos"}
Rendering template within layouts/application
Rendering infos/welcome
Rendered layouts/_user_nav (0.9ms)
Completed in 30ms (View: 28, DB: 0) | 200 OK [http://localhost/]


Processing InfosController#welcome (for 127.0.0.1 at 2009-08-31 22:58:56) [GET]
  Parameters: {"action"=>"welcome", "controller"=>"infos"}
Rendering template within layouts/application
Rendering infos/welcome
Rendered layouts/_user_nav (0.1ms)
Completed in 18ms (View: 15, DB: 0) | 200 OK [http://localhost/]


Processing UserSessionsController#new (for 127.0.0.1 at 2009-08-31 22:59:00) [GET]
  Parameters: {"action"=>"new", "controller"=>"user_sessions"}
Rendering template within layouts/application
Rendering user_sessions/new
Rendered layouts/_user_nav (1.0ms)
Completed in 21ms (View: 8, DB: 0) | 200 OK [http://localhost/login]


Processing UserSessionsController#create (for 127.0.0.1 at 2009-08-31 22:59:04) [POST]
  Parameters: {"commit"=>"Log in", "user_session"=>{"username"=>"jonathan@linowes.com", "password"=>"[FILTERED]"}, "action"=>"create", "authenticity_token"=>"w+bzTurRgafRaqPoWQoVe8mJQWMbtVGgWbTW7rMpfTE=", "controller"=>"user_sessions"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."username" = 'jonathan@linowes.com') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'jonathan@linowes.com') LIMIT 1[0m
Rendering template within layouts/application
Rendering user_sessions/new
Rendered layouts/_user_nav (1.2ms)
Completed in 30ms (View: 5, DB: 0) | 200 OK [http://localhost/user_sessions]


Processing UsersController#new (for 127.0.0.1 at 2009-08-31 22:59:06) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Rendered layouts/_user_nav (4.1ms)
Completed in 25ms (View: 14, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-08-31 22:59:15) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"w+bzTurRgafRaqPoWQoVe8mJQWMbtVGgWbTW7rMpfTE=", "controller"=>"users", "user"=>{"password_confirmation"=>"[FILTERED]", "username"=>"jonathan", "password"=>"[FILTERED]", "email"=>"jonathan@linowes.com"}}
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'jonathan@linowes.com') LIMIT 1[0m
  [4;35;1mUser Exists (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."username") = 'jonathan') LIMIT 1[0m
  [4;36;1mUser Exists (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = '92d2e4a94f9579dadbdb9ee12096118d75370bd20f0d43986fc5797eec9a24520d3e3513dde86beac8d9d771a478b971d6a717bbdb1da8a3b1aad2da4ed0c6cc') LIMIT 1[0m
  [4;35;1mUser Create (0.7ms)[0m   [0mINSERT INTO "users" ("created_at", "crypted_password", "updated_at", "username", "password_salt", "persistence_token", "email") VALUES('2009-09-01 02:59:15', 'dede1fa957767a44a2c19142969819566dbd001619ccaee00bd2fb941d361cbd9c8ac16a8e36e1d26403dcb567264d3e6cc24d2186abfded9a8e55f90f868980', '2009-09-01 02:59:15', 'jonathan', 'Nlt0RPqNilWutJrOTS8_', '92d2e4a94f9579dadbdb9ee12096118d75370bd20f0d43986fc5797eec9a24520d3e3513dde86beac8d9d771a478b971d6a717bbdb1da8a3b1aad2da4ed0c6cc', 'jonathan@linowes.com')[0m
Redirected to http://localhost:3000/
Completed in 164ms (DB: 1) | 302 Found [http://localhost/users]


Processing InfosController#welcome (for 127.0.0.1 at 2009-08-31 22:59:15) [GET]
  Parameters: {"action"=>"welcome", "controller"=>"infos"}
Rendering template within layouts/application
Rendering infos/welcome
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '92d2e4a94f9579dadbdb9ee12096118d75370bd20f0d43986fc5797eec9a24520d3e3513dde86beac8d9d771a478b971d6a717bbdb1da8a3b1aad2da4ed0c6cc') LIMIT 1[0m
Rendered layouts/_user_nav (0.3ms)
Completed in 25ms (View: 21, DB: 0) | 200 OK [http://localhost/]


Processing InfosController#index (for 127.0.0.1 at 2009-08-31 22:59:22) [GET]
  Parameters: {"action"=>"index", "controller"=>"infos"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '92d2e4a94f9579dadbdb9ee12096118d75370bd20f0d43986fc5797eec9a24520d3e3513dde86beac8d9d771a478b971d6a717bbdb1da8a3b1aad2da4ed0c6cc') LIMIT 1[0m
  [4;36;1mInfo Load (0.2ms)[0m   [0;1mSELECT * FROM "infos" [0m
Rendering template within layouts/application
Rendering infos/index
Rendered layouts/_user_nav (0.3ms)
Completed in 29ms (View: 6, DB: 1) | 200 OK [http://localhost/infos]


Processing InfosController#new (for 127.0.0.1 at 2009-08-31 22:59:24) [GET]
  Parameters: {"action"=>"new", "controller"=>"infos"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '92d2e4a94f9579dadbdb9ee12096118d75370bd20f0d43986fc5797eec9a24520d3e3513dde86beac8d9d771a478b971d6a717bbdb1da8a3b1aad2da4ed0c6cc') LIMIT 1[0m
Rendering template within layouts/application
Rendering infos/new
Rendered infos/_form (3.1ms)
Rendered layouts/_user_nav (0.3ms)
Completed in 34ms (View: 11, DB: 1) | 200 OK [http://localhost/infos/new]


Processing InfosController#create (for 127.0.0.1 at 2009-08-31 22:59:33) [POST]
  Parameters: {"commit"=>"Submit", "action"=>"create", "authenticity_token"=>"w+bzTurRgafRaqPoWQoVe8mJQWMbtVGgWbTW7rMpfTE=", "info"=>{"body"=>"This is A.", "title"=>"Aaa"}, "controller"=>"infos"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '92d2e4a94f9579dadbdb9ee12096118d75370bd20f0d43986fc5797eec9a24520d3e3513dde86beac8d9d771a478b971d6a717bbdb1da8a3b1aad2da4ed0c6cc') LIMIT 1[0m
  [4;35;1mInfo Create (0.7ms)[0m   [0mINSERT INTO "infos" ("created_at", "title", "body", "updated_at") VALUES('2009-09-01 02:59:33', 'Aaa', 'This is A.', '2009-09-01 02:59:33')[0m
Redirected to http://localhost:3000/infos/1
Completed in 29ms (DB: 1) | 302 Found [http://localhost/infos]


Processing InfosController#show (for 127.0.0.1 at 2009-08-31 22:59:33) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"infos"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '92d2e4a94f9579dadbdb9ee12096118d75370bd20f0d43986fc5797eec9a24520d3e3513dde86beac8d9d771a478b971d6a717bbdb1da8a3b1aad2da4ed0c6cc') LIMIT 1[0m
  [4;35;1mInfo Load (0.3ms)[0m   [0mSELECT * FROM "infos" WHERE ("infos"."id" = 1) [0m
Rendering template within layouts/application
Rendering infos/show
Rendered layouts/_user_nav (0.3ms)
Completed in 34ms (View: 9, DB: 1) | 200 OK [http://localhost/infos/1]


Processing InfosController#index (for 127.0.0.1 at 2009-08-31 22:59:35) [GET]
  Parameters: {"action"=>"index", "controller"=>"infos"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '92d2e4a94f9579dadbdb9ee12096118d75370bd20f0d43986fc5797eec9a24520d3e3513dde86beac8d9d771a478b971d6a717bbdb1da8a3b1aad2da4ed0c6cc') LIMIT 1[0m
  [4;35;1mInfo Load (0.5ms)[0m   [0mSELECT * FROM "infos" [0m
Rendering template within layouts/application
Rendering infos/index
Rendered layouts/_user_nav (0.3ms)
Completed in 29ms (View: 5, DB: 1) | 200 OK [http://localhost/infos]


Processing InfosController#new (for 127.0.0.1 at 2009-08-31 22:59:36) [GET]
  Parameters: {"action"=>"new", "controller"=>"infos"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '92d2e4a94f9579dadbdb9ee12096118d75370bd20f0d43986fc5797eec9a24520d3e3513dde86beac8d9d771a478b971d6a717bbdb1da8a3b1aad2da4ed0c6cc') LIMIT 1[0m
Rendering template within layouts/application
Rendering infos/new
Rendered infos/_form (2.9ms)
Rendered layouts/_user_nav (0.4ms)
Completed in 29ms (View: 6, DB: 0) | 200 OK [http://localhost/infos/new]


Processing InfosController#create (for 127.0.0.1 at 2009-08-31 22:59:44) [POST]
  Parameters: {"commit"=>"Submit", "action"=>"create", "authenticity_token"=>"w+bzTurRgafRaqPoWQoVe8mJQWMbtVGgWbTW7rMpfTE=", "info"=>{"body"=>"This is B.", "title"=>"Bbb"}, "controller"=>"infos"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '92d2e4a94f9579dadbdb9ee12096118d75370bd20f0d43986fc5797eec9a24520d3e3513dde86beac8d9d771a478b971d6a717bbdb1da8a3b1aad2da4ed0c6cc') LIMIT 1[0m
  [4;36;1mInfo Create (0.5ms)[0m   [0;1mINSERT INTO "infos" ("created_at", "title", "body", "updated_at") VALUES('2009-09-01 02:59:44', 'Bbb', 'This is B.', '2009-09-01 02:59:44')[0m
Redirected to http://localhost:3000/infos/2
Completed in 28ms (DB: 1) | 302 Found [http://localhost/infos]


Processing InfosController#show (for 127.0.0.1 at 2009-08-31 22:59:44) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"infos"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '92d2e4a94f9579dadbdb9ee12096118d75370bd20f0d43986fc5797eec9a24520d3e3513dde86beac8d9d771a478b971d6a717bbdb1da8a3b1aad2da4ed0c6cc') LIMIT 1[0m
  [4;36;1mInfo Load (0.4ms)[0m   [0;1mSELECT * FROM "infos" WHERE ("infos"."id" = 2) [0m
Rendering template within layouts/application
Rendering infos/show
Rendered layouts/_user_nav (0.3ms)
Completed in 29ms (View: 4, DB: 1) | 200 OK [http://localhost/infos/2]


Processing InfosController#index (for 127.0.0.1 at 2009-08-31 22:59:45) [GET]
  Parameters: {"action"=>"index", "controller"=>"infos"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '92d2e4a94f9579dadbdb9ee12096118d75370bd20f0d43986fc5797eec9a24520d3e3513dde86beac8d9d771a478b971d6a717bbdb1da8a3b1aad2da4ed0c6cc') LIMIT 1[0m
  [4;36;1mInfo Load (0.4ms)[0m   [0;1mSELECT * FROM "infos" [0m
Rendering template within layouts/application
Rendering infos/index
Rendered layouts/_user_nav (0.4ms)
Completed in 31ms (View: 8, DB: 1) | 200 OK [http://localhost/infos]


Processing UsersController#show (for 127.0.0.1 at 2009-08-31 23:02:30) [GET]
  Parameters: {"action"=>"show", "id"=>"current", "controller"=>"users"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '92d2e4a94f9579dadbdb9ee12096118d75370bd20f0d43986fc5797eec9a24520d3e3513dde86beac8d9d771a478b971d6a717bbdb1da8a3b1aad2da4ed0c6cc') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/show
Rendered layouts/_user_nav (0.3ms)
Completed in 24ms (View: 6, DB: 0) | 200 OK [http://localhost/users/current]


Processing UsersController#edit (for 127.0.0.1 at 2009-08-31 23:02:31) [GET]
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '92d2e4a94f9579dadbdb9ee12096118d75370bd20f0d43986fc5797eec9a24520d3e3513dde86beac8d9d771a478b971d6a717bbdb1da8a3b1aad2da4ed0c6cc') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
Rendered layouts/_user_nav (0.3ms)
Completed in 25ms (View: 7, DB: 0) | 200 OK [http://localhost/users/1/edit]


Processing InfosController#welcome (for 127.0.0.1 at 2009-08-31 23:02:35) [GET]
  Parameters: {"action"=>"welcome", "controller"=>"infos"}
Rendering template within layouts/application
Rendering infos/welcome
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '92d2e4a94f9579dadbdb9ee12096118d75370bd20f0d43986fc5797eec9a24520d3e3513dde86beac8d9d771a478b971d6a717bbdb1da8a3b1aad2da4ed0c6cc') LIMIT 1[0m
Rendered layouts/_user_nav (0.3ms)
Completed in 21ms (View: 18, DB: 0) | 200 OK [http://localhost/]


Processing UserSessionsController#destroy (for 127.0.0.1 at 2009-08-31 23:02:37) [GET]
  Parameters: {"action"=>"destroy", "controller"=>"user_sessions"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '92d2e4a94f9579dadbdb9ee12096118d75370bd20f0d43986fc5797eec9a24520d3e3513dde86beac8d9d771a478b971d6a717bbdb1da8a3b1aad2da4ed0c6cc') LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 20ms (DB: 0) | 302 Found [http://localhost/logout]


Processing InfosController#welcome (for 127.0.0.1 at 2009-08-31 23:02:37) [GET]
  Parameters: {"action"=>"welcome", "controller"=>"infos"}
Rendering template within layouts/application
Rendering infos/welcome
Rendered layouts/_user_nav (0.2ms)
Completed in 21ms (View: 18, DB: 0) | 200 OK [http://localhost/]


Processing InfosController#welcome (for 127.0.0.1 at 2009-09-01 00:03:54) [GET]
  Parameters: {"action"=>"welcome", "controller"=>"infos"}
Rendering template within layouts/application
Rendering infos/welcome
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

ActionView::TemplateError (undefined local variable or method `acts_as_subscriber' for #<Class:0x3519778>) on line #2 of app/views/infos/welcome.html.erb:
1: <h1>Welcome to Infos</h1>
2: <%= logged_in? ? link_to( "View Private Infos", infos_path) : link_to( "Login or Sign up", login_path) %>

    app/models/user.rb:3
    authlogic (2.1.1) lib/authlogic/session/klass.rb:33:in `klass'
    authlogic (2.1.1) lib/authlogic/session/password.rb:79:in `login_field'
    authlogic (2.1.1) lib/authlogic/session/password.rb:197:in `login_field'
    authlogic (2.1.1) lib/authlogic/session/password.rb:106:in `initialize'
    authlogic (2.1.1) lib/authlogic/session/activation.rb:48:in `initialize'
    authlogic (2.1.1) lib/authlogic/session/klass.rb:61:in `initialize'
    authlogic (2.1.1) lib/authlogic/session/scopes.rb:79:in `initialize'
    authlogic (2.1.1) lib/authlogic/session/persistence.rb:37:in `new'
    authlogic (2.1.1) lib/authlogic/session/persistence.rb:37:in `find'
    lib/authentication.rb:25:in `current_user_session'
    lib/authentication.rb:30:in `current_user'
    lib/authentication.rb:34:in `logged_in?'
    (eval):2:in `send'
    (eval):2:in `logged_in?'
    app/views/infos/welcome.html.erb:2

Rendered rescues/_trace (74.9ms)
Rendered rescues/_request_and_response (1.5ms)
Rendering rescues/layout (internal_server_error)


Processing InfosController#welcome (for 127.0.0.1 at 2009-09-01 00:04:20) [GET]
  Parameters: {"action"=>"welcome", "controller"=>"infos"}
Rendering template within layouts/application
Rendering infos/welcome
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

ActionView::TemplateError (undefined local variable or method `acts_as_subscriber' for #<Class:0x328cf3c>) on line #2 of app/views/infos/welcome.html.erb:
1: <h1>Welcome to Infos</h1>
2: <%= logged_in? ? link_to( "View Private Infos", infos_path) : link_to( "Login or Sign up", login_path) %>

    app/models/user.rb:3
    authlogic (2.1.1) lib/authlogic/session/klass.rb:33:in `klass'
    authlogic (2.1.1) lib/authlogic/session/password.rb:79:in `login_field'
    authlogic (2.1.1) lib/authlogic/session/password.rb:197:in `login_field'
    authlogic (2.1.1) lib/authlogic/session/password.rb:106:in `initialize'
    authlogic (2.1.1) lib/authlogic/session/activation.rb:48:in `initialize'
    authlogic (2.1.1) lib/authlogic/session/klass.rb:61:in `initialize'
    authlogic (2.1.1) lib/authlogic/session/scopes.rb:79:in `initialize'
    authlogic (2.1.1) lib/authlogic/session/persistence.rb:37:in `new'
    authlogic (2.1.1) lib/authlogic/session/persistence.rb:37:in `find'
    lib/authentication.rb:25:in `current_user_session'
    lib/authentication.rb:30:in `current_user'
    lib/authentication.rb:34:in `logged_in?'
    (eval):2:in `send'
    (eval):2:in `logged_in?'
    app/views/infos/welcome.html.erb:2

Rendered rescues/_trace (86.7ms)
Rendered rescues/_request_and_response (1.6ms)
Rendering rescues/layout (internal_server_error)


Processing InfosController#welcome (for 127.0.0.1 at 2009-09-01 00:06:53) [GET]
  Parameters: {"action"=>"welcome", "controller"=>"infos"}
Rendering template within layouts/application
Rendering infos/welcome
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

ActionView::TemplateError (undefined local variable or method `acts_as_subscriber' for #<Class:0x3431b58>) on line #2 of app/views/infos/welcome.html.erb:
1: <h1>Welcome to Infos</h1>
2: <%= logged_in? ? link_to( "View Private Infos", infos_path) : link_to( "Login or Sign up", login_path) %>

    app/models/user.rb:3
    authlogic (2.1.1) lib/authlogic/session/klass.rb:33:in `klass'
    authlogic (2.1.1) lib/authlogic/session/password.rb:79:in `login_field'
    authlogic (2.1.1) lib/authlogic/session/password.rb:197:in `login_field'
    authlogic (2.1.1) lib/authlogic/session/password.rb:106:in `initialize'
    authlogic (2.1.1) lib/authlogic/session/activation.rb:48:in `initialize'
    authlogic (2.1.1) lib/authlogic/session/klass.rb:61:in `initialize'
    authlogic (2.1.1) lib/authlogic/session/scopes.rb:79:in `initialize'
    authlogic (2.1.1) lib/authlogic/session/persistence.rb:37:in `new'
    authlogic (2.1.1) lib/authlogic/session/persistence.rb:37:in `find'
    lib/authentication.rb:25:in `current_user_session'
    lib/authentication.rb:30:in `current_user'
    lib/authentication.rb:34:in `logged_in?'
    (eval):2:in `send'
    (eval):2:in `logged_in?'
    app/views/infos/welcome.html.erb:2

Rendered rescues/_trace (71.7ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing InfosController#welcome (for 127.0.0.1 at 2009-09-01 00:15:17) [GET]
  Parameters: {"action"=>"welcome", "controller"=>"infos"}
Rendering template within layouts/application
Rendering infos/welcome

ActionView::TemplateError (uninitialized constant Saaslogic::Acts::Subscriber::InstanceMethods) on line #2 of app/views/infos/welcome.html.erb:
1: <h1>Welcome to Infos</h1>
2: <%= logged_in? ? link_to( "View Private Infos", infos_path) : link_to( "Login or Sign up", login_path) %>

    app/models/user.rb:3
    authlogic (2.1.1) lib/authlogic/session/klass.rb:33:in `klass'
    authlogic (2.1.1) lib/authlogic/session/password.rb:79:in `login_field'
    authlogic (2.1.1) lib/authlogic/session/password.rb:197:in `login_field'
    authlogic (2.1.1) lib/authlogic/session/password.rb:106:in `initialize'
    authlogic (2.1.1) lib/authlogic/session/activation.rb:48:in `initialize'
    authlogic (2.1.1) lib/authlogic/session/klass.rb:61:in `initialize'
    authlogic (2.1.1) lib/authlogic/session/scopes.rb:79:in `initialize'
    authlogic (2.1.1) lib/authlogic/session/persistence.rb:37:in `new'
    authlogic (2.1.1) lib/authlogic/session/persistence.rb:37:in `find'
    lib/authentication.rb:25:in `current_user_session'
    lib/authentication.rb:30:in `current_user'
    lib/authentication.rb:34:in `logged_in?'
    (eval):2:in `send'
    (eval):2:in `logged_in?'
    app/views/infos/welcome.html.erb:2

Rendered rescues/_trace (79.9ms)
Rendered rescues/_request_and_response (1.5ms)
Rendering rescues/layout (internal_server_error)


Processing InfosController#welcome (for 127.0.0.1 at 2009-09-01 00:17:59) [GET]
  Parameters: {"action"=>"welcome", "controller"=>"infos"}
Rendering template within layouts/application
Rendering infos/welcome
Rendered layouts/_user_nav (0.9ms)
Completed in 31ms (View: 28, DB: 0) | 200 OK [http://localhost/]


Processing UserSessionsController#new (for 127.0.0.1 at 2009-09-01 00:18:03) [GET]
  Parameters: {"action"=>"new", "controller"=>"user_sessions"}
Rendering template within layouts/application
Rendering user_sessions/new
Rendered layouts/_user_nav (1.1ms)
Completed in 24ms (View: 10, DB: 0) | 200 OK [http://localhost/login]


Processing UserSessionsController#create (for 127.0.0.1 at 2009-09-01 00:18:07) [POST]
  Parameters: {"commit"=>"Log in", "user_session"=>{"username"=>"jonathan@linowes.com", "password"=>"[FILTERED]"}, "action"=>"create", "authenticity_token"=>"w+bzTurRgafRaqPoWQoVe8mJQWMbtVGgWbTW7rMpfTE=", "controller"=>"user_sessions"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."username" = 'jonathan@linowes.com') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'jonathan@linowes.com') LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 49ms (DB: 1) | 302 Found [http://localhost/user_sessions]


Processing InfosController#welcome (for 127.0.0.1 at 2009-09-01 00:18:07) [GET]
  Parameters: {"action"=>"welcome", "controller"=>"infos"}
Rendering template within layouts/application
Rendering infos/welcome
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendered layouts/_user_nav (0.3ms)
Completed in 24ms (View: 22, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#show (for 127.0.0.1 at 2009-09-01 00:18:12) [GET]
  Parameters: {"action"=>"show", "id"=>"current", "controller"=>"users"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/show
Rendered layouts/_user_nav (0.3ms)
Completed in 30ms (View: 12, DB: 0) | 200 OK [http://localhost/users/current]


Processing UsersController#edit (for 127.0.0.1 at 2009-09-01 00:18:14) [GET]
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
Rendered layouts/_user_nav (0.3ms)
Completed in 28ms (View: 8, DB: 0) | 200 OK [http://localhost/users/1/edit]


Processing UserSessionsController#destroy (for 127.0.0.1 at 2009-09-01 00:18:19) [GET]
  Parameters: {"action"=>"destroy", "controller"=>"user_sessions"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 19ms (DB: 0) | 302 Found [http://localhost/logout]


Processing InfosController#welcome (for 127.0.0.1 at 2009-09-01 00:18:19) [GET]
  Parameters: {"action"=>"welcome", "controller"=>"infos"}
Rendering template within layouts/application
Rendering infos/welcome
Rendered layouts/_user_nav (0.2ms)
Completed in 19ms (View: 17, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mCREATE TABLE "infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "persistence_token" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (16.6ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901025004')[0m
  [4;35;1mSQL (4.9ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090901024918')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mCREATE TABLE "infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (23.3ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "persistence_token" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (5.1ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901025004')[0m
  [4;35;1mSQL (2.2ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090901024918')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mCREATE TABLE "infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "persistence_token" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (16.9ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (2.2ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (5.4ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901025004')[0m
  [4;35;1mSQL (1.7ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090901024918')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mCREATE TABLE "infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "persistence_token" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (1.9ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901025004')[0m
  [4;35;1mSQL (2.2ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090901024918')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mCREATE TABLE "infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (12.1ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "persistence_token" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (4.7ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901025004')[0m
  [4;35;1mSQL (5.0ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090901024918')[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20090901024918)
Migrating to CreateInfos (20090901025004)
Migrating to Saaslogic (20090901043747)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20090901024918)
Migrating to CreateInfos (20090901025004)
Migrating to SaaslogicMigration (20090901043747)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090901043747')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("infos")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("subscriptions")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mCREATE TABLE "infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (7.3ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "persistence_token" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (5.5ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901043747')[0m
  [4;35;1mSQL (2.1ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090901024918')[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901025004')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (2.0ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20090901024918)
  [4;36;1mSQL (0.8ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "persistence_token" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090901024918')[0m
Migrating to CreateInfos (20090901025004)
  [4;36;1mSQL (0.7ms)[0m   [0;1mCREATE TABLE "infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090901025004')[0m
Migrating to SaaslogicMigration (20090901043747)
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "plan_name" varchar(255), "state" varchar(255), "next_renewal_at" date, "billing_key" varchar(255), "billing_name" varchar(255), "billing_street" varchar(255), "billing_city" varchar(255), "billing_state" varchar(255), "billing_zipcode" varchar(255), "billing_phone" varchar(255), "cc_last_digits" varchar(255), "cc_expires_on" date, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCREATE TABLE "subscription_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer NOT NULL, "type" varchar(255), "amount_cents" integer, "raw_response" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCREATE TABLE "subscription_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "rate_cents" integer NOT NULL, "interval" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090901043747')[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("infos")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("subscription_plans")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("subscription_transactions")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("subscriptions")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.7ms)[0m   [0;1mCREATE TABLE "infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (10.4ms)[0m   [0;1mCREATE TABLE "subscription_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "rate_cents" integer NOT NULL, "interval" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mCREATE TABLE "subscription_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer NOT NULL, "type" varchar(255), "amount_cents" integer, "raw_response" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (9.3ms)[0m   [0;1mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "plan_name" varchar(255), "state" varchar(255), "next_renewal_at" date, "billing_key" varchar(255), "billing_name" varchar(255), "billing_street" varchar(255), "billing_city" varchar(255), "billing_state" varchar(255), "billing_zipcode" varchar(255), "billing_phone" varchar(255), "cc_last_digits" varchar(255), "cc_expires_on" date, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (5.1ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "persistence_token" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (5.2ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901043747')[0m
  [4;35;1mSQL (4.6ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090901024918')[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901025004')[0m
  [4;36;1mSQL (22.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.4ms)[0m   [0;1mCREATE TABLE "infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (51.3ms)[0m   [0;1mCREATE TABLE "subscription_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "rate_cents" integer NOT NULL, "interval" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.7ms)[0m   [0;1mCREATE TABLE "subscription_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer NOT NULL, "type" varchar(255), "amount_cents" integer, "raw_response" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.5ms)[0m   [0;1mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "plan_name" varchar(255), "state" varchar(255), "next_renewal_at" date, "billing_key" varchar(255), "billing_name" varchar(255), "billing_street" varchar(255), "billing_city" varchar(255), "billing_state" varchar(255), "billing_zipcode" varchar(255), "billing_phone" varchar(255), "cc_last_digits" varchar(255), "cc_expires_on" date, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.6ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "persistence_token" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (2.8ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901043747')[0m
  [4;35;1mSQL (2.3ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090901024918')[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901025004')[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mCREATE TABLE "infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mCREATE TABLE "subscription_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "rate_cents" integer NOT NULL, "interval" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mCREATE TABLE "subscription_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer NOT NULL, "type" varchar(255), "amount_cents" integer, "raw_response" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (7.0ms)[0m   [0;1mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "plan_name" varchar(255), "state" varchar(255), "next_renewal_at" date, "billing_key" varchar(255), "billing_name" varchar(255), "billing_street" varchar(255), "billing_city" varchar(255), "billing_state" varchar(255), "billing_zipcode" varchar(255), "billing_phone" varchar(255), "cc_last_digits" varchar(255), "cc_expires_on" date, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (6.0ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "persistence_token" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (4.8ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901043747')[0m
  [4;35;1mSQL (4.9ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090901024918')[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901025004')[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mCREATE TABLE "infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (63.3ms)[0m   [0;1mCREATE TABLE "subscription_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "rate_cents" integer NOT NULL, "interval" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mCREATE TABLE "subscription_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer NOT NULL, "type" varchar(255), "amount_cents" integer, "raw_response" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "plan_name" varchar(255), "state" varchar(255), "next_renewal_at" date, "billing_key" varchar(255), "billing_name" varchar(255), "billing_street" varchar(255), "billing_city" varchar(255), "billing_state" varchar(255), "billing_zipcode" varchar(255), "billing_phone" varchar(255), "cc_last_digits" varchar(255), "cc_expires_on" date, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.8ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "persistence_token" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (2.0ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (2.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901043747')[0m
  [4;35;1mSQL (1.8ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090901024918')[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901025004')[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mCREATE TABLE "infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (13.5ms)[0m   [0;1mCREATE TABLE "subscription_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "rate_cents" integer NOT NULL, "interval" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mCREATE TABLE "subscription_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer NOT NULL, "type" varchar(255), "amount_cents" integer, "raw_response" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (8.8ms)[0m   [0;1mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "plan_name" varchar(255), "state" varchar(255), "next_renewal_at" date, "billing_key" varchar(255), "billing_name" varchar(255), "billing_street" varchar(255), "billing_city" varchar(255), "billing_state" varchar(255), "billing_zipcode" varchar(255), "billing_phone" varchar(255), "cc_last_digits" varchar(255), "cc_expires_on" date, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (5.5ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "persistence_token" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (5.8ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (2.0ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (4.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901043747')[0m
  [4;35;1mSQL (1.9ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090901024918')[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901025004')[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mCREATE TABLE "infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (20.4ms)[0m   [0;1mCREATE TABLE "subscription_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "rate_cents" integer NOT NULL, "interval" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mCREATE TABLE "subscription_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer NOT NULL, "type" varchar(255), "amount_cents" integer, "raw_response" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (8.3ms)[0m   [0;1mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "plan_name" varchar(255), "state" varchar(255), "next_renewal_at" date, "billing_key" varchar(255), "billing_name" varchar(255), "billing_street" varchar(255), "billing_city" varchar(255), "billing_state" varchar(255), "billing_zipcode" varchar(255), "billing_phone" varchar(255), "cc_last_digits" varchar(255), "cc_expires_on" date, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.5ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "persistence_token" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (8.4ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901043747')[0m
  [4;35;1mSQL (1.9ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090901024918')[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901025004')[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mCREATE TABLE "infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (14.4ms)[0m   [0;1mCREATE TABLE "subscription_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "rate_cents" integer NOT NULL, "interval" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mCREATE TABLE "subscription_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer NOT NULL, "type" varchar(255), "amount_cents" integer, "raw_response" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "plan_name" varchar(255), "state" varchar(255), "next_renewal_at" date, "billing_key" varchar(255), "billing_name" varchar(255), "billing_street" varchar(255), "billing_city" varchar(255), "billing_state" varchar(255), "billing_zipcode" varchar(255), "billing_phone" varchar(255), "cc_last_digits" varchar(255), "cc_expires_on" date, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (4.5ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "persistence_token" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (5.0ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901043747')[0m
  [4;35;1mSQL (4.4ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090901024918')[0m
  [4;36;1mSQL (2.5ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901025004')[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mCREATE TABLE "infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (15.8ms)[0m   [0;1mCREATE TABLE "subscription_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "rate_cents" integer NOT NULL, "interval" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mCREATE TABLE "subscription_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer NOT NULL, "type" varchar(255), "amount_cents" integer, "raw_response" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "plan_name" varchar(255), "state" varchar(255), "next_renewal_at" date, "billing_key" varchar(255), "billing_name" varchar(255), "billing_street" varchar(255), "billing_city" varchar(255), "billing_state" varchar(255), "billing_zipcode" varchar(255), "billing_phone" varchar(255), "cc_last_digits" varchar(255), "cc_expires_on" date, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (4.6ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "persistence_token" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (5.5ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901043747')[0m
  [4;35;1mSQL (4.4ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090901024918')[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901025004')[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mCREATE TABLE "infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mCREATE TABLE "subscription_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "rate_cents" integer NOT NULL, "interval" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mCREATE TABLE "subscription_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer NOT NULL, "type" varchar(255), "amount_cents" integer, "raw_response" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (8.5ms)[0m   [0;1mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "plan_name" varchar(255), "state" varchar(255), "next_renewal_at" date, "billing_key" varchar(255), "billing_name" varchar(255), "billing_street" varchar(255), "billing_city" varchar(255), "billing_state" varchar(255), "billing_zipcode" varchar(255), "billing_phone" varchar(255), "cc_last_digits" varchar(255), "cc_expires_on" date, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.5ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "persistence_token" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (9.2ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901043747')[0m
  [4;35;1mSQL (4.6ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090901024918')[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901025004')[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mCREATE TABLE "infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mCREATE TABLE "subscription_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "rate_cents" integer NOT NULL, "interval" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mCREATE TABLE "subscription_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer NOT NULL, "type" varchar(255), "amount_cents" integer, "raw_response" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "plan_name" varchar(255), "state" varchar(255), "next_renewal_at" date, "billing_key" varchar(255), "billing_name" varchar(255), "billing_street" varchar(255), "billing_city" varchar(255), "billing_state" varchar(255), "billing_zipcode" varchar(255), "billing_phone" varchar(255), "cc_last_digits" varchar(255), "cc_expires_on" date, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (5.5ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "persistence_token" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (5.2ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901043747')[0m
  [4;35;1mSQL (5.0ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090901024918')[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901025004')[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (30.6ms)[0m   [0;1mCREATE TABLE "infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (15.8ms)[0m   [0;1mCREATE TABLE "subscription_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "rate_cents" integer NOT NULL, "interval" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mCREATE TABLE "subscription_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer NOT NULL, "type" varchar(255), "amount_cents" integer, "raw_response" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "plan_name" varchar(255), "state" varchar(255), "next_renewal_at" date, "billing_key" varchar(255), "billing_name" varchar(255), "billing_street" varchar(255), "billing_city" varchar(255), "billing_state" varchar(255), "billing_zipcode" varchar(255), "billing_phone" varchar(255), "cc_last_digits" varchar(255), "cc_expires_on" date, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (4.4ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "persistence_token" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (5.0ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901043747')[0m
  [4;35;1mSQL (4.6ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090901024918')[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901025004')[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mCREATE TABLE "infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (17.2ms)[0m   [0;1mCREATE TABLE "subscription_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "rate_cents" integer NOT NULL, "interval" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mCREATE TABLE "subscription_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer NOT NULL, "type" varchar(255), "amount_cents" integer, "raw_response" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "plan_name" varchar(255), "state" varchar(255), "next_renewal_at" date, "billing_key" varchar(255), "billing_name" varchar(255), "billing_street" varchar(255), "billing_city" varchar(255), "billing_state" varchar(255), "billing_zipcode" varchar(255), "billing_phone" varchar(255), "cc_last_digits" varchar(255), "cc_expires_on" date, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.5ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "persistence_token" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.5ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (8.1ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901043747')[0m
  [4;35;1mSQL (4.4ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090901024918')[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901025004')[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mCREATE TABLE "infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mCREATE TABLE "subscription_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "rate_cents" integer NOT NULL, "interval" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mCREATE TABLE "subscription_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer NOT NULL, "type" varchar(255), "amount_cents" integer, "raw_response" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (12.0ms)[0m   [0;1mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "plan_name" varchar(255), "state" varchar(255), "next_renewal_at" date, "billing_key" varchar(255), "billing_name" varchar(255), "billing_street" varchar(255), "billing_city" varchar(255), "billing_state" varchar(255), "billing_zipcode" varchar(255), "billing_phone" varchar(255), "cc_last_digits" varchar(255), "cc_expires_on" date, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "persistence_token" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (8.7ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901043747')[0m
  [4;35;1mSQL (1.9ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090901024918')[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901025004')[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mCREATE TABLE "infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (17.4ms)[0m   [0;1mCREATE TABLE "subscription_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "rate_cents" integer NOT NULL, "interval" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mCREATE TABLE "subscription_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer NOT NULL, "type" varchar(255), "amount_cents" integer, "raw_response" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (8.3ms)[0m   [0;1mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "plan_name" varchar(255), "state" varchar(255), "next_renewal_at" date, "billing_key" varchar(255), "billing_name" varchar(255), "billing_street" varchar(255), "billing_city" varchar(255), "billing_state" varchar(255), "billing_zipcode" varchar(255), "billing_phone" varchar(255), "cc_last_digits" varchar(255), "cc_expires_on" date, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "persistence_token" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (8.5ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901043747')[0m
  [4;35;1mSQL (4.7ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090901024918')[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901025004')[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mCREATE TABLE "infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (9.3ms)[0m   [0;1mCREATE TABLE "subscription_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "rate_cents" integer NOT NULL, "interval" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mCREATE TABLE "subscription_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer NOT NULL, "type" varchar(255), "amount_cents" integer, "raw_response" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (8.2ms)[0m   [0;1mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "plan_name" varchar(255), "state" varchar(255), "next_renewal_at" date, "billing_key" varchar(255), "billing_name" varchar(255), "billing_street" varchar(255), "billing_city" varchar(255), "billing_state" varchar(255), "billing_zipcode" varchar(255), "billing_phone" varchar(255), "cc_last_digits" varchar(255), "cc_expires_on" date, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (5.6ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "persistence_token" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (5.0ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901043747')[0m
  [4;35;1mSQL (5.0ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090901024918')[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901025004')[0m


Processing InfosController#welcome (for 127.0.0.1 at 2009-09-01 12:51:08) [GET]
  Parameters: {"action"=>"welcome", "controller"=>"infos"}
Rendering template within layouts/application
Rendering infos/welcome
Rendered layouts/_user_nav (1.1ms)
Completed in 38ms (View: 36, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2009-09-01 12:51:13) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Rendered layouts/_user_nav (4.0ms)
Completed in 27ms (View: 15, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-09-01 12:54:40) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"w+bzTurRgafRaqPoWQoVe8mJQWMbtVGgWbTW7rMpfTE=", "controller"=>"users", "user"=>{"password_confirmation"=>"[FILTERED]", "username"=>"foo", "password"=>"[FILTERED]", "email"=>"foo@example.com"}}
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'foo@example.com') LIMIT 1[0m
  [4;35;1mUser Exists (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."username") = 'foo') LIMIT 1[0m
  [4;36;1mUser Exists (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = '66f30d77cedf26a1215790c9e5f8ea0128f36f104c67340210dc0499f99ebe73fe6c35f7090d5b1a2f7969e4e495f140498dceb3eea1c2592f6fbf172a45d987') LIMIT 1[0m
  [4;35;1mUser Create (0.7ms)[0m   [0mINSERT INTO "users" ("created_at", "crypted_password", "updated_at", "username", "password_salt", "persistence_token", "email") VALUES('2009-09-01 16:54:40', '2efdc476b38bea99bdbe9238652cadedcd54cc73a402b3867a901e36ad9e821478939b314216194134e53556d7b5f3f3169617fc30e8e993fe73ffc8f4d8011e', '2009-09-01 16:54:40', 'foo', 'zq_8IILdHioW-u2XUEDr', '66f30d77cedf26a1215790c9e5f8ea0128f36f104c67340210dc0499f99ebe73fe6c35f7090d5b1a2f7969e4e495f140498dceb3eea1c2592f6fbf172a45d987', 'foo@example.com')[0m
Redirected to http://localhost:3000/
Completed in 274ms (DB: 1) | 302 Found [http://localhost/users]


Processing InfosController#welcome (for 127.0.0.1 at 2009-09-01 12:54:40) [GET]
  Parameters: {"action"=>"welcome", "controller"=>"infos"}
Rendering template within layouts/application
Rendering infos/welcome
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '66f30d77cedf26a1215790c9e5f8ea0128f36f104c67340210dc0499f99ebe73fe6c35f7090d5b1a2f7969e4e495f140498dceb3eea1c2592f6fbf172a45d987') LIMIT 1[0m
Rendered layouts/_user_nav (0.4ms)
Completed in 37ms (View: 34, DB: 1) | 200 OK [http://localhost/]


Processing UserSessionsController#destroy (for 127.0.0.1 at 2009-09-01 12:57:00) [GET]
  Parameters: {"action"=>"destroy", "controller"=>"user_sessions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '66f30d77cedf26a1215790c9e5f8ea0128f36f104c67340210dc0499f99ebe73fe6c35f7090d5b1a2f7969e4e495f140498dceb3eea1c2592f6fbf172a45d987') LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 21ms (DB: 0) | 302 Found [http://localhost/logout]


Processing InfosController#welcome (for 127.0.0.1 at 2009-09-01 12:57:00) [GET]
  Parameters: {"action"=>"welcome", "controller"=>"infos"}
Rendering template within layouts/application
Rendering infos/welcome
Rendered layouts/_user_nav (0.2ms)
Completed in 105ms (View: 103, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2009-09-01 12:57:01) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Rendered layouts/_user_nav (4.1ms)
Completed in 22ms (View: 10, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#new (for 127.0.0.1 at 2009-09-01 12:57:10) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Rendered layouts/_user_nav (4.0ms)
Completed in 21ms (View: 10, DB: 0) | 200 OK [http://localhost/signup]


Processing UserSessionsController#new (for 127.0.0.1 at 2009-09-01 13:04:20) [GET]
  Parameters: {"action"=>"new", "controller"=>"user_sessions"}
Rendering template within layouts/application
Rendering user_sessions/new
Rendered layouts/_user_nav (2.0ms)
Completed in 27ms (View: 12, DB: 0) | 200 OK [http://localhost/login]


Processing UserSessionsController#new (for 127.0.0.1 at 2009-09-01 13:04:40) [GET]
  Parameters: {"action"=>"new", "controller"=>"user_sessions"}
Rendering template within layouts/application
Rendering user_sessions/new
Rendered layouts/_user_nav (1.1ms)
Completed in 19ms (View: 4, DB: 0) | 200 OK [http://localhost/login]


Processing UserSessionsController#create (for 127.0.0.1 at 2009-09-01 13:04:44) [POST]
  Parameters: {"commit"=>"Log in", "user_session"=>{"username"=>"jonathan@linowes.com", "password"=>"[FILTERED]"}, "action"=>"create", "authenticity_token"=>"w+bzTurRgafRaqPoWQoVe8mJQWMbtVGgWbTW7rMpfTE=", "controller"=>"user_sessions"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."username" = 'jonathan@linowes.com') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'jonathan@linowes.com') LIMIT 1[0m
Rendering template within layouts/application
Rendering user_sessions/new
Rendered layouts/_user_nav (1.1ms)
Completed in 23ms (View: 5, DB: 0) | 200 OK [http://localhost/user_sessions]


Processing UserSessionsController#create (for 127.0.0.1 at 2009-09-01 13:08:51) [POST]
  Parameters: {"commit"=>"Log in", "user_session"=>{"username"=>"foo", "password"=>"[FILTERED]"}, "action"=>"create", "authenticity_token"=>"w+bzTurRgafRaqPoWQoVe8mJQWMbtVGgWbTW7rMpfTE=", "controller"=>"user_sessions"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."username" = 'foo') LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 154ms (DB: 1) | 302 Found [http://localhost/user_sessions]


Processing InfosController#welcome (for 127.0.0.1 at 2009-09-01 13:08:51) [GET]
  Parameters: {"action"=>"welcome", "controller"=>"infos"}
Rendering template within layouts/application
Rendering infos/welcome
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendered layouts/_user_nav (0.3ms)
Completed in 24ms (View: 21, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (1.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.1ms)[0m   [0;1mCREATE TABLE "infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mCREATE TABLE "subscription_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "rate_cents" integer NOT NULL, "interval" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.8ms)[0m   [0;1mCREATE TABLE "subscription_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer NOT NULL, "type" varchar(255), "amount_cents" integer, "raw_response" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "plan_name" varchar(255), "state" varchar(255), "next_renewal_at" date, "billing_key" varchar(255), "billing_name" varchar(255), "billing_street" varchar(255), "billing_city" varchar(255), "billing_state" varchar(255), "billing_zipcode" varchar(255), "billing_phone" varchar(255), "cc_last_digits" varchar(255), "cc_expires_on" date, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.8ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "persistence_token" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (2.2ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901043747')[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090901024918')[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901025004')[0m


Processing UsersController#show (for 127.0.0.1 at 2009-09-01 13:14:23) [GET]
  Parameters: {"action"=>"show", "id"=>"current", "controller"=>"users"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/show
Rendered layouts/_user_nav (0.3ms)
Completed in 25ms (View: 6, DB: 0) | 200 OK [http://localhost/users/current]


Processing UsersController#edit (for 127.0.0.1 at 2009-09-01 13:15:38) [GET]
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"users"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
Rendered layouts/_user_nav (0.3ms)
Completed in 26ms (View: 7, DB: 0) | 200 OK [http://localhost/users/1/edit]


Processing UsersController#update (for 127.0.0.1 at 2009-09-01 13:17:06) [PUT]
  Parameters: {"commit"=>"Submit", "action"=>"update", "_method"=>"put", "authenticity_token"=>"w+bzTurRgafRaqPoWQoVe8mJQWMbtVGgWbTW7rMpfTE=", "id"=>"1", "controller"=>"users", "user"=>{"password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "email"=>"changed@example.com"}}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'changed@example.com' AND "users".id <> 1) LIMIT 1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-09-01 17:17:06', "email" = 'changed@example.com' WHERE "id" = 1[0m
Redirected to http://localhost:3000/
Completed in 25ms (DB: 1) | 302 Found [http://localhost/users/1]


Processing InfosController#welcome (for 127.0.0.1 at 2009-09-01 13:17:06) [GET]
  Parameters: {"action"=>"welcome", "controller"=>"infos"}
Rendering template within layouts/application
Rendering infos/welcome
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendered layouts/_user_nav (0.3ms)
Completed in 22ms (View: 19, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSubscriptionPlan Load (0.3ms)[0m   [0;1mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."name" IS NULL) LIMIT 1[0m
  [4;35;1mSubscriptionPlan Load (0.2ms)[0m   [0mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."name" IS NULL) LIMIT 1[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to SaaslogicMigration (20090901043747)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.4ms)[0m   [0mDROP TABLE "subscription_plans"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP TABLE "subscription_transactions"[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDROP TABLE "subscriptions"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090901043747'[0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("infos")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20090901024918)
Migrating to CreateInfos (20090901025004)
Migrating to SaaslogicMigration (20090901043747)
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "plan_name" varchar(255), "state" varchar(255), "next_renewal_at" date, "billing_key" varchar(255), "billing_name" varchar(255), "billing_street" varchar(255), "billing_city" varchar(255), "billing_state" varchar(255), "billing_zipcode" varchar(255), "billing_phone" varchar(255), "cc_last_digits" varchar(255), "cc_expires_on" date, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCREATE TABLE "subscription_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer NOT NULL, "type" varchar(255), "amount_cents" integer, "raw_response" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCREATE TABLE "subscription_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "rate_cents" integer NOT NULL, "interval" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090901043747')[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("infos")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("subscription_plans")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("subscription_transactions")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("subscriptions")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;36;1mSubscriptionPlan Load (0.3ms)[0m   [0;1mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."name" IS NULL) LIMIT 1[0m
  [4;35;1mSubscriptionPlan Load (0.2ms)[0m   [0mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."name" IS NULL) LIMIT 1[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to SaaslogicMigration (20090901043747)
  [4;36;1mSQL (0.4ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.5ms)[0m   [0mDROP TABLE "subscription_plans"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDROP TABLE "subscription_transactions"[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDROP TABLE "subscriptions"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090901043747'[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("infos")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20090901024918)
Migrating to CreateInfos (20090901025004)
Migrating to SaaslogicMigration (20090901043747)
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "plan_name" varchar(255), "state" varchar(255), "next_renewal_at" date, "billing_key" varchar(255), "billing_name" varchar(255), "billing_street" varchar(255), "billing_city" varchar(255), "billing_state" varchar(255), "billing_zipcode" varchar(255), "billing_phone" varchar(255), "cc_last_digits" varchar(255), "cc_expires_on" date, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCREATE TABLE "subscription_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer NOT NULL, "type" varchar(255), "amount_cents" integer, "raw_response" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCREATE TABLE "subscription_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "rate_cents" integer NOT NULL, "interval" varchar(255), "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090901043747')[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("infos")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("subscription_plans")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("subscription_transactions")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("subscriptions")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to SaaslogicMigration (20090901043747)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.4ms)[0m   [0mDROP TABLE "subscription_plans"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDROP TABLE "subscription_transactions"[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDROP TABLE "subscriptions"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090901043747'[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("infos")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20090901024918)
Migrating to CreateInfos (20090901025004)
Migrating to SaaslogicMigration (20090901043747)
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "plan_name" varchar(255), "state" varchar(255), "next_renewal_at" date, "billing_key" varchar(255), "billing_name" varchar(255), "billing_street" varchar(255), "billing_city" varchar(255), "billing_state" varchar(255), "billing_zipcode" varchar(255), "billing_phone" varchar(255), "cc_last_digits" varchar(255), "cc_expires_on" date, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCREATE TABLE "subscription_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer NOT NULL, "type" varchar(255), "amount_cents" integer, "raw_response" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCREATE TABLE "subscription_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "rate_cents" integer NOT NULL, "interval" varchar(255), "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090901043747')[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("infos")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("subscription_plans")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("subscription_transactions")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("subscriptions")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;36;1mSubscriptionPlan Load (0.3ms)[0m   [0;1mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."name" IS NULL) LIMIT 1[0m
  [4;35;1mSubscriptionPlan Load (0.2ms)[0m   [0mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."name" IS NULL) LIMIT 1[0m
  [4;36;1mSubscriptionPlan Create (0.6ms)[0m   [0;1mINSERT INTO "subscription_plans" ("name", "created_at", "rate_cents", "updated_at", "interval", "info_create_edit") VALUES('basic', '2009-09-01 19:33:23', 2400, '2009-09-01 19:33:23', 'monthly', 'f')[0m
  [4;35;1mSubscriptionPlan Load (0.2ms)[0m   [0mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."name" IS NULL) LIMIT 1[0m
  [4;36;1mSubscriptionPlan Create (0.5ms)[0m   [0;1mINSERT INTO "subscription_plans" ("name", "created_at", "rate_cents", "updated_at", "interval", "info_create_edit") VALUES('plus', '2009-09-01 19:33:23', 4900, '2009-09-01 19:33:23', 'monthly', 't')[0m
  [4;36;1mSubscriptionPlan Load (0.3ms)[0m   [0;1mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."name" IS NULL) LIMIT 1[0m
  [4;35;1mSubscriptionPlan Load (0.2ms)[0m   [0mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."name" IS NULL) LIMIT 1[0m
  [4;36;1mSubscriptionPlan Create (0.6ms)[0m   [0;1mINSERT INTO "subscription_plans" ("name", "created_at", "rate_cents", "updated_at", "interval", "info_create_edit") VALUES('basic', '2009-09-01 19:41:06', 2400, '2009-09-01 19:41:06', 'monthly', 'f')[0m
  [4;35;1mSubscriptionPlan Load (0.3ms)[0m   [0mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."name" IS NULL) LIMIT 1[0m
  [4;36;1mSubscriptionPlan Create (67.0ms)[0m   [0;1mINSERT INTO "subscription_plans" ("name", "created_at", "rate_cents", "updated_at", "interval", "info_create_edit") VALUES('plus', '2009-09-01 19:41:06', 4900, '2009-09-01 19:41:06', 'monthly', 't')[0m
  [4;36;1mSubscriptionPlan Load (1.4ms)[0m   [0;1mSELECT * FROM "subscription_plans" [0m
  [4;36;1mSubscriptionPlan Load (0.2ms)[0m   [0;1mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."name" = 'free') LIMIT 1[0m
  [4;35;1mSubscriptionPlan Load (0.4ms)[0m   [0mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."name" = 'basic') LIMIT 1[0m
  [4;36;1mSubscriptionPlan Load (0.3ms)[0m   [0;1mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."name" = 'plus') LIMIT 1[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to SaaslogicMigration (20090901043747)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.4ms)[0m   [0mDROP TABLE "subscription_plans"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP TABLE "subscription_transactions"[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDROP TABLE "subscriptions"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090901043747'[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("infos")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20090901024918)
Migrating to CreateInfos (20090901025004)
Migrating to SaaslogicMigration (20090901043747)
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "plan_name" varchar(255), "state" varchar(255), "next_renewal_at" date, "billing_key" varchar(255), "billing_name" varchar(255), "billing_street" varchar(255), "billing_city" varchar(255), "billing_state" varchar(255), "billing_zipcode" varchar(255), "billing_phone" varchar(255), "cc_last_digits" varchar(255), "cc_expires_on" date, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mCREATE TABLE "subscription_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer NOT NULL, "type" varchar(255), "amount_cents" integer, "raw_response" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCREATE TABLE "subscription_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "rate_cents" integer NOT NULL, "interval" varchar(255), "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090901043747')[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("infos")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("subscription_plans")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("subscription_transactions")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("subscriptions")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;36;1mSubscriptionPlan Load (0.2ms)[0m   [0;1mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."name" = 'free') LIMIT 1[0m
  [4;35;1mSubscriptionPlan Load (0.2ms)[0m   [0mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."name" = 'basic') LIMIT 1[0m
  [4;36;1mSubscriptionPlan Create (0.7ms)[0m   [0;1mINSERT INTO "subscription_plans" ("name", "created_at", "rate_cents", "updated_at", "interval", "info_create_edit") VALUES('basic', '2009-09-01 19:44:29', 2400, '2009-09-01 19:44:29', 'monthly', 'f')[0m
  [4;35;1mSubscriptionPlan Load (0.2ms)[0m   [0mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."name" = 'plus') LIMIT 1[0m
  [4;36;1mSubscriptionPlan Create (0.5ms)[0m   [0;1mINSERT INTO "subscription_plans" ("name", "created_at", "rate_cents", "updated_at", "interval", "info_create_edit") VALUES('plus', '2009-09-01 19:44:29', 4900, '2009-09-01 19:44:29', 'monthly', 't')[0m
  [4;36;1mSubscriptionPlan Load (1.1ms)[0m   [0;1mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."name" = 'free') LIMIT 1[0m
  [4;35;1mSubscriptionPlan Load (0.4ms)[0m   [0mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."name" = 'basic') LIMIT 1[0m
  [4;36;1mSubscriptionPlan Load (0.4ms)[0m   [0;1mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."name" = 'plus') LIMIT 1[0m
  [4;36;1mSubscriptionPlan Load (0.2ms)[0m   [0;1mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."name" = 'free') LIMIT 1[0m
  [4;35;1mSubscriptionPlan Load (0.4ms)[0m   [0mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."name" = 'basic') LIMIT 1[0m
  [4;36;1mSubscriptionPlan Load (0.3ms)[0m   [0;1mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."name" = 'plus') LIMIT 1[0m
  [4;35;1mSubscriptionPlan Load (0.0ms)[0m   [0mSQLite3::SQLException: database schema has changed: SELECT * FROM "subscription_plans" [0m
  [4;36;1mSubscriptionPlan Load (0.7ms)[0m   [0;1mSELECT * FROM "subscription_plans" [0m
  [4;36;1mSubscriptionPlan Load (0.2ms)[0m   [0;1mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."name" = 'free') LIMIT 1[0m
  [4;35;1mSubscriptionPlan Load (0.4ms)[0m   [0mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."name" = 'basic') LIMIT 1[0m
  [4;36;1mSubscriptionPlan Load (0.3ms)[0m   [0;1mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."name" = 'plus') LIMIT 1[0m
  [4;36;1mSubscriptionPlan Load (0.2ms)[0m   [0;1mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."name" = 'free') LIMIT 1[0m
  [4;35;1mSubscriptionPlan Load (0.4ms)[0m   [0mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."name" = 'basic') LIMIT 1[0m
  [4;36;1mSubscriptionPlan Load (0.3ms)[0m   [0;1mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."name" = 'plus') LIMIT 1[0m
  [4;36;1mSubscriptionPlan Load (0.2ms)[0m   [0;1mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."name" = 'free') LIMIT 1[0m
  [4;35;1mSubscriptionPlan Load (0.4ms)[0m   [0mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."name" = 'basic') LIMIT 1[0m
  [4;36;1mSubscriptionPlan Load (0.3ms)[0m   [0;1mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."name" = 'plus') LIMIT 1[0m
  [4;36;1mSubscriptionPlan Load (0.2ms)[0m   [0;1mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."name" = 'free') LIMIT 1[0m
  [4;35;1mSubscriptionPlan Create (0.7ms)[0m   [0mINSERT INTO "subscription_plans" ("name", "created_at", "rate_cents", "updated_at", "interval", "info_create_edit") VALUES('free', '2009-09-01 19:55:15', 0, '2009-09-01 19:55:15', NULL, NULL)[0m
  [4;36;1mSubscriptionPlan Load (0.4ms)[0m   [0;1mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."name" = 'basic') LIMIT 1[0m
  [4;35;1mSubscriptionPlan Load (0.4ms)[0m   [0mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."name" = 'plus') LIMIT 1[0m
  [4;36;1mSubscriptionPlan Load (0.3ms)[0m   [0;1mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."name" = 'free') LIMIT 1[0m
  [4;35;1mSubscriptionPlan Load (0.4ms)[0m   [0mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."name" = 'basic') LIMIT 1[0m
  [4;36;1mSubscriptionPlan Load (0.3ms)[0m   [0;1mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."name" = 'plus') LIMIT 1[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.5ms)[0m   [0;1mCREATE TABLE "infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (65.7ms)[0m   [0;1mCREATE TABLE "subscription_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "rate_cents" integer NOT NULL, "interval" varchar(255), "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mCREATE TABLE "subscription_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer NOT NULL, "type" varchar(255), "amount_cents" integer, "raw_response" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "subscription_plan_id" integer, "state" varchar(255), "next_renewal_at" date, "refund_cents" integer, "billing_key" varchar(255), "billing_name" varchar(255), "billing_street" varchar(255), "billing_city" varchar(255), "billing_state" varchar(255), "billing_zipcode" varchar(255), "billing_phone" varchar(255), "cc_last_digits" varchar(255), "cc_expires_on" date, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "persistence_token" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (2.1ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (2.5ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901043747')[0m
  [4;35;1mSQL (1.9ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090901024918')[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901025004')[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mCREATE TABLE "infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (11.5ms)[0m   [0;1mCREATE TABLE "subscription_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "rate_cents" integer NOT NULL, "interval" varchar(255), "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mCREATE TABLE "subscription_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer NOT NULL, "type" varchar(255), "amount_cents" integer, "raw_response" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (8.1ms)[0m   [0;1mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "subscription_plan_id" integer, "state" varchar(255), "next_renewal_at" date, "refund_cents" integer, "billing_key" varchar(255), "billing_name" varchar(255), "billing_street" varchar(255), "billing_city" varchar(255), "billing_state" varchar(255), "billing_zipcode" varchar(255), "billing_phone" varchar(255), "cc_last_digits" varchar(255), "cc_expires_on" date, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (6.0ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "persistence_token" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (4.4ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901043747')[0m
  [4;35;1mSQL (5.0ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090901024918')[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901025004')[0m


Processing UserSessionsController#destroy (for 127.0.0.1 at 2009-09-01 18:51:13) [GET]
  Parameters: {"action"=>"destroy", "controller"=>"user_sessions"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 122ms (DB: 1) | 302 Found [http://localhost/logout]


Processing InfosController#welcome (for 127.0.0.1 at 2009-09-01 18:51:13) [GET]
  Parameters: {"action"=>"welcome", "controller"=>"infos"}
Rendering template within layouts/application
Rendering infos/welcome
Rendered layouts/_user_nav (0.1ms)
Completed in 23ms (View: 20, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2009-09-01 18:51:17) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.collect) on line #25 of app/views/users/new.html.erb:
22:   </p>
23: 	<p>
24: 		<%= f.label :subscription_plan %><br />
25: 		<%= f.select :subscription_plan, @allowed_plans.collect {|p| [ p.name, p.id ] } %>
26: 	</p>
27:   <p><%= f.submit "Sign up" %></p>
28: <% end %>

    app/views/users/new.html.erb:25
    app/views/users/new.html.erb:5

Rendered rescues/_trace (55.5ms)
Rendered rescues/_request_and_response (1.5ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#new (for 127.0.0.1 at 2009-09-01 18:51:46) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
  [4;35;1mSubscriptionPlan Load (0.6ms)[0m   [0mSELECT * FROM "subscription_plans" ORDER BY rate_cents[0m
Rendering template within layouts/application
Rendering users/new

ActionView::TemplateError (undefined method `subscription_plan' for #<User:0x2fdb2fc>) on line #25 of app/views/users/new.html.erb:
22:   </p>
23: 	<p>
24: 		<%= f.label :subscription_plan %><br />
25: 		<%= f.select :subscription_plan, @allowed_plans.collect {|p| [ p.name, p.id ] } %>
26: 	</p>
27:   <p><%= f.submit "Sign up" %></p>
28: <% end %>

    app/views/users/new.html.erb:25
    app/views/users/new.html.erb:5

Rendered rescues/_trace (60.6ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#new (for 127.0.0.1 at 2009-09-01 18:52:36) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
  [4;36;1mSubscriptionPlan Load (0.6ms)[0m   [0;1mSELECT * FROM "subscription_plans" ORDER BY rate_cents[0m
Rendering template within layouts/application
Rendering users/new

ActionView::TemplateError (undefined method `subscription_plan' for #<User:0x312d9fc>) on line #25 of app/views/users/new.html.erb:
22:   </p>
23: 	<p>
24: 		<%= f.label :subscription_plan %><br />
25: 		<%= f.select :subscription_plan, @allowed_plans.collect {|p| [ p.name, p.id ] } %>
26: 	</p>
27:   <p><%= f.submit "Sign up" %></p>
28: <% end %>

    app/views/users/new.html.erb:25
    app/views/users/new.html.erb:5

Rendered rescues/_trace (174.9ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#new (for 127.0.0.1 at 2009-09-01 18:52:53) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
  [4;36;1mSubscriptionPlan Load (0.7ms)[0m   [0;1mSELECT * FROM "subscription_plans" ORDER BY rate_cents[0m
Rendering template within layouts/application
Rendering users/new
Rendered layouts/_user_nav (4.9ms)
Completed in 58ms (View: 25, DB: 1) | 200 OK [http://localhost/signup]
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = 'd99a80c960fc43a60e0fcbd1471742a569664b66b91da58622a7c8f7528535d1da8288cc54deddac6331231693e1996d4d9d32124593b23d71e8d4381a9dd6d5') LIMIT 1[0m

***** Debugger requested, but was not available: Start server with --debugger to enable *****
  [4;36;1mSQL (1.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to SaaslogicMigration (20090901043747)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.5ms)[0m   [0mDROP TABLE "subscription_plans"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDROP TABLE "subscription_transactions"[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDROP TABLE "subscriptions"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090901043747'[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("infos")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20090901024918)
Migrating to CreateInfos (20090901025004)
Migrating to SaaslogicMigration (20090901043747)
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "plan_name" varchar(255), "state" varchar(255), "next_renewal_at" date, "billing_key" varchar(255), "billing_name" varchar(255), "billing_street" varchar(255), "billing_city" varchar(255), "billing_state" varchar(255), "billing_zipcode" varchar(255), "billing_phone" varchar(255), "cc_last_digits" varchar(255), "cc_expires_on" date, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCREATE TABLE "subscription_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer NOT NULL, "type" varchar(255), "amount_cents" integer, "raw_response" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCREATE TABLE "subscription_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "rate_cents" integer NOT NULL, "interval" varchar(255), "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090901043747')[0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("infos")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("subscription_plans")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("subscription_transactions")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("subscriptions")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;36;1mSubscriptionPlan Load (0.2ms)[0m   [0;1mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."name" = 'free') LIMIT 1[0m
  [4;35;1mSubscriptionPlan Create (0.8ms)[0m   [0mINSERT INTO "subscription_plans" ("name", "created_at", "rate_cents", "updated_at", "interval", "info_create_edit") VALUES('free', '2009-09-02 00:22:36', 0, '2009-09-02 00:22:36', NULL, NULL)[0m
  [4;36;1mSubscriptionPlan Load (0.2ms)[0m   [0;1mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."name" = 'basic') LIMIT 1[0m
  [4;35;1mSubscriptionPlan Create (0.5ms)[0m   [0mINSERT INTO "subscription_plans" ("name", "created_at", "rate_cents", "updated_at", "interval", "info_create_edit") VALUES('basic', '2009-09-02 00:22:36', 1000, '2009-09-02 00:22:36', 'monthly', 'f')[0m
  [4;36;1mSubscriptionPlan Load (0.3ms)[0m   [0;1mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."name" = 'pro') LIMIT 1[0m
  [4;35;1mSubscriptionPlan Create (0.6ms)[0m   [0mINSERT INTO "subscription_plans" ("name", "created_at", "rate_cents", "updated_at", "interval", "info_create_edit") VALUES('pro', '2009-09-02 00:22:36', 2500, '2009-09-02 00:22:36', 'monthly', 't')[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mCREATE TABLE "infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (16.3ms)[0m   [0;1mCREATE TABLE "subscription_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "rate_cents" integer NOT NULL, "interval" varchar(255), "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mCREATE TABLE "subscription_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer NOT NULL, "type" varchar(255), "amount_cents" integer, "raw_response" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (8.4ms)[0m   [0;1mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "plan_name" varchar(255), "state" varchar(255), "next_renewal_at" date, "billing_key" varchar(255), "billing_name" varchar(255), "billing_street" varchar(255), "billing_city" varchar(255), "billing_state" varchar(255), "billing_zipcode" varchar(255), "billing_phone" varchar(255), "cc_last_digits" varchar(255), "cc_expires_on" date, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "persistence_token" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.7ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (2.1ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (4.3ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901043747')[0m
  [4;35;1mSQL (1.8ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090901024918')[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901025004')[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to SaaslogicMigration (20090901043747)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.5ms)[0m   [0mDROP TABLE "subscription_plans"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDROP TABLE "subscription_transactions"[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDROP TABLE "subscriptions"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090901043747'[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("infos")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20090901024918)
Migrating to CreateInfos (20090901025004)
Migrating to SaaslogicMigration (20090901043747)
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "subscription_plan_id" integer, "state" varchar(255), "next_renewal_at" date, "billing_key" varchar(255), "billing_name" varchar(255), "billing_street" varchar(255), "billing_city" varchar(255), "billing_state" varchar(255), "billing_zipcode" varchar(255), "billing_phone" varchar(255), "cc_last_digits" varchar(255), "cc_expires_on" date, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCREATE TABLE "subscription_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer NOT NULL, "type" varchar(255), "amount_cents" integer, "raw_response" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCREATE TABLE "subscription_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "rate_cents" integer NOT NULL, "interval" varchar(255), "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090901043747')[0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("infos")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("subscription_plans")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("subscription_transactions")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("subscriptions")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mCREATE TABLE "infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (12.2ms)[0m   [0;1mCREATE TABLE "subscription_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "rate_cents" integer NOT NULL, "interval" varchar(255), "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (5.8ms)[0m   [0;1mCREATE TABLE "subscription_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer NOT NULL, "type" varchar(255), "amount_cents" integer, "raw_response" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (4.2ms)[0m   [0;1mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "subscription_plan_id" integer, "state" varchar(255), "next_renewal_at" date, "billing_key" varchar(255), "billing_name" varchar(255), "billing_street" varchar(255), "billing_city" varchar(255), "billing_state" varchar(255), "billing_zipcode" varchar(255), "billing_phone" varchar(255), "cc_last_digits" varchar(255), "cc_expires_on" date, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "persistence_token" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (8.7ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901043747')[0m
  [4;35;1mSQL (4.4ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090901024918')[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901025004')[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.8ms)[0m   [0;1mCREATE TABLE "infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (12.3ms)[0m   [0;1mCREATE TABLE "subscription_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "rate_cents" integer NOT NULL, "interval" varchar(255), "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mCREATE TABLE "subscription_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer NOT NULL, "type" varchar(255), "amount_cents" integer, "raw_response" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (8.2ms)[0m   [0;1mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "subscription_plan_id" integer, "state" varchar(255), "next_renewal_at" date, "billing_key" varchar(255), "billing_name" varchar(255), "billing_street" varchar(255), "billing_city" varchar(255), "billing_state" varchar(255), "billing_zipcode" varchar(255), "billing_phone" varchar(255), "cc_last_digits" varchar(255), "cc_expires_on" date, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "persistence_token" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (2.0ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (5.4ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901043747')[0m
  [4;35;1mSQL (1.7ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090901024918')[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901025004')[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mCREATE TABLE "infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (44.7ms)[0m   [0;1mCREATE TABLE "subscription_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "rate_cents" integer NOT NULL, "interval" varchar(255), "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.7ms)[0m   [0;1mCREATE TABLE "subscription_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer NOT NULL, "type" varchar(255), "amount_cents" integer, "raw_response" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "subscription_plan_id" integer, "state" varchar(255), "next_renewal_at" date, "billing_key" varchar(255), "billing_name" varchar(255), "billing_street" varchar(255), "billing_city" varchar(255), "billing_state" varchar(255), "billing_zipcode" varchar(255), "billing_phone" varchar(255), "cc_last_digits" varchar(255), "cc_expires_on" date, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.5ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "persistence_token" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.9ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (2.3ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901043747')[0m
  [4;35;1mSQL (2.5ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090901024918')[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901025004')[0m
  [4;36;1mSubscriptionPlan Load (0.3ms)[0m   [0;1mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."rate_cents" = 0) LIMIT 1[0m
  [4;36;1mSubscriptionPlan Load (0.3ms)[0m   [0;1mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."rate_cents" = 0) LIMIT 1[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to SaaslogicMigration (20090901043747)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.8ms)[0m   [0mDROP TABLE "subscription_plans"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mDROP TABLE "subscription_transactions"[0m
  [4;35;1mSQL (0.5ms)[0m   [0mDROP TABLE "subscriptions"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090901043747'[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("infos")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20090901024918)
Migrating to CreateInfos (20090901025004)
Migrating to SaaslogicMigration (20090901043747)
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "subscription_plan_id" integer, "state" varchar(255), "next_renewal_at" date, "billing_key" varchar(255), "billing_name" varchar(255), "billing_street" varchar(255), "billing_city" varchar(255), "billing_state" varchar(255), "billing_zipcode" varchar(255), "billing_phone" varchar(255), "cc_last_digits" varchar(255), "cc_expires_on" date, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mCREATE TABLE "subscription_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer NOT NULL, "type" varchar(255), "amount_cents" integer, "raw_response" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCREATE TABLE "subscription_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "rate_cents" integer NOT NULL, "interval" varchar(255), "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090901043747')[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("infos")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("subscription_plans")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("subscription_transactions")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("subscriptions")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mCREATE TABLE "infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (11.2ms)[0m   [0;1mCREATE TABLE "subscription_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "rate_cents" integer NOT NULL, "interval" varchar(255), "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (6.3ms)[0m   [0;1mCREATE TABLE "subscription_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer NOT NULL, "type" varchar(255), "amount_cents" integer, "raw_response" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (4.5ms)[0m   [0;1mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "subscription_plan_id" integer, "state" varchar(255), "next_renewal_at" date, "billing_key" varchar(255), "billing_name" varchar(255), "billing_street" varchar(255), "billing_city" varchar(255), "billing_state" varchar(255), "billing_zipcode" varchar(255), "billing_phone" varchar(255), "cc_last_digits" varchar(255), "cc_expires_on" date, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.7ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "persistence_token" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (8.1ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901043747')[0m
  [4;35;1mSQL (4.8ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090901024918')[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901025004')[0m
  [4;36;1mSubscriptionPlan Load (0.3ms)[0m   [0;1mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."rate_cents" = 0) LIMIT 1[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mCREATE TABLE "infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (4.5ms)[0m   [0;1mCREATE TABLE "subscription_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "rate_cents" integer NOT NULL, "interval" varchar(255), "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mCREATE TABLE "subscription_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer NOT NULL, "type" varchar(255), "amount_cents" integer, "raw_response" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "subscription_plan_id" integer, "state" varchar(255), "next_renewal_at" date, "billing_key" varchar(255), "billing_name" varchar(255), "billing_street" varchar(255), "billing_city" varchar(255), "billing_state" varchar(255), "billing_zipcode" varchar(255), "billing_phone" varchar(255), "cc_last_digits" varchar(255), "cc_expires_on" date, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (4.3ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "persistence_token" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (5.2ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901043747')[0m
  [4;35;1mSQL (4.7ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090901024918')[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901025004')[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to SaaslogicMigration (20090901043747)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (34.5ms)[0m   [0mDROP TABLE "subscription_plans"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mDROP TABLE "subscription_transactions"[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDROP TABLE "subscriptions"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090901043747'[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("infos")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20090901024918)
Migrating to CreateInfos (20090901025004)
Migrating to SaaslogicMigration (20090901043747)
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "subscription_plan_id" integer, "state" varchar(255), "next_renewal_at" date, "billing_key" varchar(255), "billing_name" varchar(255), "billing_street" varchar(255), "billing_city" varchar(255), "billing_state" varchar(255), "billing_zipcode" varchar(255), "billing_phone" varchar(255), "cc_last_digits" varchar(255), "cc_expires_on" date, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mCREATE TABLE "subscription_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer NOT NULL, "type" varchar(255), "amount_cents" integer, "raw_response" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0mCREATE TABLE "subscription_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "rate_cents" integer DEFAULT 0, "interval" integer DEFAULT 1, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090901043747')[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("infos")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("subscription_plans")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("subscription_transactions")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("subscriptions")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mCREATE TABLE "infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mCREATE TABLE "subscription_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "rate_cents" integer DEFAULT 0, "interval" integer DEFAULT 1, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (5.5ms)[0m   [0;1mCREATE TABLE "subscription_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer NOT NULL, "type" varchar(255), "amount_cents" integer, "raw_response" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (4.5ms)[0m   [0;1mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "subscription_plan_id" integer, "state" varchar(255), "next_renewal_at" date, "billing_key" varchar(255), "billing_name" varchar(255), "billing_street" varchar(255), "billing_city" varchar(255), "billing_state" varchar(255), "billing_zipcode" varchar(255), "billing_phone" varchar(255), "cc_last_digits" varchar(255), "cc_expires_on" date, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "persistence_token" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (8.5ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901043747')[0m
  [4;35;1mSQL (1.7ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090901024918')[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901025004')[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mCREATE TABLE "infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mCREATE TABLE "subscription_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "rate_cents" integer DEFAULT 0, "interval" integer DEFAULT 1, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (6.0ms)[0m   [0;1mCREATE TABLE "subscription_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer NOT NULL, "type" varchar(255), "amount_cents" integer, "raw_response" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (4.2ms)[0m   [0;1mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "subscription_plan_id" integer, "state" varchar(255), "next_renewal_at" date, "billing_key" varchar(255), "billing_name" varchar(255), "billing_street" varchar(255), "billing_city" varchar(255), "billing_state" varchar(255), "billing_zipcode" varchar(255), "billing_phone" varchar(255), "cc_last_digits" varchar(255), "cc_expires_on" date, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "persistence_token" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (2.0ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (4.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901043747')[0m
  [4;35;1mSQL (1.9ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090901024918')[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901025004')[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (11.9ms)[0m   [0;1mCREATE TABLE "infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mCREATE TABLE "subscription_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "rate_cents" integer DEFAULT 0, "interval" integer DEFAULT 1, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (6.6ms)[0m   [0;1mCREATE TABLE "subscription_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer NOT NULL, "type" varchar(255), "amount_cents" integer, "raw_response" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (4.2ms)[0m   [0;1mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "subscription_plan_id" integer, "state" varchar(255), "next_renewal_at" date, "billing_key" varchar(255), "billing_name" varchar(255), "billing_street" varchar(255), "billing_city" varchar(255), "billing_state" varchar(255), "billing_zipcode" varchar(255), "billing_phone" varchar(255), "cc_last_digits" varchar(255), "cc_expires_on" date, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "persistence_token" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (2.1ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901043747')[0m
  [4;35;1mSQL (4.2ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090901024918')[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901025004')[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.6ms)[0m   [0;1mCREATE TABLE "infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.7ms)[0m   [0;1mCREATE TABLE "subscription_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "rate_cents" integer DEFAULT 0, "interval" integer DEFAULT 1, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mCREATE TABLE "subscription_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer NOT NULL, "type" varchar(255), "amount_cents" integer, "raw_response" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.7ms)[0m   [0;1mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "subscription_plan_id" integer, "state" varchar(255), "next_renewal_at" date, "billing_key" varchar(255), "billing_name" varchar(255), "billing_street" varchar(255), "billing_city" varchar(255), "billing_state" varchar(255), "billing_zipcode" varchar(255), "billing_phone" varchar(255), "cc_last_digits" varchar(255), "cc_expires_on" date, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "persistence_token" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.8ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (2.1ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901043747')[0m
  [4;35;1mSQL (2.2ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090901024918')[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901025004')[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to SaaslogicMigration (20090901043747)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSQLite3::SQLException: no such table: subscription_billings: DROP TABLE "subscription_billings"[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (15.5ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20090901024918)
  [4;36;1mSQL (0.7ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "persistence_token" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090901024918')[0m
Migrating to CreateInfos (20090901025004)
  [4;36;1mSQL (0.6ms)[0m   [0;1mCREATE TABLE "infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090901025004')[0m
Migrating to SaaslogicMigration (20090901043747)
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "plan_id" integer, "state" varchar(255), "next_renewal_at" date, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mCREATE TABLE "subscription_billings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer, "state" varchar(255), "gateway_key" varchar(255), "fullname" varchar(255), "address1" varchar(255), "address2" varchar(255), "city" varchar(255), "st" varchar(255), "zipcode" varchar(255), "phone" varchar(255), "cc_last_digits" varchar(255), "cc_expires_on" date, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mCREATE TABLE "subscription_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "billing_id" integer NOT NULL, "action" varchar(255), "amount_cents" integer, "success" boolean, "authorization" varchar(255), "message" varchar(255), "params" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCREATE TABLE "subscription_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "rate_cents" integer DEFAULT 0, "interval" integer DEFAULT 1, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090901043747')[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("infos")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("subscription_billings")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("subscription_plans")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("subscription_transactions")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("subscriptions")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mCREATE TABLE "infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (19.4ms)[0m   [0;1mCREATE TABLE "subscription_billings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer, "state" varchar(255), "gateway_key" varchar(255), "fullname" varchar(255), "address1" varchar(255), "address2" varchar(255), "city" varchar(255), "st" varchar(255), "zipcode" varchar(255), "phone" varchar(255), "cc_last_digits" varchar(255), "cc_expires_on" date, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mCREATE TABLE "subscription_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "rate_cents" integer DEFAULT 0, "interval" integer DEFAULT 1, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (7.2ms)[0m   [0;1mCREATE TABLE "subscription_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "billing_id" integer NOT NULL, "action" varchar(255), "amount_cents" integer, "success" boolean, "authorization" varchar(255), "message" varchar(255), "params" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "plan_id" integer, "state" varchar(255), "next_renewal_at" date, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "persistence_token" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (2.2ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901043747')[0m
  [4;35;1mSQL (7.2ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090901024918')[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901025004')[0m


Processing InfosController#welcome (for 127.0.0.1 at 2009-09-03 02:30:45) [GET]
  Parameters: {"action"=>"welcome", "controller"=>"infos"}
Rendering template within layouts/application
Rendering infos/welcome
Rendered layouts/_user_nav (0.9ms)
Completed in 37ms (View: 35, DB: 0) | 200 OK [http://localhost/]


Processing UserSessionsController#new (for 127.0.0.1 at 2009-09-03 02:30:49) [GET]
  Parameters: {"action"=>"new", "controller"=>"user_sessions"}
Rendering template within layouts/application
Rendering user_sessions/new
Rendered layouts/_user_nav (1.0ms)
Completed in 22ms (View: 8, DB: 0) | 200 OK [http://localhost/login]


Processing UserSessionsController#create (for 127.0.0.1 at 2009-09-03 02:30:56) [POST]
  Parameters: {"commit"=>"Log in", "user_session"=>{"username"=>"jonathan@linowes.com", "password"=>"[FILTERED]"}, "action"=>"create", "authenticity_token"=>"DTCdpMb+VgY3wMbzGlOzteA8SjSvrjrHvtTK4FX0POg=", "controller"=>"user_sessions"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."username" = 'jonathan@linowes.com') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'jonathan@linowes.com') LIMIT 1[0m
Rendering template within layouts/application
Rendering user_sessions/new
Rendered layouts/_user_nav (1.1ms)
Completed in 28ms (View: 4, DB: 0) | 200 OK [http://localhost/user_sessions]


Processing UsersController#new (for 127.0.0.1 at 2009-09-03 02:31:01) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
  [4;36;1mSubscriptionPlan Load (0.3ms)[0m   [0;1mSELECT * FROM "subscription_plans" ORDER BY rate_cents[0m
Rendering template within layouts/application
Rendering users/new
  [4;35;1mSubscriptionPlan Load (0.3ms)[0m   [0mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."rate_cents" = 0) LIMIT 1[0m
  [4;36;1mSubscriptionPlan Create (1.2ms)[0m   [0;1mINSERT INTO "subscription_plans" ("name", "created_at", "rate_cents", "updated_at", "interval", "info_create_edit") VALUES('free', '2009-09-03 06:31:01', 0, '2009-09-03 06:31:01', 1, NULL)[0m
Rendered layouts/_user_nav (4.1ms)
Completed in 174ms (View: 74, DB: 2) | 200 OK [http://localhost/signup]
  [4;36;1mSubscriptionPlan Load (0.3ms)[0m   [0;1mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."name" = 'free') LIMIT 1[0m
  [4;35;1mSubscriptionPlan Load (0.2ms)[0m   [0mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."name" = 'basic') LIMIT 1[0m
  [4;36;1mSubscriptionPlan Create (0.7ms)[0m   [0;1mINSERT INTO "subscription_plans" ("name", "created_at", "rate_cents", "updated_at", "interval", "info_create_edit") VALUES('basic', '2009-09-03 06:32:09', 1000, '2009-09-03 06:32:09', 1, 'f')[0m
  [4;35;1mSubscriptionPlan Load (0.2ms)[0m   [0mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."name" = 'pro') LIMIT 1[0m
  [4;36;1mSubscriptionPlan Create (0.5ms)[0m   [0;1mINSERT INTO "subscription_plans" ("name", "created_at", "rate_cents", "updated_at", "interval", "info_create_edit") VALUES('pro', '2009-09-03 06:32:09', 30000, '2009-09-03 06:32:09', 12, 't')[0m


Processing UsersController#new (for 127.0.0.1 at 2009-09-03 02:32:33) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
  [4;35;1mSubscriptionPlan Load (0.6ms)[0m   [0mSELECT * FROM "subscription_plans" ORDER BY rate_cents[0m
Rendering template within layouts/application
Rendering users/new
Rendered layouts/_user_nav (4.0ms)
Completed in 23ms (View: 10, DB: 1) | 200 OK [http://localhost/signup]


Processing UsersController#create (for 127.0.0.1 at 2009-09-03 02:32:51) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"DTCdpMb+VgY3wMbzGlOzteA8SjSvrjrHvtTK4FX0POg=", "controller"=>"users", "user"=>{"password_confirmation"=>"[FILTERED]", "subscription_plan"=>"2", "username"=>"jonathan", "password"=>"[FILTERED]", "email"=>"jonathan@linowes.com"}}
  [4;36;1mSubscriptionPlan Load (0.4ms)[0m   [0;1mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."id" = 2) [0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'jonathan@linowes.com') LIMIT 1[0m
  [4;36;1mUser Exists (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."username") = 'jonathan') LIMIT 1[0m
  [4;35;1mUser Exists (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = '1b2ffb7728ea60f90e5acb8fa11997862fe340e11d4fc3176f4bce1c6eba291e64df107def6c149bf6c51f4f87e885defcc4e3f3251c5527a352e4b8f1880ae9') LIMIT 1[0m
  [4;36;1mUser Create (0.5ms)[0m   [0;1mINSERT INTO "users" ("created_at", "crypted_password", "updated_at", "username", "password_salt", "persistence_token", "email") VALUES('2009-09-03 06:32:51', '1a5b4ffe6392aa50c294559df1516cdaa6f592a8a59637da81cdeea2adb3cd0af70eb6a94fd9e9b73f716b663d7a93ff04de0c45d1869e56b6477b45af2d6bf9', '2009-09-03 06:32:51', 'jonathan', 'craMQ966oCvMOrrKOA6S', '1b2ffb7728ea60f90e5acb8fa11997862fe340e11d4fc3176f4bce1c6eba291e64df107def6c149bf6c51f4f87e885defcc4e3f3251c5527a352e4b8f1880ae9', 'jonathan@linowes.com')[0m
  [4;35;1mSubscription Create (0.2ms)[0m   [0mINSERT INTO "subscriptions" ("created_at", "updated_at", "subscriber_id", "subscriber_type", "next_renewal_at", "info_create_edit", "plan_id", "state") VALUES('2009-09-03 06:32:51', '2009-09-03 06:32:51', 1, 'User', NULL, NULL, 2, 'pending')[0m

NoMethodError (undefined method `next_renewal_on=' for #<Subscription:0x3225d00>):
  /opt/local/lib/ruby/gems/1.8/gems/rubyist-aasm-2.1.1/lib/aasm/state.rb:22:in `send'
  /opt/local/lib/ruby/gems/1.8/gems/rubyist-aasm-2.1.1/lib/aasm/state.rb:22:in `call_action'
  /opt/local/lib/ruby/gems/1.8/gems/rubyist-aasm-2.1.1/lib/aasm/aasm.rb:156:in `aasm_fire_event'
  /opt/local/lib/ruby/gems/1.8/gems/rubyist-aasm-2.1.1/lib/aasm/aasm.rb:65:in `begin_trial'
  app/controllers/users_controller.rb:13:in `create'

Rendered rescues/_trace (86.3ms)
Rendered rescues/_request_and_response (1.7ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (1.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to SaaslogicMigration (20090901043747)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (34.5ms)[0m   [0mDROP TABLE "subscription_billings"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mDROP TABLE "subscription_plans"[0m
  [4;35;1mSQL (0.5ms)[0m   [0mDROP TABLE "subscription_transactions"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mDROP TABLE "subscriptions"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20090901043747'[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("infos")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20090901024918)
Migrating to CreateInfos (20090901025004)
Migrating to SaaslogicMigration (20090901043747)
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "plan_id" integer, "state" varchar(255), "next_renewal_on" date, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "subscription_billings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer, "state" varchar(255), "gateway_key" varchar(255), "fullname" varchar(255), "address1" varchar(255), "address2" varchar(255), "city" varchar(255), "st" varchar(255), "zipcode" varchar(255), "phone" varchar(255), "cc_last_digits" varchar(255), "cc_expires_on" date, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "subscription_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "billing_id" integer NOT NULL, "action" varchar(255), "amount_cents" integer, "success" boolean, "authorization" varchar(255), "message" varchar(255), "params" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "subscription_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "rate_cents" integer DEFAULT 0, "interval" integer DEFAULT 1, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090901043747')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("infos")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("subscription_billings")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("subscription_plans")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("subscription_transactions")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("subscriptions")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;36;1mSubscriptionPlan Load (0.2ms)[0m   [0;1mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."name" = 'free') LIMIT 1[0m
  [4;35;1mSubscriptionPlan Create (0.7ms)[0m   [0mINSERT INTO "subscription_plans" ("name", "created_at", "rate_cents", "updated_at", "interval", "info_create_edit") VALUES('free', '2009-09-03 06:34:08', 0, '2009-09-03 06:34:08', 1, NULL)[0m
  [4;36;1mSubscriptionPlan Load (0.3ms)[0m   [0;1mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."name" = 'basic') LIMIT 1[0m
  [4;35;1mSubscriptionPlan Create (0.6ms)[0m   [0mINSERT INTO "subscription_plans" ("name", "created_at", "rate_cents", "updated_at", "interval", "info_create_edit") VALUES('basic', '2009-09-03 06:34:08', 1000, '2009-09-03 06:34:08', 1, 'f')[0m
  [4;36;1mSubscriptionPlan Load (0.3ms)[0m   [0;1mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."name" = 'pro') LIMIT 1[0m
  [4;35;1mSubscriptionPlan Create (0.6ms)[0m   [0mINSERT INTO "subscription_plans" ("name", "created_at", "rate_cents", "updated_at", "interval", "info_create_edit") VALUES('pro', '2009-09-03 06:34:08', 30000, '2009-09-03 06:34:08', 12, 't')[0m


Processing UsersController#create (for 127.0.0.1 at 2009-09-03 02:34:34) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"DTCdpMb+VgY3wMbzGlOzteA8SjSvrjrHvtTK4FX0POg=", "controller"=>"users", "user"=>{"password_confirmation"=>"[FILTERED]", "subscription_plan"=>"2", "username"=>"jonathan", "password"=>"[FILTERED]", "email"=>"jonathan@linowes.com"}}
  [4;36;1mSubscriptionPlan Load (0.4ms)[0m   [0;1mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."id" = 2) [0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'jonathan@linowes.com') LIMIT 1[0m
  [4;36;1mUser Exists (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."username") = 'jonathan') LIMIT 1[0m
  [4;35;1mUser Exists (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = 'bcf07b51be454bc264d6e5bf2c6bb05dc51856cefa3ef57824dea607d7c055dbc397b5cff3a16c00f63b85472cf2b17bb674db03f16ae0b155e72817c0346d04') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '1b2ffb7728ea60f90e5acb8fa11997862fe340e11d4fc3176f4bce1c6eba291e64df107def6c149bf6c51f4f87e885defcc4e3f3251c5527a352e4b8f1880ae9') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '1b2ffb7728ea60f90e5acb8fa11997862fe340e11d4fc3176f4bce1c6eba291e64df107def6c149bf6c51f4f87e885defcc4e3f3251c5527a352e4b8f1880ae9') LIMIT 1[0m
  [4;36;1mUser Create (0.7ms)[0m   [0;1mINSERT INTO "users" ("created_at", "crypted_password", "updated_at", "username", "password_salt", "persistence_token", "email") VALUES('2009-09-03 06:34:34', '80e75e863fc7023cdfa1892c19117f700efb56004099879d1d1df691ee5a244b0358e1cde3e58bd13eb0af068313bcc00c12152c4baa4d5e7bbbaceaa5bafb6e', '2009-09-03 06:34:34', 'jonathan', '4-1SNLfFdYzO3PI6zrer', 'bcf07b51be454bc264d6e5bf2c6bb05dc51856cefa3ef57824dea607d7c055dbc397b5cff3a16c00f63b85472cf2b17bb674db03f16ae0b155e72817c0346d04', 'jonathan@linowes.com')[0m
  [4;35;1mSubscription Create (0.2ms)[0m   [0mINSERT INTO "subscriptions" ("created_at", "updated_at", "subscriber_id", "subscriber_type", "info_create_edit", "next_renewal_on", "plan_id", "state") VALUES('2009-09-03 06:34:34', '2009-09-03 06:34:34', 1, 'User', NULL, NULL, 2, 'pending')[0m
Redirected to http://localhost:3000/
Completed in 273ms (DB: 2) | 302 Found [http://localhost/users]


Processing InfosController#welcome (for 127.0.0.1 at 2009-09-03 02:34:35) [GET]
  Parameters: {"action"=>"welcome", "controller"=>"infos"}
Rendering template within layouts/application
Rendering infos/welcome
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'bcf07b51be454bc264d6e5bf2c6bb05dc51856cefa3ef57824dea607d7c055dbc397b5cff3a16c00f63b85472cf2b17bb674db03f16ae0b155e72817c0346d04') LIMIT 1[0m
Rendered layouts/_user_nav (1.3ms)
Completed in 39ms (View: 37, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#show (for 127.0.0.1 at 2009-09-03 02:34:39) [GET]
  Parameters: {"action"=>"show", "id"=>"current", "controller"=>"users"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'bcf07b51be454bc264d6e5bf2c6bb05dc51856cefa3ef57824dea607d7c055dbc397b5cff3a16c00f63b85472cf2b17bb674db03f16ae0b155e72817c0346d04') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/show
Rendered layouts/_user_nav (0.3ms)
Completed in 27ms (View: 7, DB: 0) | 200 OK [http://localhost/users/current]


Processing UsersController#edit (for 127.0.0.1 at 2009-09-03 02:34:41) [GET]
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'bcf07b51be454bc264d6e5bf2c6bb05dc51856cefa3ef57824dea607d7c055dbc397b5cff3a16c00f63b85472cf2b17bb674db03f16ae0b155e72817c0346d04') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
Rendered layouts/_user_nav (0.3ms)
Completed in 29ms (View: 8, DB: 0) | 200 OK [http://localhost/users/1/edit]
  [4;36;1mSQL (1.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mCREATE TABLE "infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (13.5ms)[0m   [0;1mCREATE TABLE "subscription_billings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer, "state" varchar(255), "gateway_key" varchar(255), "fullname" varchar(255), "address1" varchar(255), "address2" varchar(255), "city" varchar(255), "st" varchar(255), "zipcode" varchar(255), "phone" varchar(255), "cc_last_digits" varchar(255), "cc_expires_on" date, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mCREATE TABLE "subscription_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "rate_cents" integer DEFAULT 0, "interval" integer DEFAULT 1, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (6.0ms)[0m   [0;1mCREATE TABLE "subscription_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "billing_id" integer NOT NULL, "action" varchar(255), "amount_cents" integer, "success" boolean, "authorization" varchar(255), "message" varchar(255), "params" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "plan_id" integer, "state" varchar(255), "next_renewal_on" date, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "persistence_token" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (2.4ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901043747')[0m
  [4;35;1mSQL (6.1ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090901024918')[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901025004')[0m


Processing UsersController#show (for 127.0.0.1 at 2009-09-03 04:01:37) [GET]
  Parameters: {"action"=>"show", "id"=>"current", "controller"=>"users"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'bcf07b51be454bc264d6e5bf2c6bb05dc51856cefa3ef57824dea607d7c055dbc397b5cff3a16c00f63b85472cf2b17bb674db03f16ae0b155e72817c0346d04') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/show

ActionView::TemplateError (Missing template users/_subscription_sidebar.erb in view path app/views) on line #3 of app/views/users/show.html.erb:
1: <% title "Show User Profile" %>
2: 
3: <%= render "subscription_sidebar" %>
4: 
5: <p>
6:   <strong>Username:</strong>

    app/views/users/show.html.erb:3

Rendered rescues/_trace (57.3ms)
Rendered rescues/_request_and_response (1.5ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#show (for 127.0.0.1 at 2009-09-03 04:02:42) [GET]
  Parameters: {"action"=>"show", "id"=>"current", "controller"=>"users"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'bcf07b51be454bc264d6e5bf2c6bb05dc51856cefa3ef57824dea607d7c055dbc397b5cff3a16c00f63b85472cf2b17bb674db03f16ae0b155e72817c0346d04') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/show
  [4;35;1mSubscription Load (0.5ms)[0m   [0mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 1 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
  [4;36;1mSubscriptionPlan Load (0.5ms)[0m   [0;1mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."id" = 2) [0m
Rendered users/_sidebar (4.7ms)
Rendered layouts/_user_nav (3.1ms)
Completed in 40ms (View: 16, DB: 2) | 200 OK [http://localhost/users/current]
  [4;36;1mSQL (7.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to SaaslogicMigration (20090901043747)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.3ms)[0m   [0mDROP TABLE "subscription_billings"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDROP TABLE "subscription_plans"[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDROP TABLE "subscription_transactions"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDROP TABLE "subscriptions"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20090901043747'[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("infos")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20090901024918)
Migrating to CreateInfos (20090901025004)
Migrating to SaaslogicMigration (20090901043747)
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "plan_id" integer, "state" varchar(255), "next_renewal_on" date, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "subscription_billings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer, "state" varchar(255), "gateway_key" varchar(255), "fullname" varchar(255), "address1" varchar(255), "address2" varchar(255), "city" varchar(255), "st" varchar(255), "zipcode" varchar(255), "phone" varchar(255), "cc_type" varchar(255), "cc_last_digits" varchar(255), "cc_expires_on" date, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "subscription_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer NOT NULL, "action" varchar(255), "amount_cents" integer, "success" boolean, "authorization" varchar(255), "message" varchar(255), "params" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "subscription_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "rate_cents" integer DEFAULT 0, "interval" integer DEFAULT 1, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090901043747')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("infos")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("subscription_billings")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("subscription_plans")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("subscription_transactions")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("subscriptions")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mCREATE TABLE "infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (42.4ms)[0m   [0;1mCREATE TABLE "subscription_billings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer, "state" varchar(255), "gateway_key" varchar(255), "fullname" varchar(255), "address1" varchar(255), "address2" varchar(255), "city" varchar(255), "st" varchar(255), "zipcode" varchar(255), "phone" varchar(255), "cc_type" varchar(255), "cc_last_digits" varchar(255), "cc_expires_on" date, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.9ms)[0m   [0;1mCREATE TABLE "subscription_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "rate_cents" integer DEFAULT 0, "interval" integer DEFAULT 1, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mCREATE TABLE "subscription_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer NOT NULL, "action" varchar(255), "amount_cents" integer, "success" boolean, "authorization" varchar(255), "message" varchar(255), "params" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.1ms)[0m   [0;1mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "plan_id" integer, "state" varchar(255), "next_renewal_on" date, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "persistence_token" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (3.1ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901043747')[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090901024918')[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901025004')[0m
  [4;36;1mSubscriptionPlan Load (0.2ms)[0m   [0;1mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."name" = 'free') LIMIT 1[0m
  [4;35;1mSubscriptionPlan Create (0.7ms)[0m   [0mINSERT INTO "subscription_plans" ("name", "created_at", "rate_cents", "updated_at", "interval", "info_create_edit") VALUES('free', '2009-09-03 09:16:11', 0, '2009-09-03 09:16:11', 1, NULL)[0m
  [4;36;1mSubscriptionPlan Load (0.3ms)[0m   [0;1mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."name" = 'basic') LIMIT 1[0m
  [4;35;1mSubscriptionPlan Create (0.5ms)[0m   [0mINSERT INTO "subscription_plans" ("name", "created_at", "rate_cents", "updated_at", "interval", "info_create_edit") VALUES('basic', '2009-09-03 09:16:11', 1000, '2009-09-03 09:16:11', 1, 'f')[0m
  [4;36;1mSubscriptionPlan Load (0.3ms)[0m   [0;1mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."name" = 'pro') LIMIT 1[0m
  [4;35;1mSubscriptionPlan Create (0.6ms)[0m   [0mINSERT INTO "subscription_plans" ("name", "created_at", "rate_cents", "updated_at", "interval", "info_create_edit") VALUES('pro', '2009-09-03 09:16:11', 30000, '2009-09-03 09:16:11', 12, 't')[0m


Processing InfosController#welcome (for 127.0.0.1 at 2009-09-03 05:16:32) [GET]
  Parameters: {"action"=>"welcome", "controller"=>"infos"}
Rendering template within layouts/application
Rendering infos/welcome
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'bcf07b51be454bc264d6e5bf2c6bb05dc51856cefa3ef57824dea607d7c055dbc397b5cff3a16c00f63b85472cf2b17bb674db03f16ae0b155e72817c0346d04') LIMIT 1[0m
Rendered layouts/_user_nav (11.0ms)
Completed in 93ms (View: 90, DB: 1) | 200 OK [http://localhost/]


Processing InfosController#welcome (for 127.0.0.1 at 2009-09-03 05:16:36) [GET]
  Parameters: {"action"=>"welcome", "controller"=>"infos"}
Rendering template within layouts/application
Rendering infos/welcome
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'bcf07b51be454bc264d6e5bf2c6bb05dc51856cefa3ef57824dea607d7c055dbc397b5cff3a16c00f63b85472cf2b17bb674db03f16ae0b155e72817c0346d04') LIMIT 1[0m
Rendered layouts/_user_nav (0.4ms)
Completed in 23ms (View: 20, DB: 0) | 200 OK [http://localhost/]


Processing InfosController#welcome (for 127.0.0.1 at 2009-09-03 05:16:37) [GET]
  Parameters: {"action"=>"welcome", "controller"=>"infos"}
Rendering template within layouts/application
Rendering infos/welcome
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'bcf07b51be454bc264d6e5bf2c6bb05dc51856cefa3ef57824dea607d7c055dbc397b5cff3a16c00f63b85472cf2b17bb674db03f16ae0b155e72817c0346d04') LIMIT 1[0m
Rendered layouts/_user_nav (0.3ms)
Completed in 100ms (View: 97, DB: 1) | 200 OK [http://localhost/]


Processing UserSessionsController#destroy (for 127.0.0.1 at 2009-09-03 05:16:39) [GET]
  Parameters: {"action"=>"destroy", "controller"=>"user_sessions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'bcf07b51be454bc264d6e5bf2c6bb05dc51856cefa3ef57824dea607d7c055dbc397b5cff3a16c00f63b85472cf2b17bb674db03f16ae0b155e72817c0346d04') LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 19ms (DB: 0) | 302 Found [http://localhost/logout]


Processing InfosController#welcome (for 127.0.0.1 at 2009-09-03 05:16:39) [GET]
  Parameters: {"action"=>"welcome", "controller"=>"infos"}
Rendering template within layouts/application
Rendering infos/welcome
Rendered layouts/_user_nav (0.2ms)
Completed in 20ms (View: 17, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2009-09-03 05:16:42) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
  [4;36;1mSubscriptionPlan Load (0.7ms)[0m   [0;1mSELECT * FROM "subscription_plans" ORDER BY rate_cents[0m
Rendering template within layouts/application
Rendering users/new
  [4;35;1mSubscriptionPlan Load (0.4ms)[0m   [0mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."rate_cents" = 0) LIMIT 1[0m
Rendered layouts/_user_nav (4.0ms)
Completed in 83ms (View: 64, DB: 1) | 200 OK [http://localhost/signup]


Processing UsersController#create (for 127.0.0.1 at 2009-09-03 05:16:55) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"DTCdpMb+VgY3wMbzGlOzteA8SjSvrjrHvtTK4FX0POg=", "controller"=>"users", "user"=>{"password_confirmation"=>"[FILTERED]", "subscription_plan"=>"2", "username"=>"jonathan", "password"=>"[FILTERED]", "email"=>"jonathan@linowes.com"}}
  [4;36;1mSubscriptionPlan Load (0.4ms)[0m   [0;1mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."id" = 2) [0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'jonathan@linowes.com') LIMIT 1[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."username") = 'jonathan') LIMIT 1[0m
  [4;35;1mUser Exists (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = 'fd3d58eb0c01929a9e8933a1879faeb1cdc633006575303ec1048d317d2d66e771ea3abf85558fc5b0ecb36d3b9fc3ff5e087aa81320f518958ac0fef7a543e8') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.collect) on line #25 of app/views/users/new.html.erb:
22:   </p>
23: 	<p>
24: 		<%= f.label :subscription_plan %><br />
25: 		<%= f.select :subscription_plan, @allowed_plans.collect {|p| [ p.name, p.id ] } %>
26: 	</p>
27:   <p><%= f.submit "Sign up" %></p>
28: <% end %>

    app/views/users/new.html.erb:25
    app/views/users/new.html.erb:5
    app/controllers/users_controller.rb:17:in `create'

Rendered rescues/_trace (62.6ms)
Rendered rescues/_request_and_response (1.8ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#index (for 127.0.0.1 at 2009-09-03 05:17:28) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
Redirected to http://localhost:3000/login
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 14ms (DB: 0) | 302 Found [http://localhost/users]


Processing UserSessionsController#new (for 127.0.0.1 at 2009-09-03 05:17:28) [GET]
  Parameters: {"action"=>"new", "controller"=>"user_sessions"}
Rendering template within layouts/application
Rendering user_sessions/new
Rendered layouts/_user_nav (1.0ms)
Completed in 31ms (View: 14, DB: 0) | 200 OK [http://localhost/login]


Processing UsersController#new (for 127.0.0.1 at 2009-09-03 05:17:35) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
  [4;36;1mSubscriptionPlan Load (0.6ms)[0m   [0;1mSELECT * FROM "subscription_plans" ORDER BY rate_cents[0m
Rendering template within layouts/application
Rendering users/new
Rendered layouts/_user_nav (4.0ms)
Completed in 23ms (View: 10, DB: 1) | 200 OK [http://localhost/signup]


Processing UsersController#create (for 127.0.0.1 at 2009-09-03 05:17:46) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"DTCdpMb+VgY3wMbzGlOzteA8SjSvrjrHvtTK4FX0POg=", "controller"=>"users", "user"=>{"password_confirmation"=>"[FILTERED]", "subscription_plan"=>"2", "username"=>"jonathan", "password"=>"[FILTERED]", "email"=>"jonathan@linowes.com"}}
  [4;35;1mSubscriptionPlan Load (0.4ms)[0m   [0mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."id" = 2) [0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'jonathan@linowes.com') LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."username") = 'jonathan') LIMIT 1[0m
  [4;36;1mUser Exists (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = '1eae5bf8e1ee49b0b7d8bd3eb0237c29234ab8d49e31cba31818be400e43f02ce889e4ccd32cfce1fac1f08fe4909b4121e5308f79b97ef94e822c6b384ed604') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.collect) on line #25 of app/views/users/new.html.erb:
22:   </p>
23: 	<p>
24: 		<%= f.label :subscription_plan %><br />
25: 		<%= f.select :subscription_plan, @allowed_plans.collect {|p| [ p.name, p.id ] } %>
26: 	</p>
27:   <p><%= f.submit "Sign up" %></p>
28: <% end %>

    app/views/users/new.html.erb:25
    app/views/users/new.html.erb:5
    app/controllers/users_controller.rb:17:in `create'

Rendered rescues/_trace (166.2ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSubscriptionPlan Load (0.3ms)[0m   [0;1mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."name" = 'free') LIMIT 1[0m
  [4;35;1mSubscriptionPlan Load (0.3ms)[0m   [0mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."name" = 'basic') LIMIT 1[0m
  [4;36;1mSubscriptionPlan Load (0.3ms)[0m   [0;1mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."name" = 'pro') LIMIT 1[0m


Processing UsersController#create (for 127.0.0.1 at 2009-09-03 05:19:23) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"DTCdpMb+VgY3wMbzGlOzteA8SjSvrjrHvtTK4FX0POg=", "controller"=>"users", "user"=>{"password_confirmation"=>"[FILTERED]", "subscription_plan"=>"2", "username"=>"jonathan", "password"=>"[FILTERED]", "email"=>"jonathan@linowes.com"}}
  [4;36;1mSubscriptionPlan Load (0.4ms)[0m   [0;1mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."id" = 2) [0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'jonathan@linowes.com') LIMIT 1[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."username") = 'jonathan') LIMIT 1[0m
  [4;35;1mUser Exists (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = '2025c2aa4553e3f55ee9b69919a3449b1d46ccdec33e01f645858810c4d3c12aec4669b541a3d05ea7770e97e0f38330343b24ac15ad0e117fa2dbd18c2a9734') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.collect) on line #25 of app/views/users/new.html.erb:
22:   </p>
23: 	<p>
24: 		<%= f.label :subscription_plan %><br />
25: 		<%= f.select :subscription_plan, @allowed_plans.collect {|p| [ p.name, p.id ] } %>
26: 	</p>
27:   <p><%= f.submit "Sign up" %></p>
28: <% end %>

    app/views/users/new.html.erb:25
    app/views/users/new.html.erb:5
    app/controllers/users_controller.rb:17:in `create'

Rendered rescues/_trace (62.1ms)
Rendered rescues/_request_and_response (1.6ms)
Rendering rescues/layout (internal_server_error)


Processing InfosController#welcome (for 127.0.0.1 at 2009-09-03 05:19:30) [GET]
  Parameters: {"action"=>"welcome", "controller"=>"infos"}
Rendering template within layouts/application
Rendering infos/welcome
Rendered layouts/_user_nav (0.9ms)
Completed in 119ms (View: 116, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2009-09-03 05:19:33) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
  [4;36;1mSubscriptionPlan Load (0.7ms)[0m   [0;1mSELECT * FROM "subscription_plans" ORDER BY rate_cents[0m
Rendering template within layouts/application
Rendering users/new
  [4;35;1mSubscriptionPlan Load (0.4ms)[0m   [0mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."rate_cents" = 0) LIMIT 1[0m
Rendered layouts/_user_nav (4.1ms)
Completed in 26ms (View: 12, DB: 1) | 200 OK [http://localhost/signup]


Processing UsersController#create (for 127.0.0.1 at 2009-09-03 05:19:46) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"DTCdpMb+VgY3wMbzGlOzteA8SjSvrjrHvtTK4FX0POg=", "controller"=>"users", "user"=>{"password_confirmation"=>"[FILTERED]", "subscription_plan"=>"2", "username"=>"jonathan", "password"=>"[FILTERED]", "email"=>"jonathan@linowes.com"}}
  [4;36;1mSubscriptionPlan Load (0.4ms)[0m   [0;1mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."id" = 2) [0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'jonathan@linowes.com') LIMIT 1[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."username") = 'jonathan') LIMIT 1[0m
  [4;35;1mUser Exists (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = 'd5c35447b7619c5c5239c1c7390859f874886a5554b95db5902c824ef2029762885b07aa470970adf1e4994192320cbb8e7dd6336f6f8434b31d3d43704fa83d') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.collect) on line #25 of app/views/users/new.html.erb:
22:   </p>
23: 	<p>
24: 		<%= f.label :subscription_plan %><br />
25: 		<%= f.select :subscription_plan, @allowed_plans.collect {|p| [ p.name, p.id ] } %>
26: 	</p>
27:   <p><%= f.submit "Sign up" %></p>
28: <% end %>

    app/views/users/new.html.erb:25
    app/views/users/new.html.erb:5
    app/controllers/users_controller.rb:17:in `create'

Rendered rescues/_trace (57.3ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#create (for 127.0.0.1 at 2009-09-03 05:20:49) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"DTCdpMb+VgY3wMbzGlOzteA8SjSvrjrHvtTK4FX0POg=", "controller"=>"users", "user"=>{"password_confirmation"=>"[FILTERED]", "subscription_plan"=>"2", "username"=>"jonathan", "password"=>"[FILTERED]", "email"=>"jonathan@linowes.com"}}
  [4;36;1mSubscriptionPlan Load (0.9ms)[0m   [0;1mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."id" = 2) [0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'jonathan@linowes.com') LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."username") = 'jonathan') LIMIT 1[0m
  [4;35;1mUser Exists (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = '49401af3c03bbbe4b0b4cb0afd5108074a139c5518eace7f9c0052938f3379ba4c0e79630a1817bd88805ef9bb24804c8899bd6fa7272f719c90c79744a52c8a') LIMIT 1[0m
  [4;36;1mSubscriptionPlan Load (0.6ms)[0m   [0;1mSELECT * FROM "subscription_plans" ORDER BY rate_cents[0m
Rendering template within layouts/application
Rendering users/new
Rendered layouts/_user_nav (4.3ms)
Completed in 156ms (View: 9, DB: 2) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2009-09-03 05:21:02) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"DTCdpMb+VgY3wMbzGlOzteA8SjSvrjrHvtTK4FX0POg=", "controller"=>"users", "user"=>{"password_confirmation"=>"[FILTERED]", "subscription_plan"=>"1", "username"=>"jonathanx", "password"=>"[FILTERED]", "email"=>"jonathan@linowes.com"}}
  [4;35;1mSubscriptionPlan Load (0.5ms)[0m   [0mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."id" = 1) [0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'jonathan@linowes.com') LIMIT 1[0m
  [4;35;1mUser Exists (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."username") = 'jonathanx') LIMIT 1[0m
  [4;36;1mUser Exists (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = 'fbc9b373d7d076190f9428993b6f0dc5b6fd687699a58c04452832ac5fe2333ea2d9835dd07240c2c94838719655fdaaad4f22c3d971727e6fe76744dd990905') LIMIT 1[0m
  [4;35;1mSubscriptionPlan Load (0.5ms)[0m   [0mSELECT * FROM "subscription_plans" ORDER BY rate_cents[0m
Rendering template within layouts/application
Rendering users/new
Rendered layouts/_user_nav (4.1ms)
Completed in 33ms (View: 8, DB: 2) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2009-09-03 05:21:09) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"DTCdpMb+VgY3wMbzGlOzteA8SjSvrjrHvtTK4FX0POg=", "controller"=>"users", "user"=>{"password_confirmation"=>"[FILTERED]", "subscription_plan"=>"1", "username"=>"jonathanx", "password"=>"[FILTERED]", "email"=>"jonathanx@linowes.com"}}
  [4;36;1mSubscriptionPlan Load (0.5ms)[0m   [0;1mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."id" = 1) [0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'jonathanx@linowes.com') LIMIT 1[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."username") = 'jonathanx') LIMIT 1[0m
  [4;35;1mUser Exists (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = '774d652ccc122312ed21cf47117e1b70048391c2a876d612bd944e8e93e196a692dfe48fdfef4a9ba0e6c0dd9b0e878d94d8d0035a127958bc57901a2601c430') LIMIT 1[0m
  [4;36;1mSubscriptionPlan Load (0.6ms)[0m   [0;1mSELECT * FROM "subscription_plans" ORDER BY rate_cents[0m
Rendering template within layouts/application
Rendering users/new
Rendered layouts/_user_nav (4.7ms)
Completed in 37ms (View: 10, DB: 2) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2009-09-03 05:21:23) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"DTCdpMb+VgY3wMbzGlOzteA8SjSvrjrHvtTK4FX0POg=", "controller"=>"users", "user"=>{"password_confirmation"=>"[FILTERED]", "subscription_plan"=>"2", "username"=>"jonathanx", "password"=>"[FILTERED]", "email"=>"jonathanx@linowes.com"}}
  [4;35;1mSubscriptionPlan Load (0.5ms)[0m   [0mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."id" = 2) [0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'jonathanx@linowes.com') LIMIT 1[0m
  [4;35;1mUser Exists (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."username") = 'jonathanx') LIMIT 1[0m
  [4;36;1mUser Exists (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = '588e1794d152e553f23e6b02176465c69c7f3de8fd2919bbc9a45e03f6ea71ac7bd689285f3a797f4002fccd153e874d130d3799479d021d792207ae9aa6e08f') LIMIT 1[0m
  [4;35;1mUser Create (0.7ms)[0m   [0mINSERT INTO "users" ("created_at", "crypted_password", "updated_at", "username", "password_salt", "persistence_token", "email") VALUES('2009-09-03 09:21:23', '3c598682c73ebc9eef9524cfe9547ff0fdccbfd7bc81dfaedd7e12ef9b5340cd64547c5ec36afae5ef71bf49d7ff28d967745efd20d85eb7c9c26bf73fca1f33', '2009-09-03 09:21:23', 'jonathanx', 'Xdd5ZBIOZm9TnZMafwK3', '588e1794d152e553f23e6b02176465c69c7f3de8fd2919bbc9a45e03f6ea71ac7bd689285f3a797f4002fccd153e874d130d3799479d021d792207ae9aa6e08f', 'jonathanx@linowes.com')[0m
  [4;36;1mSubscription Create (0.2ms)[0m   [0;1mINSERT INTO "subscriptions" ("created_at", "updated_at", "subscriber_id", "subscriber_type", "info_create_edit", "next_renewal_on", "plan_id", "state") VALUES('2009-09-03 09:21:23', '2009-09-03 09:21:23', 2, 'User', NULL, NULL, 2, 'pending')[0m
  [4;35;1mSubscription Update (0.2ms)[0m   [0mUPDATE "subscriptions" SET "updated_at" = '2009-09-03 09:21:23', "created_at" = '2009-09-03 09:21:23', "plan_id" = 2, "state" = 'trial', "subscriber_type" = 'User', "next_renewal_on" = '2009-10-03', "subscriber_id" = 2 WHERE "id" = 1[0m
Redirected to http://localhost:3000/
Completed in 38ms (DB: 2) | 302 Found [http://localhost/users]


Processing InfosController#welcome (for 127.0.0.1 at 2009-09-03 05:21:23) [GET]
  Parameters: {"action"=>"welcome", "controller"=>"infos"}
Rendering template within layouts/application
Rendering infos/welcome
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '588e1794d152e553f23e6b02176465c69c7f3de8fd2919bbc9a45e03f6ea71ac7bd689285f3a797f4002fccd153e874d130d3799479d021d792207ae9aa6e08f') LIMIT 1[0m
Rendered layouts/_user_nav (0.4ms)
Completed in 31ms (View: 26, DB: 1) | 200 OK [http://localhost/]


Processing UsersController#show (for 127.0.0.1 at 2009-09-03 05:21:27) [GET]
  Parameters: {"action"=>"show", "id"=>"current", "controller"=>"users"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '588e1794d152e553f23e6b02176465c69c7f3de8fd2919bbc9a45e03f6ea71ac7bd689285f3a797f4002fccd153e874d130d3799479d021d792207ae9aa6e08f') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/show
  [4;36;1mSubscription Load (0.5ms)[0m   [0;1mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 2 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
  [4;35;1mSubscriptionPlan Load (0.4ms)[0m   [0mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."id" = 2) [0m
Rendered users/_sidebar (10.1ms)
Rendered layouts/_user_nav (0.3ms)
Completed in 151ms (View: 29, DB: 1) | 200 OK [http://localhost/users/current]


Processing SubscriptionsController#show (for 127.0.0.1 at 2009-09-03 05:21:29) [GET]
  Parameters: {"action"=>"show", "id"=>"current", "controller"=>"subscriptions"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '588e1794d152e553f23e6b02176465c69c7f3de8fd2919bbc9a45e03f6ea71ac7bd689285f3a797f4002fccd153e874d130d3799479d021d792207ae9aa6e08f') LIMIT 1[0m
  [4;35;1mSubscription Load (0.4ms)[0m   [0mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 2 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
Rendering template within layouts/application
Rendering subscriptions/show

ActionView::TemplateError (undefined method `subscription_plan' for "#<Subscription:0x3287c6c>":Subscription) on line #6 of app/views/subscriptions/show.html.erb:
3: 	<legend>Subscription</legend>
4: 	<p>
5: 		<strong>Plan:</strong>
6: 		<%= @subscription.subscription_plan.name.titleize %>
7: 		<%= button_to "Change Plan", edit_subscription_path(:current), :method => :get %>
8: 	</p>
9: 	<% unless @user.subscription.free? %>

    app/views/subscriptions/show.html.erb:6

Rendered rescues/_trace (53.1ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing SubscriptionsController#show (for 127.0.0.1 at 2009-09-03 05:22:01) [GET]
  Parameters: {"action"=>"show", "id"=>"current", "controller"=>"subscriptions"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '588e1794d152e553f23e6b02176465c69c7f3de8fd2919bbc9a45e03f6ea71ac7bd689285f3a797f4002fccd153e874d130d3799479d021d792207ae9aa6e08f') LIMIT 1[0m
  [4;35;1mSubscription Load (0.4ms)[0m   [0mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 2 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
Rendering template within layouts/application
Rendering subscriptions/show
  [4;36;1mSubscriptionPlan Load (0.4ms)[0m   [0;1mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."id" = 2) [0m

ActionView::TemplateError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.subscription) on line #9 of app/views/subscriptions/show.html.erb:
6: 		<%= @subscription.plan.name.titleize %>
7: 		<%= button_to "Change Plan", edit_subscription_path(:current), :method => :get %>
8: 	</p>
9: 	<% unless @user.subscription.free? %>
10: 		<p>
11: 			<strong>Status:</strong>
12: 			<%= @user.subscription.state.titleize %>

    app/views/subscriptions/show.html.erb:9

Rendered rescues/_trace (164.6ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing SubscriptionsController#show (for 127.0.0.1 at 2009-09-03 05:25:33) [GET]
  Parameters: {"action"=>"show", "id"=>"current", "controller"=>"subscriptions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '588e1794d152e553f23e6b02176465c69c7f3de8fd2919bbc9a45e03f6ea71ac7bd689285f3a797f4002fccd153e874d130d3799479d021d792207ae9aa6e08f') LIMIT 1[0m
  [4;36;1mSubscription Load (0.5ms)[0m   [0;1mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 2 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
Rendering template within layouts/application
Rendering subscriptions/show
  [4;35;1mSubscriptionPlan Load (0.4ms)[0m   [0mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."id" = 2) [0m
  [4;36;1mSubscriptionBilling Load (0.3ms)[0m   [0;1mSELECT * FROM "subscription_billings" WHERE ("subscription_billings".subscription_id = 1) LIMIT 1[0m

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.none?) on line #31 of app/views/subscriptions/show.html.erb:
28: 	<legend>Billing Info</legend>
29: 	<p>
30: 		<strong>Credit Card:</strong>
31: 	  <% if @subscription.billing.none? %>
32: 			(no credit card on file)
33: 		<% else %>
34: 			<%= "#{@subscription.billing.cc_type.titleize} xxxx-xxxx-xxxx-#{@subscription.billing.cc_last_digits} Expires: #{@subscription.billing.cc_expires_on}" %>

    app/views/subscriptions/show.html.erb:31

Rendered rescues/_trace (52.2ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing SubscriptionsController#show (for 127.0.0.1 at 2009-09-03 05:27:23) [GET]
  Parameters: {"action"=>"show", "id"=>"current", "controller"=>"subscriptions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '588e1794d152e553f23e6b02176465c69c7f3de8fd2919bbc9a45e03f6ea71ac7bd689285f3a797f4002fccd153e874d130d3799479d021d792207ae9aa6e08f') LIMIT 1[0m
  [4;36;1mSubscription Load (0.4ms)[0m   [0;1mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 2 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
Rendering template within layouts/application
Rendering subscriptions/show
  [4;35;1mSubscriptionPlan Load (0.5ms)[0m   [0mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."id" = 2) [0m
  [4;36;1mSubscriptionBilling Load (0.3ms)[0m   [0;1mSELECT * FROM "subscription_billings" WHERE ("subscription_billings".subscription_id = 1) LIMIT 1[0m

ActionView::TemplateError (uninitialized constant Subscription::SubscriptionTransation) on line #38 of app/views/subscriptions/show.html.erb:
35: 		<% end %>
36: 		<%= button_to "Change Credit Card", credit_card_subscription_path(:current), :method => :get %>
37: 	</p>
38: 	<% if @subscription.last_transaction %>
39: 	<p>
40: 		<strong>Last Transaction:</strong>
41: 			<%= @subscription.last_transaction.created_at %>

    app/views/subscriptions/show.html.erb:38

Rendered rescues/_trace (63.3ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing SubscriptionsController#show (for 127.0.0.1 at 2009-09-03 05:28:06) [GET]
  Parameters: {"action"=>"show", "id"=>"current", "controller"=>"subscriptions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '588e1794d152e553f23e6b02176465c69c7f3de8fd2919bbc9a45e03f6ea71ac7bd689285f3a797f4002fccd153e874d130d3799479d021d792207ae9aa6e08f') LIMIT 1[0m
  [4;36;1mSubscription Load (0.4ms)[0m   [0;1mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 2 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
Rendering template within layouts/application
Rendering subscriptions/show
  [4;35;1mSubscriptionPlan Load (0.4ms)[0m   [0mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."id" = 2) [0m
  [4;36;1mSubscriptionBilling Load (0.2ms)[0m   [0;1mSELECT * FROM "subscription_billings" WHERE ("subscription_billings".subscription_id = 1) LIMIT 1[0m

ActionView::TemplateError (uninitialized constant Subscription::SubscriptionTransation) on line #38 of app/views/subscriptions/show.html.erb:
35: 		<% end %>
36: 		<%= button_to "Change Credit Card", credit_card_subscription_path(:current), :method => :get %>
37: 	</p>
38: 	<% if @subscription.last_transaction %>
39: 	<p>
40: 		<strong>Last Transaction:</strong>
41: 			<%= @subscription.last_transaction.created_at %>

    app/views/subscriptions/show.html.erb:38

Rendered rescues/_trace (176.8ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing SubscriptionsController#show (for 127.0.0.1 at 2009-09-03 05:30:25) [GET]
  Parameters: {"action"=>"show", "id"=>"current", "controller"=>"subscriptions"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '588e1794d152e553f23e6b02176465c69c7f3de8fd2919bbc9a45e03f6ea71ac7bd689285f3a797f4002fccd153e874d130d3799479d021d792207ae9aa6e08f') LIMIT 1[0m
  [4;35;1mSubscription Load (0.5ms)[0m   [0mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 2 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
Rendering template within layouts/application
Rendering subscriptions/show
  [4;36;1mSubscriptionPlan Load (0.7ms)[0m   [0;1mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."id" = 2) [0m
  [4;35;1mSubscriptionBilling Load (0.3ms)[0m   [0mSELECT * FROM "subscription_billings" WHERE ("subscription_billings".subscription_id = 1) LIMIT 1[0m
  [4;36;1mSubscriptionTransaction Load (0.4ms)[0m   [0;1mSELECT * FROM "subscription_transactions" WHERE ("subscription_transactions".subscription_id = 1) ORDER BY created_at DESC LIMIT 1[0m
Rendered layouts/_user_nav (1.2ms)
Completed in 101ms (View: 40, DB: 2) | 200 OK [http://localhost/subscriptions/current]


Processing SubscriptionsController#credit_card (for 127.0.0.1 at 2009-09-03 05:34:16) [GET]
  Parameters: {"action"=>"credit_card", "id"=>"current", "controller"=>"subscriptions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '588e1794d152e553f23e6b02176465c69c7f3de8fd2919bbc9a45e03f6ea71ac7bd689285f3a797f4002fccd153e874d130d3799479d021d792207ae9aa6e08f') LIMIT 1[0m
  [4;36;1mSubscription Load (0.4ms)[0m   [0;1mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 2 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m

ActionView::MissingTemplate (Missing template subscriptions/credit_card.erb in view path app/views):
  

Rendering rescues/layout (internal_server_error)


Processing SubscriptionsController#credit_card (for 127.0.0.1 at 2009-09-03 13:45:28) [GET]
  Parameters: {"action"=>"credit_card", "id"=>"current", "controller"=>"subscriptions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '588e1794d152e553f23e6b02176465c69c7f3de8fd2919bbc9a45e03f6ea71ac7bd689285f3a797f4002fccd153e874d130d3799479d021d792207ae9aa6e08f') LIMIT 1[0m
  [4;36;1mSubscription Load (0.4ms)[0m   [0;1mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 2 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
Rendering template within layouts/application
Rendering subscriptions/credit_card
Rendered layouts/_user_nav (0.3ms)
Completed in 53ms (View: 10, DB: 1) | 200 OK [http://localhost/subscriptions/current/credit_card]


Processing SubscriptionsController#credit_card (for 127.0.0.1 at 2009-09-03 15:34:37) [GET]
  Parameters: {"action"=>"credit_card", "id"=>"current", "controller"=>"subscriptions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '588e1794d152e553f23e6b02176465c69c7f3de8fd2919bbc9a45e03f6ea71ac7bd689285f3a797f4002fccd153e874d130d3799479d021d792207ae9aa6e08f') LIMIT 1[0m
  [4;36;1mSubscription Load (0.4ms)[0m   [0;1mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 2 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
Rendering template within layouts/application
Rendering subscriptions/credit_card
Rendered layouts/_user_nav (0.3ms)
Completed in 28ms (View: 9, DB: 1) | 200 OK [http://localhost/subscriptions/current/credit_card]


Processing SubscriptionsController#credit_card (for 127.0.0.1 at 2009-09-03 15:34:41) [GET]
  Parameters: {"action"=>"credit_card", "id"=>"current", "controller"=>"subscriptions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '588e1794d152e553f23e6b02176465c69c7f3de8fd2919bbc9a45e03f6ea71ac7bd689285f3a797f4002fccd153e874d130d3799479d021d792207ae9aa6e08f') LIMIT 1[0m
  [4;36;1mSubscription Load (0.4ms)[0m   [0;1mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 2 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
Rendering template within layouts/application
Rendering subscriptions/credit_card
Rendered layouts/_user_nav (0.3ms)
Completed in 25ms (View: 4, DB: 1) | 200 OK [http://localhost/subscriptions/current/credit_card]


Processing SubscriptionsController#credit_card (for 127.0.0.1 at 2009-09-03 20:45:24) [GET]
  Parameters: {"action"=>"credit_card", "id"=>"current", "controller"=>"subscriptions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '588e1794d152e553f23e6b02176465c69c7f3de8fd2919bbc9a45e03f6ea71ac7bd689285f3a797f4002fccd153e874d130d3799479d021d792207ae9aa6e08f') LIMIT 1[0m
  [4;36;1mSubscription Load (0.5ms)[0m   [0;1mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 2 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
Rendering template within layouts/application
Rendering subscriptions/credit_card
Rendered layouts/_user_nav (0.3ms)
Completed in 36ms (View: 9, DB: 1) | 200 OK [http://localhost/subscriptions/current/credit_card]


Processing SubscriptionsController#credit_card (for 127.0.0.1 at 2009-09-03 22:16:11) [GET]
  Parameters: {"action"=>"credit_card", "id"=>"current", "controller"=>"subscriptions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '588e1794d152e553f23e6b02176465c69c7f3de8fd2919bbc9a45e03f6ea71ac7bd689285f3a797f4002fccd153e874d130d3799479d021d792207ae9aa6e08f') LIMIT 1[0m
  [4;36;1mSubscription Load (0.4ms)[0m   [0;1mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 2 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
Rendering template within layouts/application
Rendering subscriptions/credit_card
Rendered layouts/_user_nav (0.3ms)
Completed in 41ms (View: 12, DB: 1) | 200 OK [http://localhost/subscriptions/current/credit_card]


Processing SubscriptionsController#credit_card (for 127.0.0.1 at 2009-09-03 22:16:14) [GET]
  Parameters: {"action"=>"credit_card", "id"=>"current", "controller"=>"subscriptions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '588e1794d152e553f23e6b02176465c69c7f3de8fd2919bbc9a45e03f6ea71ac7bd689285f3a797f4002fccd153e874d130d3799479d021d792207ae9aa6e08f') LIMIT 1[0m
  [4;36;1mSubscription Load (0.4ms)[0m   [0;1mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 2 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
Rendering template within layouts/application
Rendering subscriptions/credit_card
Rendered layouts/_user_nav (0.3ms)
Completed in 27ms (View: 8, DB: 1) | 200 OK [http://localhost/subscriptions/current/credit_card]


Processing SubscriptionsController#credit_card (for 127.0.0.1 at 2009-09-03 22:16:51) [GET]
  Parameters: {"action"=>"credit_card", "id"=>"current", "controller"=>"subscriptions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '588e1794d152e553f23e6b02176465c69c7f3de8fd2919bbc9a45e03f6ea71ac7bd689285f3a797f4002fccd153e874d130d3799479d021d792207ae9aa6e08f') LIMIT 1[0m
  [4;36;1mSubscription Load (0.4ms)[0m   [0;1mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 2 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
Rendering template within layouts/application
Rendering subscriptions/credit_card
Rendered layouts/_user_nav (0.3ms)
Completed in 32ms (View: 12, DB: 1) | 200 OK [http://localhost/subscriptions/current/credit_card]


Processing SubscriptionsController#store_credit_card (for 127.0.0.1 at 2009-09-03 22:37:57) [POST]
  Parameters: {"commit"=>"Submit", "action"=>"store_credit_card", "authenticity_token"=>"DTCdpMb+VgY3wMbzGlOzteA8SjSvrjrHvtTK4FX0POg=", "id"=>"current", "subscription"=>{"credit_card"=>{"number"=>"", "month"=>"01", "type"=>"visa", "last_name"=>"", "year"=>"2009", "verification_value"=>"", "first_name"=>""}}, "controller"=>"subscriptions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '588e1794d152e553f23e6b02176465c69c7f3de8fd2919bbc9a45e03f6ea71ac7bd689285f3a797f4002fccd153e874d130d3799479d021d792207ae9aa6e08f') LIMIT 1[0m
  [4;36;1mSubscription Load (0.4ms)[0m   [0;1mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 2 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
  [4;35;1mSubscriptionBilling Load (0.2ms)[0m   [0mSELECT * FROM "subscription_billings" WHERE ("subscription_billings".subscription_id = 1) LIMIT 1[0m

NoMethodError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.credit_card_attributes=):
  app/controllers/subscriptions_controller.rb:23:in `store_credit_card'

Rendered rescues/_trace (42.4ms)
Rendered rescues/_request_and_response (2.4ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#show (for 127.0.0.1 at 2009-09-03 22:39:46) [GET]
  Parameters: {"action"=>"show", "id"=>"current", "controller"=>"users"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '588e1794d152e553f23e6b02176465c69c7f3de8fd2919bbc9a45e03f6ea71ac7bd689285f3a797f4002fccd153e874d130d3799479d021d792207ae9aa6e08f') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/show
  [4;35;1mSubscription Load (0.5ms)[0m   [0mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 2 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
  [4;36;1mSubscriptionPlan Load (0.3ms)[0m   [0;1mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."id" = 2) [0m
Rendered users/_sidebar (4.0ms)
Rendered layouts/_user_nav (0.3ms)
Completed in 38ms (View: 18, DB: 1) | 200 OK [http://localhost/users/current]


Processing SubscriptionsController#show (for 127.0.0.1 at 2009-09-03 22:39:51) [GET]
  Parameters: {"action"=>"show", "id"=>"current", "controller"=>"subscriptions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '588e1794d152e553f23e6b02176465c69c7f3de8fd2919bbc9a45e03f6ea71ac7bd689285f3a797f4002fccd153e874d130d3799479d021d792207ae9aa6e08f') LIMIT 1[0m
  [4;36;1mSubscription Load (0.4ms)[0m   [0;1mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 2 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
Rendering template within layouts/application
Rendering subscriptions/show
  [4;35;1mSubscriptionPlan Load (0.4ms)[0m   [0mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."id" = 2) [0m
  [4;36;1mSubscriptionBilling Load (0.2ms)[0m   [0;1mSELECT * FROM "subscription_billings" WHERE ("subscription_billings".subscription_id = 1) LIMIT 1[0m
  [4;35;1mSubscriptionTransaction Load (0.2ms)[0m   [0mSELECT * FROM "subscription_transactions" WHERE ("subscription_transactions".subscription_id = 1) ORDER BY created_at DESC LIMIT 1[0m
Rendered layouts/_user_nav (0.3ms)
Completed in 26ms (View: 4, DB: 2) | 200 OK [http://localhost/subscriptions/current]


Processing SubscriptionsController#credit_card (for 127.0.0.1 at 2009-09-03 22:39:55) [GET]
  Parameters: {"action"=>"credit_card", "id"=>"current", "controller"=>"subscriptions"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '588e1794d152e553f23e6b02176465c69c7f3de8fd2919bbc9a45e03f6ea71ac7bd689285f3a797f4002fccd153e874d130d3799479d021d792207ae9aa6e08f') LIMIT 1[0m
  [4;35;1mSubscription Load (0.4ms)[0m   [0mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 2 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
Rendering template within layouts/application
Rendering subscriptions/credit_card
Rendered layouts/_user_nav (0.3ms)
Completed in 30ms (View: 8, DB: 1) | 200 OK [http://localhost/subscriptions/current/credit_card]


Processing SubscriptionsController#store_credit_card (for 127.0.0.1 at 2009-09-03 22:39:58) [POST]
  Parameters: {"commit"=>"Submit", "action"=>"store_credit_card", "authenticity_token"=>"DTCdpMb+VgY3wMbzGlOzteA8SjSvrjrHvtTK4FX0POg=", "id"=>"current", "subscription"=>{"credit_card"=>{"number"=>"", "month"=>"01", "type"=>"visa", "last_name"=>"", "year"=>"2009", "verification_value"=>"", "first_name"=>""}}, "controller"=>"subscriptions"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '588e1794d152e553f23e6b02176465c69c7f3de8fd2919bbc9a45e03f6ea71ac7bd689285f3a797f4002fccd153e874d130d3799479d021d792207ae9aa6e08f') LIMIT 1[0m
  [4;35;1mSubscription Load (0.4ms)[0m   [0mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 2 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
  [4;36;1mSubscriptionBilling Load (0.2ms)[0m   [0;1mSELECT * FROM "subscription_billings" WHERE ("subscription_billings".subscription_id = 1) LIMIT 1[0m

NoMethodError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.credit_card_attributes=):
  app/controllers/subscriptions_controller.rb:23:in `store_credit_card'

Rendered rescues/_trace (41.4ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing SubscriptionsController#store_credit_card (for 127.0.0.1 at 2009-09-03 22:40:33) [POST]
  Parameters: {"commit"=>"Submit", "action"=>"store_credit_card", "authenticity_token"=>"DTCdpMb+VgY3wMbzGlOzteA8SjSvrjrHvtTK4FX0POg=", "id"=>"current", "subscription"=>{"credit_card"=>{"number"=>"", "month"=>"01", "type"=>"visa", "last_name"=>"", "year"=>"2009", "verification_value"=>"", "first_name"=>""}}, "controller"=>"subscriptions"}
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '588e1794d152e553f23e6b02176465c69c7f3de8fd2919bbc9a45e03f6ea71ac7bd689285f3a797f4002fccd153e874d130d3799479d021d792207ae9aa6e08f') LIMIT 1[0m
  [4;36;1mSubscription Load (0.5ms)[0m   [0;1mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 2 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m

***** Debugger requested, but was not available: Start server with --debugger to enable *****
  [4;35;1mSubscriptionBilling Load (0.3ms)[0m   [0mSELECT * FROM "subscription_billings" WHERE ("subscription_billings".subscription_id = 1) LIMIT 1[0m

NoMethodError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.credit_card_attributes=):
  app/controllers/subscriptions_controller.rb:24:in `store_credit_card'

Rendered rescues/_trace (46.4ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing SubscriptionsController#store_credit_card (for 127.0.0.1 at 2009-09-03 22:40:48) [POST]
  Parameters: {"commit"=>"Submit", "action"=>"store_credit_card", "authenticity_token"=>"DTCdpMb+VgY3wMbzGlOzteA8SjSvrjrHvtTK4FX0POg=", "id"=>"current", "subscription"=>{"credit_card"=>{"number"=>"", "month"=>"01", "type"=>"visa", "last_name"=>"", "year"=>"2009", "verification_value"=>"", "first_name"=>""}}, "controller"=>"subscriptions"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '588e1794d152e553f23e6b02176465c69c7f3de8fd2919bbc9a45e03f6ea71ac7bd689285f3a797f4002fccd153e874d130d3799479d021d792207ae9aa6e08f') LIMIT 1[0m
  [4;35;1mSubscription Load (0.6ms)[0m   [0mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 2 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m

***** Debugger requested, but was not available: Start server with --debugger to enable *****
  [4;36;1mSubscriptionBilling Load (0.3ms)[0m   [0;1mSELECT * FROM "subscription_billings" WHERE ("subscription_billings".subscription_id = 1) LIMIT 1[0m

NoMethodError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.credit_card_attributes=):
  app/controllers/subscriptions_controller.rb:24:in `store_credit_card'

Rendered rescues/_trace (42.0ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing SubscriptionsController#store_credit_card (for 127.0.0.1 at 2009-09-03 22:41:06) [POST]
  Parameters: {"commit"=>"Submit", "action"=>"store_credit_card", "authenticity_token"=>"DTCdpMb+VgY3wMbzGlOzteA8SjSvrjrHvtTK4FX0POg=", "id"=>"current", "subscription"=>{"credit_card"=>{"number"=>"", "month"=>"01", "type"=>"visa", "last_name"=>"", "year"=>"2009", "verification_value"=>"", "first_name"=>""}}, "controller"=>"subscriptions"}
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '588e1794d152e553f23e6b02176465c69c7f3de8fd2919bbc9a45e03f6ea71ac7bd689285f3a797f4002fccd153e874d130d3799479d021d792207ae9aa6e08f') LIMIT 1[0m
  [4;35;1mSubscription Load (0.5ms)[0m   [0mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 2 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
  [4;36;1mSubscriptionBilling Load (0.4ms)[0m   [0;1mSELECT * FROM "subscription_billings" WHERE ("subscription_billings".subscription_id = 1) LIMIT 1[0m

NoMethodError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.credit_card_attributes=):
  app/controllers/subscriptions_controller.rb:24:in `store_credit_card'

Rendered rescues/_trace (61.4ms)
Rendered rescues/_request_and_response (2.1ms)
Rendering rescues/layout (internal_server_error)


Processing SubscriptionsController#credit_card (for 127.0.0.1 at 2009-09-03 22:52:59) [GET]
  Parameters: {"action"=>"credit_card", "id"=>"current", "controller"=>"subscriptions"}
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '588e1794d152e553f23e6b02176465c69c7f3de8fd2919bbc9a45e03f6ea71ac7bd689285f3a797f4002fccd153e874d130d3799479d021d792207ae9aa6e08f') LIMIT 1[0m
  [4;36;1mSubscription Load (0.5ms)[0m   [0;1mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 2 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
Rendering template within layouts/application
Rendering subscriptions/credit_card
Rendered layouts/_user_nav (1.5ms)
Completed in 55ms (View: 27, DB: 1) | 200 OK [http://localhost/subscriptions/current/credit_card]


Processing SubscriptionsController#credit_card (for 127.0.0.1 at 2009-09-03 22:52:59) [GET]
  Parameters: {"action"=>"credit_card", "id"=>"current", "controller"=>"subscriptions"}
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '588e1794d152e553f23e6b02176465c69c7f3de8fd2919bbc9a45e03f6ea71ac7bd689285f3a797f4002fccd153e874d130d3799479d021d792207ae9aa6e08f') LIMIT 1[0m
  [4;36;1mSubscription Load (0.5ms)[0m   [0;1mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 2 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
Rendering template within layouts/application
Rendering subscriptions/credit_card
Rendered layouts/_user_nav (0.4ms)
Completed in 35ms (View: 9, DB: 1) | 200 OK [http://localhost/subscriptions/current/credit_card]


Processing SubscriptionsController#credit_card (for 127.0.0.1 at 2009-09-03 23:04:02) [GET]
  Parameters: {"action"=>"credit_card", "id"=>"current", "controller"=>"subscriptions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '588e1794d152e553f23e6b02176465c69c7f3de8fd2919bbc9a45e03f6ea71ac7bd689285f3a797f4002fccd153e874d130d3799479d021d792207ae9aa6e08f') LIMIT 1[0m
  [4;36;1mSubscription Load (0.5ms)[0m   [0;1mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 2 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
Rendering template within layouts/application
Rendering subscriptions/credit_card
Rendered layouts/_user_nav (0.4ms)
Completed in 54ms (View: 10, DB: 1) | 200 OK [http://localhost/subscriptions/current/credit_card]


Processing SubscriptionsController#credit_card (for 127.0.0.1 at 2009-09-03 23:04:06) [GET]
  Parameters: {"action"=>"credit_card", "id"=>"current", "controller"=>"subscriptions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '588e1794d152e553f23e6b02176465c69c7f3de8fd2919bbc9a45e03f6ea71ac7bd689285f3a797f4002fccd153e874d130d3799479d021d792207ae9aa6e08f') LIMIT 1[0m
  [4;36;1mSubscription Load (0.5ms)[0m   [0;1mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 2 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
Rendering template within layouts/application
Rendering subscriptions/credit_card
Rendered layouts/_user_nav (0.4ms)
Completed in 30ms (View: 6, DB: 1) | 200 OK [http://localhost/subscriptions/current/credit_card]


Processing SubscriptionsController#credit_card (for 127.0.0.1 at 2009-09-03 23:04:16) [GET]
  Parameters: {"action"=>"credit_card", "id"=>"current", "controller"=>"subscriptions"}
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '588e1794d152e553f23e6b02176465c69c7f3de8fd2919bbc9a45e03f6ea71ac7bd689285f3a797f4002fccd153e874d130d3799479d021d792207ae9aa6e08f') LIMIT 1[0m
  [4;35;1mSubscription Load (0.5ms)[0m   [0mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 2 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
Rendering template within layouts/application
Rendering subscriptions/credit_card
Rendered layouts/_user_nav (1.4ms)
Completed in 108ms (View: 20, DB: 1) | 200 OK [http://localhost/subscriptions/current/credit_card]


Processing SubscriptionsController#store_credit_card (for 127.0.0.1 at 2009-09-03 23:04:20) [POST]
  Parameters: {"commit"=>"Submit", "action"=>"store_credit_card", "authenticity_token"=>"DTCdpMb+VgY3wMbzGlOzteA8SjSvrjrHvtTK4FX0POg=", "credit_card"=>{"number"=>"", "month"=>"01", "type"=>"visa", "year"=>"2009", "last_name"=>"", "verification_value"=>"", "first_name"=>""}, "id"=>"current", "controller"=>"subscriptions"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '588e1794d152e553f23e6b02176465c69c7f3de8fd2919bbc9a45e03f6ea71ac7bd689285f3a797f4002fccd153e874d130d3799479d021d792207ae9aa6e08f') LIMIT 1[0m
  [4;35;1mSubscription Load (0.5ms)[0m   [0mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 2 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m

ArgumentError (No association found for name `credit_card'. Has it been defined yet?):
  app/controllers/subscriptions_controller.rb:23:in `store_credit_card'

Rendered rescues/_trace (174.0ms)
Rendered rescues/_request_and_response (1.9ms)
Rendering rescues/layout (internal_server_error)


Processing SubscriptionsController#store_credit_card (for 127.0.0.1 at 2009-09-03 23:06:34) [POST]
  Parameters: {"commit"=>"Submit", "action"=>"store_credit_card", "authenticity_token"=>"DTCdpMb+VgY3wMbzGlOzteA8SjSvrjrHvtTK4FX0POg=", "credit_card"=>{"number"=>"", "month"=>"01", "type"=>"visa", "year"=>"2009", "last_name"=>"", "verification_value"=>"", "first_name"=>""}, "id"=>"current", "controller"=>"subscriptions"}
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '588e1794d152e553f23e6b02176465c69c7f3de8fd2919bbc9a45e03f6ea71ac7bd689285f3a797f4002fccd153e874d130d3799479d021d792207ae9aa6e08f') LIMIT 1[0m
  [4;35;1mSubscription Load (0.6ms)[0m   [0mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 2 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m

ArgumentError (No association found for name `credit_card'. Has it been defined yet?):
  app/controllers/subscriptions_controller.rb:23:in `store_credit_card'

Rendered rescues/_trace (84.8ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)


Processing SubscriptionsController#store_credit_card (for 127.0.0.1 at 2009-09-03 23:10:27) [POST]
  Parameters: {"commit"=>"Submit", "action"=>"store_credit_card", "authenticity_token"=>"DTCdpMb+VgY3wMbzGlOzteA8SjSvrjrHvtTK4FX0POg=", "credit_card"=>{"number"=>"", "month"=>"01", "type"=>"visa", "year"=>"2009", "last_name"=>"", "verification_value"=>"", "first_name"=>""}, "id"=>"current", "controller"=>"subscriptions"}
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '588e1794d152e553f23e6b02176465c69c7f3de8fd2919bbc9a45e03f6ea71ac7bd689285f3a797f4002fccd153e874d130d3799479d021d792207ae9aa6e08f') LIMIT 1[0m
  [4;35;1mSubscription Load (0.6ms)[0m   [0mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 2 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
  [4;36;1mSubscriptionBilling Load (0.3ms)[0m   [0;1mSELECT * FROM "subscription_billings" WHERE ("subscription_billings".subscription_id = 1) LIMIT 1[0m

NoMethodError (undefined method `ip=' for "#<SubscriptionBilling:0x2f9aae0>":SubscriptionBilling):
  app/controllers/subscriptions_controller.rb:25:in `store_credit_card'

Rendered rescues/_trace (150.0ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing SubscriptionsController#store_credit_card (for 127.0.0.1 at 2009-09-03 23:11:31) [POST]
  Parameters: {"commit"=>"Submit", "action"=>"store_credit_card", "authenticity_token"=>"DTCdpMb+VgY3wMbzGlOzteA8SjSvrjrHvtTK4FX0POg=", "credit_card"=>{"number"=>"", "month"=>"01", "type"=>"visa", "year"=>"2009", "last_name"=>"", "verification_value"=>"", "first_name"=>""}, "id"=>"current", "controller"=>"subscriptions"}
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '588e1794d152e553f23e6b02176465c69c7f3de8fd2919bbc9a45e03f6ea71ac7bd689285f3a797f4002fccd153e874d130d3799479d021d792207ae9aa6e08f') LIMIT 1[0m
  [4;36;1mSubscription Load (0.6ms)[0m   [0;1mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 2 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
  [4;35;1mSubscriptionBilling Load (0.3ms)[0m   [0mSELECT * FROM "subscription_billings" WHERE ("subscription_billings".subscription_id = 1) LIMIT 1[0m

NoMethodError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.credit_card=):
  app/controllers/subscriptions_controller.rb:24:in `store_credit_card'

Rendered rescues/_trace (58.2ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing SubscriptionsController#store_credit_card (for 127.0.0.1 at 2009-09-03 23:11:46) [POST]
  Parameters: {"commit"=>"Submit", "action"=>"store_credit_card", "authenticity_token"=>"DTCdpMb+VgY3wMbzGlOzteA8SjSvrjrHvtTK4FX0POg=", "credit_card"=>{"number"=>"", "month"=>"01", "type"=>"visa", "year"=>"2009", "last_name"=>"", "verification_value"=>"", "first_name"=>""}, "id"=>"current", "controller"=>"subscriptions"}
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '588e1794d152e553f23e6b02176465c69c7f3de8fd2919bbc9a45e03f6ea71ac7bd689285f3a797f4002fccd153e874d130d3799479d021d792207ae9aa6e08f') LIMIT 1[0m
  [4;35;1mSubscription Load (1.6ms)[0m   [0mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 2 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
  [4;36;1mSubscriptionBilling Load (0.3ms)[0m   [0;1mSELECT * FROM "subscription_billings" WHERE ("subscription_billings".subscription_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering subscriptions/credit_card
Rendered layouts/_user_nav (0.5ms)
Completed in 452816ms (View: 7, DB: 3) | 200 OK [http://localhost/subscriptions/current/store_credit_card]
  [4;36;1mSQL (1.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to SaaslogicMigration (20090901043747)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.3ms)[0m   [0mDROP TABLE "subscription_billings"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDROP TABLE "subscription_plans"[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDROP TABLE "subscription_transactions"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDROP TABLE "subscriptions"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20090901043747'[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("infos")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20090901024918)
Migrating to CreateInfos (20090901025004)
Migrating to SaaslogicMigration (20090901043747)
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "plan_id" integer, "state" varchar(255), "next_renewal_on" date, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "subscription_billings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer, "state" varchar(255), "gateway_key" varchar(255), "card_first_name" varchar(255), "card_last_name" varchar(255), "card_type" varchar(255), "card_expires_on" date, "card_last_digits" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCREATE TABLE "subscription_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer NOT NULL, "action" varchar(255), "amount_cents" integer, "success" boolean, "authorization" varchar(255), "message" varchar(255), "params" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "subscription_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "rate_cents" integer DEFAULT 0, "interval" integer DEFAULT 1, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090901043747')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("infos")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("subscription_billings")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("subscription_plans")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("subscription_transactions")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("subscriptions")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;36;1mSubscriptionPlan Load (0.3ms)[0m   [0;1mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."name" = 'free') LIMIT 1[0m
  [4;35;1mSubscriptionPlan Create (0.7ms)[0m   [0mINSERT INTO "subscription_plans" ("name", "created_at", "rate_cents", "updated_at", "interval", "info_create_edit") VALUES('free', '2009-09-04 03:19:48', 0, '2009-09-04 03:19:48', 1, NULL)[0m
  [4;36;1mSubscriptionPlan Load (0.3ms)[0m   [0;1mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."name" = 'basic') LIMIT 1[0m
  [4;35;1mSubscriptionPlan Create (0.5ms)[0m   [0mINSERT INTO "subscription_plans" ("name", "created_at", "rate_cents", "updated_at", "interval", "info_create_edit") VALUES('basic', '2009-09-04 03:19:48', 1000, '2009-09-04 03:19:48', 1, 'f')[0m
  [4;36;1mSubscriptionPlan Load (0.2ms)[0m   [0;1mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."name" = 'pro') LIMIT 1[0m
  [4;35;1mSubscriptionPlan Create (0.4ms)[0m   [0mINSERT INTO "subscription_plans" ("name", "created_at", "rate_cents", "updated_at", "interval", "info_create_edit") VALUES('pro', '2009-09-04 03:19:48', 30000, '2009-09-04 03:19:48', 12, 't')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("infos")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("subscription_billings")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("subscription_plans")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("subscription_transactions")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("subscriptions")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mCREATE TABLE "infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (14.8ms)[0m   [0;1mCREATE TABLE "subscription_billings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer, "state" varchar(255), "gateway_key" varchar(255), "card_first_name" varchar(255), "card_last_name" varchar(255), "card_type" varchar(255), "card_expires_on" date, "card_last_digits" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mCREATE TABLE "subscription_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "rate_cents" integer DEFAULT 0, "interval" integer DEFAULT 1, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (6.3ms)[0m   [0;1mCREATE TABLE "subscription_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer NOT NULL, "action" varchar(255), "amount_cents" integer, "success" boolean, "authorization" varchar(255), "message" varchar(255), "params" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "plan_id" integer, "state" varchar(255), "next_renewal_on" date, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.6ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "persistence_token" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (5.9ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (2.1ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (5.4ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901043747')[0m
  [4;35;1mSQL (1.9ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090901024918')[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901025004')[0m


Processing InfosController#welcome (for 127.0.0.1 at 2009-09-03 23:20:10) [GET]
  Parameters: {"action"=>"welcome", "controller"=>"infos"}
Rendering template within layouts/application
Rendering infos/welcome
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '588e1794d152e553f23e6b02176465c69c7f3de8fd2919bbc9a45e03f6ea71ac7bd689285f3a797f4002fccd153e874d130d3799479d021d792207ae9aa6e08f') LIMIT 1[0m
Rendered layouts/_user_nav (1.4ms)
Completed in 69ms (View: 65, DB: 1) | 200 OK [http://localhost/]


Processing UserSessionsController#destroy (for 127.0.0.1 at 2009-09-03 23:20:13) [GET]
  Parameters: {"action"=>"destroy", "controller"=>"user_sessions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '588e1794d152e553f23e6b02176465c69c7f3de8fd2919bbc9a45e03f6ea71ac7bd689285f3a797f4002fccd153e874d130d3799479d021d792207ae9aa6e08f') LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 24ms (DB: 1) | 302 Found [http://localhost/logout]


Processing InfosController#welcome (for 127.0.0.1 at 2009-09-03 23:20:13) [GET]
  Parameters: {"action"=>"welcome", "controller"=>"infos"}
Rendering template within layouts/application
Rendering infos/welcome
Rendered layouts/_user_nav (0.2ms)
Completed in 23ms (View: 20, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2009-09-03 23:20:16) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
  [4;36;1mSubscriptionPlan Load (0.8ms)[0m   [0;1mSELECT * FROM "subscription_plans" ORDER BY rate_cents[0m
Rendering template within layouts/application
Rendering users/new
  [4;35;1mSubscriptionPlan Load (0.5ms)[0m   [0mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."rate_cents" = 0) LIMIT 1[0m
Rendered layouts/_user_nav (5.4ms)
Completed in 79ms (View: 54, DB: 1) | 200 OK [http://localhost/signup]


Processing UsersController#create (for 127.0.0.1 at 2009-09-03 23:20:28) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"DTCdpMb+VgY3wMbzGlOzteA8SjSvrjrHvtTK4FX0POg=", "controller"=>"users", "user"=>{"password_confirmation"=>"[FILTERED]", "subscription_plan"=>"2", "username"=>"jonathan", "password"=>"[FILTERED]", "email"=>"jonathan@linowes.com"}}
  [4;36;1mSubscriptionPlan Load (0.5ms)[0m   [0;1mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."id" = 2) [0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'jonathan@linowes.com') LIMIT 1[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."username") = 'jonathan') LIMIT 1[0m
  [4;35;1mUser Exists (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = 'e68a1c38e78e346eb52b512f696b763772f27fe1b7b6f35621285ec51401f9e9896963953e9057047efa8f068b9f9348fab685addadf131267697081fdeaadbe') LIMIT 1[0m
  [4;36;1mSubscriptionPlan Load (0.7ms)[0m   [0;1mSELECT * FROM "subscription_plans" ORDER BY rate_cents[0m
Rendering template within layouts/application
Rendering users/new
Rendered layouts/_user_nav (5.2ms)
Completed in 234ms (View: 11, DB: 2) | 200 OK [http://localhost/users]
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (1.6ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20090901024918)
  [4;36;1mSQL (0.7ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "persistence_token" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090901024918')[0m
Migrating to CreateInfos (20090901025004)
  [4;36;1mSQL (0.6ms)[0m   [0;1mCREATE TABLE "infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090901025004')[0m
Migrating to SaaslogicMigration (20090901043747)
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "plan_id" integer, "state" varchar(255), "next_renewal_on" date, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCREATE TABLE "subscription_billings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer, "state" varchar(255), "gateway_key" varchar(255), "card_first_name" varchar(255), "card_last_name" varchar(255), "card_type" varchar(255), "card_expires_on" date, "card_last_digits" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCREATE TABLE "subscription_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer NOT NULL, "action" varchar(255), "amount_cents" integer, "success" boolean, "authorization" varchar(255), "message" varchar(255), "params" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCREATE TABLE "subscription_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "rate_cents" integer DEFAULT 0, "interval" integer DEFAULT 1, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090901043747')[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("infos")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("subscription_billings")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("subscription_plans")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("subscription_transactions")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("subscriptions")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSubscriptionPlan Load (0.4ms)[0m   [0;1mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."name" = 'free') LIMIT 1[0m
  [4;35;1mSubscriptionPlan Create (0.9ms)[0m   [0mINSERT INTO "subscription_plans" ("name", "created_at", "rate_cents", "updated_at", "interval", "info_create_edit") VALUES('free', '2009-09-04 03:20:57', 0, '2009-09-04 03:20:57', 1, NULL)[0m
  [4;36;1mSubscriptionPlan Load (0.3ms)[0m   [0;1mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."name" = 'basic') LIMIT 1[0m
  [4;35;1mSubscriptionPlan Create (0.5ms)[0m   [0mINSERT INTO "subscription_plans" ("name", "created_at", "rate_cents", "updated_at", "interval", "info_create_edit") VALUES('basic', '2009-09-04 03:20:57', 1000, '2009-09-04 03:20:57', 1, 'f')[0m
  [4;36;1mSubscriptionPlan Load (0.3ms)[0m   [0;1mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."name" = 'pro') LIMIT 1[0m
  [4;35;1mSubscriptionPlan Create (0.5ms)[0m   [0mINSERT INTO "subscription_plans" ("name", "created_at", "rate_cents", "updated_at", "interval", "info_create_edit") VALUES('pro', '2009-09-04 03:20:57', 30000, '2009-09-04 03:20:57', 12, 't')[0m


Processing InfosController#welcome (for 127.0.0.1 at 2009-09-03 23:21:11) [GET]
  Parameters: {"action"=>"welcome", "controller"=>"infos"}
Rendering template within layouts/application
Rendering infos/welcome
Rendered layouts/_user_nav (1.2ms)
Completed in 42ms (View: 39, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2009-09-03 23:21:14) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
  [4;36;1mSubscriptionPlan Load (0.8ms)[0m   [0;1mSELECT * FROM "subscription_plans" ORDER BY rate_cents[0m
Rendering template within layouts/application
Rendering users/new
  [4;35;1mSubscriptionPlan Load (0.5ms)[0m   [0mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."rate_cents" = 0) LIMIT 1[0m
Rendered layouts/_user_nav (5.4ms)
Completed in 82ms (View: 52, DB: 1) | 200 OK [http://localhost/signup]


Processing UsersController#create (for 127.0.0.1 at 2009-09-03 23:21:25) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"DTCdpMb+VgY3wMbzGlOzteA8SjSvrjrHvtTK4FX0POg=", "controller"=>"users", "user"=>{"password_confirmation"=>"[FILTERED]", "subscription_plan"=>"2", "username"=>"jonathan", "password"=>"[FILTERED]", "email"=>"jonathan@linowes.com"}}
  [4;36;1mSubscriptionPlan Load (0.5ms)[0m   [0;1mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."id" = 2) [0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'jonathan@linowes.com') LIMIT 1[0m
  [4;36;1mUser Exists (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."username") = 'jonathan') LIMIT 1[0m
  [4;35;1mUser Exists (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = '0ac20ff371f078c91922138635906a9251d7b65b05489925880af3502004042a81223ef0a652bc40fdde808cc957f3683828f377537d860e33ca0f10cc2e55c0') LIMIT 1[0m
  [4;36;1mUser Create (0.7ms)[0m   [0;1mINSERT INTO "users" ("created_at", "crypted_password", "updated_at", "username", "password_salt", "persistence_token", "email") VALUES('2009-09-04 03:21:26', 'a4af6b3e761c2b7cac70a63592637d1e5ab596842b6e3edfbabf3a9feff79bf92d147cbe8158ca3328e264020bdf04b49124fdeecec1261a7b47ade8940b5772', '2009-09-04 03:21:26', 'jonathan', 'y79AazyzkFjtHQPvYFWR', '0ac20ff371f078c91922138635906a9251d7b65b05489925880af3502004042a81223ef0a652bc40fdde808cc957f3683828f377537d860e33ca0f10cc2e55c0', 'jonathan@linowes.com')[0m
  [4;35;1mSubscription Create (0.2ms)[0m   [0mINSERT INTO "subscriptions" ("created_at", "updated_at", "subscriber_id", "subscriber_type", "info_create_edit", "next_renewal_on", "plan_id", "state") VALUES('2009-09-04 03:21:26', '2009-09-04 03:21:26', 1, 'User', NULL, NULL, 2, 'pending')[0m
  [4;36;1mSubscriptionBilling Load (0.3ms)[0m   [0;1mSELECT * FROM "subscription_billings" WHERE ("subscription_billings".subscription_id = 1) LIMIT 1[0m
  [4;35;1mSubscription Update (0.2ms)[0m   [0mUPDATE "subscriptions" SET "updated_at" = '2009-09-04 03:21:26', "created_at" = '2009-09-04 03:21:26', "plan_id" = 2, "state" = 'trial', "subscriber_type" = 'User', "next_renewal_on" = '2009-10-03', "subscriber_id" = 1 WHERE "id" = 1[0m
  [4;36;1mSubscriptionBilling Create (0.3ms)[0m   [0;1mINSERT INTO "subscription_billings" ("card_first_name", "created_at", "card_type", "card_last_digits", "updated_at", "subscription_id", "card_expires_on", "gateway_key", "card_last_name", "state") VALUES(NULL, '2009-09-04 03:21:26', NULL, NULL, '2009-09-04 03:21:26', 1, NULL, NULL, NULL, 'none')[0m
Redirected to http://localhost:3000/
Completed in 270ms (DB: 3) | 302 Found [http://localhost/users]


Processing InfosController#welcome (for 127.0.0.1 at 2009-09-03 23:21:26) [GET]
  Parameters: {"action"=>"welcome", "controller"=>"infos"}
Rendering template within layouts/application
Rendering infos/welcome
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '0ac20ff371f078c91922138635906a9251d7b65b05489925880af3502004042a81223ef0a652bc40fdde808cc957f3683828f377537d860e33ca0f10cc2e55c0') LIMIT 1[0m
Rendered layouts/_user_nav (0.4ms)
Completed in 31ms (View: 27, DB: 1) | 200 OK [http://localhost/]


Processing UsersController#show (for 127.0.0.1 at 2009-09-03 23:21:29) [GET]
  Parameters: {"action"=>"show", "id"=>"current", "controller"=>"users"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '0ac20ff371f078c91922138635906a9251d7b65b05489925880af3502004042a81223ef0a652bc40fdde808cc957f3683828f377537d860e33ca0f10cc2e55c0') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/show
  [4;35;1mSubscription Load (0.5ms)[0m   [0mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 1 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
  [4;36;1mSubscriptionPlan Load (0.4ms)[0m   [0;1mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."id" = 2) [0m
Rendered users/_sidebar (4.9ms)
Rendered layouts/_user_nav (0.4ms)
Completed in 40ms (View: 14, DB: 1) | 200 OK [http://localhost/users/current]


Processing SubscriptionsController#show (for 127.0.0.1 at 2009-09-03 23:21:31) [GET]
  Parameters: {"action"=>"show", "id"=>"current", "controller"=>"subscriptions"}
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '0ac20ff371f078c91922138635906a9251d7b65b05489925880af3502004042a81223ef0a652bc40fdde808cc957f3683828f377537d860e33ca0f10cc2e55c0') LIMIT 1[0m
  [4;36;1mSubscription Load (0.6ms)[0m   [0;1mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 1 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
Rendering template within layouts/application
Rendering subscriptions/show
  [4;35;1mSubscriptionPlan Load (0.5ms)[0m   [0mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."id" = 2) [0m
  [4;36;1mSubscriptionBilling Load (0.5ms)[0m   [0;1mSELECT * FROM "subscription_billings" WHERE ("subscription_billings".subscription_id = 1) LIMIT 1[0m
  [4;35;1mSubscriptionTransaction Load (0.3ms)[0m   [0mSELECT * FROM "subscription_transactions" WHERE ("subscription_transactions".subscription_id = 1) ORDER BY created_at DESC LIMIT 1[0m
Rendered layouts/_user_nav (0.4ms)
Completed in 59ms (View: 30, DB: 3) | 200 OK [http://localhost/subscriptions/current]


Processing SubscriptionsController#credit_card (for 127.0.0.1 at 2009-09-03 23:21:34) [GET]
  Parameters: {"action"=>"credit_card", "id"=>"current", "controller"=>"subscriptions"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '0ac20ff371f078c91922138635906a9251d7b65b05489925880af3502004042a81223ef0a652bc40fdde808cc957f3683828f377537d860e33ca0f10cc2e55c0') LIMIT 1[0m
  [4;35;1mSubscription Load (0.5ms)[0m   [0mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 1 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
Rendering template within layouts/application
Rendering subscriptions/credit_card
Rendered layouts/_user_nav (0.4ms)
Completed in 35ms (View: 11, DB: 1) | 200 OK [http://localhost/subscriptions/current/credit_card]


Processing SubscriptionsController#store_credit_card (for 127.0.0.1 at 2009-09-03 23:21:36) [POST]
  Parameters: {"commit"=>"Submit", "action"=>"store_credit_card", "authenticity_token"=>"DTCdpMb+VgY3wMbzGlOzteA8SjSvrjrHvtTK4FX0POg=", "credit_card"=>{"number"=>"", "month"=>"01", "type"=>"visa", "year"=>"2009", "last_name"=>"", "verification_value"=>"", "first_name"=>""}, "id"=>"current", "controller"=>"subscriptions"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '0ac20ff371f078c91922138635906a9251d7b65b05489925880af3502004042a81223ef0a652bc40fdde808cc957f3683828f377537d860e33ca0f10cc2e55c0') LIMIT 1[0m
  [4;35;1mSubscription Load (0.5ms)[0m   [0mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 1 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
  [4;36;1mSubscriptionBilling Load (0.6ms)[0m   [0;1mSELECT * FROM "subscription_billings" WHERE ("subscription_billings".subscription_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering subscriptions/credit_card
Rendered layouts/_user_nav (0.5ms)
Completed in 14908ms (View: 7, DB: 2) | 200 OK [http://localhost/subscriptions/current/store_credit_card]

***** Debugger requested, but was not available: Start server with --debugger to enable *****

***** Debugger requested, but was not available: Start server with --debugger to enable *****

***** Debugger requested, but was not available: Start server with --debugger to enable *****
  [4;36;1mSQL (2.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to SaaslogicMigration (20090901043747)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSQLite3::SQLException: no such table: subscription_profiles: DROP TABLE "subscription_profiles"[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (2.1ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20090901024918)
  [4;36;1mSQL (0.7ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "persistence_token" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090901024918')[0m
Migrating to CreateInfos (20090901025004)
  [4;36;1mSQL (0.6ms)[0m   [0;1mCREATE TABLE "infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090901025004')[0m
Migrating to SaaslogicMigration (20090901043747)
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "plan_id" integer, "state" varchar(255), "next_renewal_on" date, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCREATE TABLE "subscription_profiles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer, "state" varchar(255), "profile_key" varchar(255), "card_first_name" varchar(255), "card_last_name" varchar(255), "card_type" varchar(255), "card_display_number" varchar(255), "card_expires_on" date, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCREATE TABLE "subscription_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer NOT NULL, "action" varchar(255), "amount_cents" integer, "success" boolean, "authorization" varchar(255), "message" varchar(255), "params" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCREATE TABLE "subscription_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "rate_cents" integer DEFAULT 0, "interval" integer DEFAULT 1, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090901043747')[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("infos")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("subscription_plans")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("subscription_profiles")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("subscription_transactions")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("subscriptions")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("infos")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("subscription_plans")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("subscription_profiles")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("subscription_transactions")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("subscriptions")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mCREATE TABLE "infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mCREATE TABLE "subscription_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "rate_cents" integer DEFAULT 0, "interval" integer DEFAULT 1, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.5ms)[0m   [0;1mCREATE TABLE "subscription_profiles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer, "state" varchar(255), "profile_key" varchar(255), "card_first_name" varchar(255), "card_last_name" varchar(255), "card_type" varchar(255), "card_display_number" varchar(255), "card_expires_on" date, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mCREATE TABLE "subscription_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer NOT NULL, "action" varchar(255), "amount_cents" integer, "success" boolean, "authorization" varchar(255), "message" varchar(255), "params" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "plan_id" integer, "state" varchar(255), "next_renewal_on" date, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (5.1ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "persistence_token" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (2.4ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901043747')[0m
  [4;35;1mSQL (8.3ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090901024918')[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901025004')[0m
  [4;36;1mSubscriptionPlan Load (0.2ms)[0m   [0;1mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."name" = 'free') LIMIT 1[0m
  [4;35;1mSubscriptionPlan Create (0.7ms)[0m   [0mINSERT INTO "subscription_plans" ("name", "created_at", "rate_cents", "updated_at", "interval", "info_create_edit") VALUES('free', '2009-09-04 08:09:18', 0, '2009-09-04 08:09:18', 1, NULL)[0m
  [4;36;1mSubscriptionPlan Load (0.3ms)[0m   [0;1mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."name" = 'basic') LIMIT 1[0m
  [4;35;1mSubscriptionPlan Create (0.5ms)[0m   [0mINSERT INTO "subscription_plans" ("name", "created_at", "rate_cents", "updated_at", "interval", "info_create_edit") VALUES('basic', '2009-09-04 08:09:18', 1000, '2009-09-04 08:09:18', 1, 'f')[0m
  [4;36;1mSubscriptionPlan Load (0.3ms)[0m   [0;1mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."name" = 'pro') LIMIT 1[0m
  [4;35;1mSubscriptionPlan Create (0.5ms)[0m   [0mINSERT INTO "subscription_plans" ("name", "created_at", "rate_cents", "updated_at", "interval", "info_create_edit") VALUES('pro', '2009-09-04 08:09:18', 30000, '2009-09-04 08:09:18', 12, 't')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("infos")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("subscription_plans")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("subscription_profiles")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("subscription_transactions")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("subscriptions")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (59.0ms)[0m   [0;1mCREATE TABLE "infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mCREATE TABLE "subscription_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "rate_cents" integer DEFAULT 0, "interval" integer DEFAULT 1, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mCREATE TABLE "subscription_profiles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer, "state" varchar(255), "profile_key" varchar(255), "card_first_name" varchar(255), "card_last_name" varchar(255), "card_type" varchar(255), "card_display_number" varchar(255), "card_expires_on" date, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mCREATE TABLE "subscription_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer NOT NULL, "action" varchar(255), "amount_cents" integer, "success" boolean, "authorization" varchar(255), "message" varchar(255), "params" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "plan_id" integer, "state" varchar(255), "next_renewal_on" date, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "persistence_token" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (2.1ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901043747')[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090901024918')[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901025004')[0m
  [4;36;1mSQL (7.1ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to SaaslogicMigration (20090901043747)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.3ms)[0m   [0mDROP TABLE "subscription_profiles"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDROP TABLE "subscription_plans"[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDROP TABLE "subscription_transactions"[0m
  [4;36;1mSQL (7.4ms)[0m   [0;1mDROP TABLE "subscriptions"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20090901043747'[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("infos")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20090901024918)
Migrating to CreateInfos (20090901025004)
Migrating to SaaslogicMigration (20090901043747)
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "plan_id" integer, "state" varchar(255), "next_renewal_on" date, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "subscription_profiles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer, "state" varchar(255), "profile_key" varchar(255), "card_first_name" varchar(255), "card_last_name" varchar(255), "card_type" varchar(255), "card_display_number" varchar(255), "card_expires_on" date, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "subscription_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer NOT NULL, "action" varchar(255), "amount_cents" integer, "success" boolean, "authorization" varchar(255), "message" varchar(255), "params" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "subscription_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "rate_cents" integer DEFAULT 0, "interval" integer DEFAULT 1, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090901043747')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("infos")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("subscription_plans")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("subscription_profiles")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("subscription_transactions")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("subscriptions")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("infos")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("subscription_plans")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("subscription_profiles")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("subscription_transactions")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("subscriptions")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mCREATE TABLE "infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (40.4ms)[0m   [0;1mCREATE TABLE "subscription_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "rate_cents" integer DEFAULT 0, "interval" integer DEFAULT 1, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mCREATE TABLE "subscription_profiles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer, "state" varchar(255), "profile_key" varchar(255), "card_first_name" varchar(255), "card_last_name" varchar(255), "card_type" varchar(255), "card_display_number" varchar(255), "card_expires_on" date, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mCREATE TABLE "subscription_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer NOT NULL, "action" varchar(255), "amount_cents" integer, "success" boolean, "authorization" varchar(255), "message" varchar(255), "params" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "plan_id" integer, "state" varchar(255), "next_renewal_on" date, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.8ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "persistence_token" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (2.3ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901043747')[0m
  [4;35;1mSQL (2.6ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090901024918')[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901025004')[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to SaaslogicMigration (20090901043747)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.4ms)[0m   [0mDROP TABLE "subscription_profiles"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDROP TABLE "subscription_plans"[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDROP TABLE "subscription_transactions"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDROP TABLE "subscriptions"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20090901043747'[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("infos")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20090901024918)
Migrating to CreateInfos (20090901025004)
Migrating to SaaslogicMigration (20090901043747)
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "plan_id" integer, "state" varchar(255), "next_renewal_on" date, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "subscription_profiles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer, "state" varchar(255), "profile_key" varchar(255), "card_first_name" varchar(255), "card_last_name" varchar(255), "card_type" varchar(255), "card_display_number" varchar(255), "card_expires_on" date, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "subscription_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer NOT NULL, "amount_cents" integer, "success" boolean, "reference" varchar(255), "message" varchar(255), "action" varchar(255), "params" text, "test" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "subscription_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "rate_cents" integer DEFAULT 0, "interval" integer DEFAULT 1, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090901043747')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("infos")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("subscription_plans")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("subscription_profiles")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("subscription_transactions")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("subscriptions")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("infos")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("subscription_plans")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("subscription_profiles")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("subscription_transactions")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("subscriptions")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mCREATE TABLE "infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mCREATE TABLE "subscription_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "rate_cents" integer DEFAULT 0, "interval" integer DEFAULT 1, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (7.4ms)[0m   [0;1mCREATE TABLE "subscription_profiles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer, "state" varchar(255), "profile_key" varchar(255), "card_first_name" varchar(255), "card_last_name" varchar(255), "card_type" varchar(255), "card_display_number" varchar(255), "card_expires_on" date, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (5.9ms)[0m   [0;1mCREATE TABLE "subscription_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer NOT NULL, "amount_cents" integer, "success" boolean, "reference" varchar(255), "message" varchar(255), "action" varchar(255), "params" text, "test" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "plan_id" integer, "state" varchar(255), "next_renewal_on" date, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "persistence_token" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (6.8ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (2.3ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901043747')[0m
  [4;35;1mSQL (1.9ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090901024918')[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901025004')[0m
  [4;36;1mSubscriptionPlan Load (0.2ms)[0m   [0;1mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."name" = 'free') LIMIT 1[0m
  [4;35;1mSubscriptionPlan Load (0.2ms)[0m   [0mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."rate_cents" = 0) LIMIT 1[0m
  [4;36;1mSubscriptionPlan Create (7.7ms)[0m   [0;1mINSERT INTO "subscription_plans" ("name", "created_at", "rate_cents", "updated_at", "interval", "info_create_edit") VALUES('free', '2009-09-05 00:03:19', 0, '2009-09-05 00:03:19', 1, NULL)[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = '139f127a522130e9fa49b3501f3ea69a70014c36fae76b6b614dc7860fb28ecf81e2eab34bf17f183e4b61a5db143f6989884580b409ae21efc9600074d896ce') LIMIT 1[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'foo@mail.com') LIMIT 1[0m
  [4;35;1mUser Exists (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."username") = 'foo') LIMIT 1[0m
  [4;36;1mUser Exists (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = 'b7dcf2bdac0b51b924c31732f158623f637aef70e9f4a64a8bb8961bdbbe6c9dd2abfaa8918eae04f445bca26ce940f4f902fd24c86a155576f0b0f52d98d80a') LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'foo@mail.com') LIMIT 1[0m
  [4;36;1mUser Exists (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."username") = 'foo') LIMIT 1[0m
  [4;35;1mUser Exists (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = 'a783519029f447d13ec5c859d79a2a32df39b58f07429cd64aeed41304942728b7a41b76ce92a214d5ea08d2731b79eb86a0ba72e24a872cdcf3c02ff3820b03') LIMIT 1[0m
  [4;36;1mUser Create (0.6ms)[0m   [0;1mINSERT INTO "users" ("created_at", "crypted_password", "updated_at", "username", "password_salt", "persistence_token", "email") VALUES('2009-09-05 00:04:48', '4df9567c7c0af760629c50a9f6bae01686661c2fb6f4ae0ca27f6d334e0fd250bbf7fb8dedd26eb7b5714187c9b067eb1eedbbd03cdf9a83e556ebe2cd5cf962', '2009-09-05 00:04:48', 'foo', '6gzVunu8mWPiSJCTbm5f', 'a783519029f447d13ec5c859d79a2a32df39b58f07429cd64aeed41304942728b7a41b76ce92a214d5ea08d2731b79eb86a0ba72e24a872cdcf3c02ff3820b03', 'foo@mail.com')[0m
  [4;35;1mSubscription Load (0.3ms)[0m   [0mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 1 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
  [4;36;1mSubscription Create (0.8ms)[0m   [0;1mINSERT INTO "subscriptions" ("created_at", "updated_at", "subscriber_id", "subscriber_type", "info_create_edit", "next_renewal_on", "plan_id", "state") VALUES('2009-09-05 00:05:16', '2009-09-05 00:05:16', 1, 'User', NULL, NULL, 1, 'pending')[0m
  [4;35;1mSubscriptionProfile Load (0.2ms)[0m   [0mSELECT * FROM "subscription_profiles" WHERE ("subscription_profiles".subscription_id = 1) LIMIT 1[0m
  [4;36;1mSubscription Update (10.1ms)[0m   [0;1mUPDATE "subscriptions" SET "updated_at" = '2009-09-05 00:05:16', "created_at" = '2009-09-05 00:05:16', "plan_id" = 1, "state" = 'free', "subscriber_type" = 'User', "subscriber_id" = 1 WHERE "id" = 1[0m
  [4;35;1mSubscriptionProfile Create (0.2ms)[0m   [0mINSERT INTO "subscription_profiles" ("card_first_name", "created_at", "profile_key", "card_type", "card_display_number", "updated_at", "subscription_id", "card_expires_on", "card_last_name", "state") VALUES(NULL, '2009-09-05 00:05:16', NULL, NULL, NULL, '2009-09-05 00:05:16', 1, NULL, NULL, 'none')[0m
  [4;36;1mSubscriptionTransaction Load (3.2ms)[0m   [0;1mSELECT * FROM "subscription_transactions" WHERE ("subscription_transactions".subscription_id = 1) [0m
  [4;35;1mSubscriptionTransaction Create (0.6ms)[0m   [0mINSERT INTO "subscription_transactions" ("reference", "created_at", "updated_at", "amount_cents", "action", "subscription_id", "success", "params", "message", "test") VALUES(NULL, '2009-09-05 00:07:43', '2009-09-05 00:07:43', NULL, NULL, 1, NULL, NULL, NULL, NULL)[0m
  [4;36;1mSQL (7.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to SaaslogicMigration (20090901043747)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.3ms)[0m   [0mDROP TABLE "subscription_profiles"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDROP TABLE "subscription_plans"[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDROP TABLE "subscription_transactions"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDROP TABLE "subscriptions"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20090901043747'[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("infos")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20090901024918)
Migrating to CreateInfos (20090901025004)
Migrating to SaaslogicMigration (20090901043747)
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "plan_id" integer, "state" varchar(255), "next_renewal_on" date, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "subscription_profiles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer, "state" varchar(255), "profile_key" varchar(255), "card_first_name" varchar(255), "card_last_name" varchar(255), "card_type" varchar(255), "card_display_number" varchar(255), "card_expires_on" date, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCREATE TABLE "subscription_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer NOT NULL, "amount_cents" integer, "success" boolean, "reference" varchar(255), "message" varchar(255), "action" varchar(255), "params" text, "test" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "subscription_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "rate_cents" integer DEFAULT 0, "interval" integer DEFAULT 1, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090901043747')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("infos")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("subscription_plans")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("subscription_profiles")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("subscription_transactions")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("subscriptions")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (1.7ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20090901024918)
  [4;36;1mSQL (0.8ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "persistence_token" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090901024918')[0m
Migrating to CreateInfos (20090901025004)
  [4;36;1mSQL (0.8ms)[0m   [0;1mCREATE TABLE "infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090901025004')[0m
Migrating to SaaslogicMigration (20090901043747)
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "plan_id" integer, "state" varchar(255), "next_renewal_on" date, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCREATE TABLE "subscription_profiles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer, "state" varchar(255), "profile_key" varchar(255), "card_first_name" varchar(255), "card_last_name" varchar(255), "card_type" varchar(255), "card_display_number" varchar(255), "card_expires_on" date, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCREATE TABLE "subscription_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer NOT NULL, "amount_cents" integer, "success" boolean, "reference" varchar(255), "message" varchar(255), "action" varchar(255), "params" text, "test" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCREATE TABLE "subscription_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "rate_cents" integer DEFAULT 0, "interval" integer DEFAULT 1, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090901043747')[0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("infos")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("subscription_plans")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("subscription_profiles")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("subscription_transactions")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("subscriptions")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("infos")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("subscription_plans")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("subscription_profiles")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("subscription_transactions")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("subscriptions")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mCREATE TABLE "infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mCREATE TABLE "subscription_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "rate_cents" integer DEFAULT 0, "interval" integer DEFAULT 1, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (5.6ms)[0m   [0;1mCREATE TABLE "subscription_profiles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer, "state" varchar(255), "profile_key" varchar(255), "card_first_name" varchar(255), "card_last_name" varchar(255), "card_type" varchar(255), "card_display_number" varchar(255), "card_expires_on" date, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (5.5ms)[0m   [0;1mCREATE TABLE "subscription_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer NOT NULL, "amount_cents" integer, "success" boolean, "reference" varchar(255), "message" varchar(255), "action" varchar(255), "params" text, "test" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "plan_id" integer, "state" varchar(255), "next_renewal_on" date, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "persistence_token" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (7.0ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (2.2ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901043747')[0m
  [4;35;1mSQL (1.8ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090901024918')[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901025004')[0m
  [4;36;1mSubscriptionPlan Load (0.2ms)[0m   [0;1mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."name" = 'free') LIMIT 1[0m
  [4;35;1mSubscriptionPlan Create (0.7ms)[0m   [0mINSERT INTO "subscription_plans" ("name", "created_at", "rate_cents", "updated_at", "interval", "info_create_edit") VALUES('free', '2009-09-05 05:14:36', 0, '2009-09-05 05:14:36', 1, NULL)[0m
  [4;36;1mSubscriptionPlan Load (0.3ms)[0m   [0;1mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."name" = 'basic') LIMIT 1[0m
  [4;35;1mSubscriptionPlan Create (0.4ms)[0m   [0mINSERT INTO "subscription_plans" ("name", "created_at", "rate_cents", "updated_at", "interval", "info_create_edit") VALUES('basic', '2009-09-05 05:14:36', 1000, '2009-09-05 05:14:36', 1, 'f')[0m
  [4;36;1mSubscriptionPlan Load (0.2ms)[0m   [0;1mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."name" = 'pro') LIMIT 1[0m
  [4;35;1mSubscriptionPlan Create (0.4ms)[0m   [0mINSERT INTO "subscription_plans" ("name", "created_at", "rate_cents", "updated_at", "interval", "info_create_edit") VALUES('pro', '2009-09-05 05:14:36', 30000, '2009-09-05 05:14:36', 12, 't')[0m


Processing InfosController#welcome (for 127.0.0.1 at 2009-09-05 01:15:00) [GET]
  Parameters: {"action"=>"welcome", "controller"=>"infos"}
Rendering template within layouts/application
Rendering infos/welcome
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '0ac20ff371f078c91922138635906a9251d7b65b05489925880af3502004042a81223ef0a652bc40fdde808cc957f3683828f377537d860e33ca0f10cc2e55c0') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendered layouts/_user_nav (0.9ms)
Completed in 60ms (View: 57, DB: 1) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2009-09-05 01:15:04) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
  [4;36;1mSubscriptionPlan Load (0.7ms)[0m   [0;1mSELECT * FROM "subscription_plans" ORDER BY rate_cents[0m
Rendering template within layouts/application
Rendering users/new
  [4;35;1mSubscriptionPlan Load (1.2ms)[0m   [0mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."name" = 'free') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '0ac20ff371f078c91922138635906a9251d7b65b05489925880af3502004042a81223ef0a652bc40fdde808cc957f3683828f377537d860e33ca0f10cc2e55c0') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendered layouts/_user_nav (7.9ms)
Completed in 135ms (View: 113, DB: 2) | 200 OK [http://localhost/signup]


Processing UsersController#create (for 127.0.0.1 at 2009-09-05 01:15:17) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"DTCdpMb+VgY3wMbzGlOzteA8SjSvrjrHvtTK4FX0POg=", "controller"=>"users", "user"=>{"password_confirmation"=>"[FILTERED]", "subscription_plan"=>"2", "username"=>"jonathan", "password"=>"[FILTERED]", "email"=>"jonathan@linowes.com"}}
  [4;36;1mSubscriptionPlan Load (0.4ms)[0m   [0;1mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."id" = 2) [0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'jonathan@linowes.com') LIMIT 1[0m
  [4;36;1mUser Exists (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."username") = 'jonathan') LIMIT 1[0m
  [4;35;1mUser Exists (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = 'd8504f1299d24562890562c18a8ed16bcf8b6b8a26511e83bd9e98a4cc786bda0079c8469bd052f304b96cb7d5b304a6f181ec738de1d88042927ed31a9ac133') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '0ac20ff371f078c91922138635906a9251d7b65b05489925880af3502004042a81223ef0a652bc40fdde808cc957f3683828f377537d860e33ca0f10cc2e55c0') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mUser Create (0.7ms)[0m   [0;1mINSERT INTO "users" ("created_at", "crypted_password", "updated_at", "username", "password_salt", "persistence_token", "email") VALUES('2009-09-05 05:15:17', 'd590bcce7946de4c088665b4da9e1fe83562db16a15a883f8d56d3df29146fd643440629118f23c3865c55764a8fa90b125217b3aafe787e09bc0c04fda673d4', '2009-09-05 05:15:17', 'jonathan', 'p11MtLuYrDEpuW9HRdWG', 'd8504f1299d24562890562c18a8ed16bcf8b6b8a26511e83bd9e98a4cc786bda0079c8469bd052f304b96cb7d5b304a6f181ec738de1d88042927ed31a9ac133', 'jonathan@linowes.com')[0m
  [4;35;1mSubscription Create (0.2ms)[0m   [0mINSERT INTO "subscriptions" ("created_at", "updated_at", "subscriber_id", "subscriber_type", "info_create_edit", "next_renewal_on", "plan_id", "state") VALUES('2009-09-05 05:15:17', '2009-09-05 05:15:17', 1, 'User', NULL, NULL, 2, 'pending')[0m
  [4;36;1mSubscriptionProfile Load (0.2ms)[0m   [0;1mSELECT * FROM "subscription_profiles" WHERE ("subscription_profiles".subscription_id = 1) LIMIT 1[0m
  [4;35;1mSubscriptionProfile Create (0.3ms)[0m   [0mINSERT INTO "subscription_profiles" ("card_first_name", "created_at", "profile_key", "card_type", "card_display_number", "updated_at", "subscription_id", "card_expires_on", "card_last_name", "state") VALUES(NULL, '2009-09-05 05:15:18', NULL, NULL, NULL, '2009-09-05 05:15:18', 1, NULL, NULL, 'none')[0m
  [4;36;1mSubscription Update (0.2ms)[0m   [0;1mUPDATE "subscriptions" SET "updated_at" = '2009-09-05 05:15:18', "created_at" = '2009-09-05 05:15:17', "plan_id" = 2, "state" = 'trial', "subscriber_type" = 'User', "next_renewal_on" = '2009-10-05', "subscriber_id" = 1 WHERE "id" = 1[0m
Redirected to http://localhost:3000/
Completed in 250ms (DB: 3) | 302 Found [http://localhost/users]


Processing InfosController#welcome (for 127.0.0.1 at 2009-09-05 01:15:18) [GET]
  Parameters: {"action"=>"welcome", "controller"=>"infos"}
Rendering template within layouts/application
Rendering infos/welcome
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd8504f1299d24562890562c18a8ed16bcf8b6b8a26511e83bd9e98a4cc786bda0079c8469bd052f304b96cb7d5b304a6f181ec738de1d88042927ed31a9ac133') LIMIT 1[0m
Rendered layouts/_user_nav (0.3ms)
Completed in 23ms (View: 20, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#show (for 127.0.0.1 at 2009-09-05 01:15:22) [GET]
  Parameters: {"action"=>"show", "id"=>"current", "controller"=>"users"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd8504f1299d24562890562c18a8ed16bcf8b6b8a26511e83bd9e98a4cc786bda0079c8469bd052f304b96cb7d5b304a6f181ec738de1d88042927ed31a9ac133') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/show
  [4;35;1mSubscription Load (0.5ms)[0m   [0mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 1 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
  [4;36;1mSubscriptionPlan Load (0.3ms)[0m   [0;1mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."id" = 2) [0m
Rendered users/_sidebar (4.0ms)
Rendered layouts/_user_nav (0.3ms)
Completed in 33ms (View: 12, DB: 1) | 200 OK [http://localhost/users/current]


Processing SubscriptionsController#show (for 127.0.0.1 at 2009-09-05 01:15:26) [GET]
  Parameters: {"action"=>"show", "id"=>"current", "controller"=>"subscriptions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd8504f1299d24562890562c18a8ed16bcf8b6b8a26511e83bd9e98a4cc786bda0079c8469bd052f304b96cb7d5b304a6f181ec738de1d88042927ed31a9ac133') LIMIT 1[0m
  [4;36;1mSubscription Load (0.5ms)[0m   [0;1mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 1 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
Rendering template within layouts/application
Rendering subscriptions/show
  [4;35;1mSubscriptionPlan Load (0.4ms)[0m   [0mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."id" = 2) [0m
  [4;36;1mSubscriptionProfile Load (0.4ms)[0m   [0;1mSELECT * FROM "subscription_profiles" WHERE ("subscription_profiles".subscription_id = 1) LIMIT 1[0m
  [4;35;1mSubscriptionTransaction Load (0.3ms)[0m   [0mSELECT * FROM "subscription_transactions" WHERE ("subscription_transactions".subscription_id = 1) ORDER BY created_at DESC LIMIT 1[0m
Rendered layouts/_user_nav (0.3ms)
Completed in 37ms (View: 15, DB: 2) | 200 OK [http://localhost/subscriptions/current]


Processing SubscriptionsController#credit_card (for 127.0.0.1 at 2009-09-05 01:15:29) [GET]
  Parameters: {"action"=>"credit_card", "id"=>"current", "controller"=>"subscriptions"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd8504f1299d24562890562c18a8ed16bcf8b6b8a26511e83bd9e98a4cc786bda0079c8469bd052f304b96cb7d5b304a6f181ec738de1d88042927ed31a9ac133') LIMIT 1[0m
  [4;35;1mSubscription Load (0.5ms)[0m   [0mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 1 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
Rendering template within layouts/application
Rendering subscriptions/credit_card
Rendered layouts/_user_nav (0.4ms)
Completed in 32ms (View: 10, DB: 1) | 200 OK [http://localhost/subscriptions/current/credit_card]
  [4;36;1mSQL (1.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.4ms)[0m   [0;1mCREATE TABLE "infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.3ms)[0m   [0;1mCREATE TABLE "subscription_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "rate_cents" integer DEFAULT 0, "interval" integer DEFAULT 1, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (5.7ms)[0m   [0;1mCREATE TABLE "subscription_profiles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer, "state" varchar(255), "profile_key" varchar(255), "card_first_name" varchar(255), "card_last_name" varchar(255), "card_type" varchar(255), "card_display_number" varchar(255), "card_expires_on" date, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mCREATE TABLE "subscription_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer NOT NULL, "amount_cents" integer, "success" boolean, "reference" varchar(255), "message" varchar(255), "action" varchar(255), "params" text, "test" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (9.3ms)[0m   [0;1mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "plan_id" integer, "state" varchar(255), "next_renewal_on" date, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "persistence_token" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (9.7ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901043747')[0m
  [4;35;1mSQL (4.6ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090901024918')[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901025004')[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mCREATE TABLE "infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mCREATE TABLE "subscription_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "rate_cents" integer DEFAULT 0, "interval" integer DEFAULT 1, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (4.9ms)[0m   [0;1mCREATE TABLE "subscription_profiles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer, "state" varchar(255), "profile_key" varchar(255), "card_first_name" varchar(255), "card_last_name" varchar(255), "card_type" varchar(255), "card_display_number" varchar(255), "card_expires_on" date, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mCREATE TABLE "subscription_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer NOT NULL, "amount_cents" integer, "success" boolean, "reference" varchar(255), "message" varchar(255), "action" varchar(255), "params" text, "test" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (8.5ms)[0m   [0;1mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "plan_id" integer, "state" varchar(255), "next_renewal_on" date, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "persistence_token" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (4.3ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (1.8ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (4.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901043747')[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090901024918')[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901025004')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("infos")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("subscription_plans")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("subscription_profiles")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("subscription_transactions")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("subscriptions")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mCREATE TABLE "infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mCREATE TABLE "subscription_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "rate_cents" integer DEFAULT 0, "interval" integer DEFAULT 1, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (7.2ms)[0m   [0;1mCREATE TABLE "subscription_profiles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer, "state" varchar(255), "profile_key" varchar(255), "card_first_name" varchar(255), "card_last_name" varchar(255), "card_type" varchar(255), "card_display_number" varchar(255), "card_expires_on" date, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (5.7ms)[0m   [0;1mCREATE TABLE "subscription_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer NOT NULL, "amount_cents" integer, "success" boolean, "reference" varchar(255), "message" varchar(255), "action" varchar(255), "params" text, "test" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (6.1ms)[0m   [0;1mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "plan_id" integer, "state" varchar(255), "next_renewal_on" date, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (5.4ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "persistence_token" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (2.3ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901043747')[0m
  [4;35;1mSQL (8.5ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090901024918')[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901025004')[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = '26079637467eb5f839486164ab2aec4e955a7b23d71058b814d385dcc28d4beaeaebf3996550f3c3d4e66530180a3de7ba74f56ce303e5be0410854d1bd067a4') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'foo@foo.com') LIMIT 1[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."username") = 'foo') LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = 'ee2fe3a6b6cd3d5b36968f8cd411440e18b4d496af20cccaeb772a1f1ca5ab7b04456510ef7e6cbe620181f59c51d3519b707270cf6e457c239f82372b9c5279') LIMIT 1[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'foo@foo.com') LIMIT 1[0m
  [4;35;1mUser Exists (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."username") = 'foo') LIMIT 1[0m
  [4;36;1mUser Exists (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = 'ee2fe3a6b6cd3d5b36968f8cd411440e18b4d496af20cccaeb772a1f1ca5ab7b04456510ef7e6cbe620181f59c51d3519b707270cf6e457c239f82372b9c5279') LIMIT 1[0m
  [4;35;1mUser Create (0.9ms)[0m   [0mINSERT INTO "users" ("created_at", "crypted_password", "updated_at", "username", "password_salt", "persistence_token", "email") VALUES('2009-09-05 06:13:26', 'fa445fafd41349e33c81179d443395e1671ebea1e9202211a6d88c1fb7fc8eed435ef3138a5c44d241cd8b25bba1cc25145319f1743e1f69550d4ca661bdc8fa', '2009-09-05 06:13:26', 'foo', 'g8OPM6aXHrKd9_8dm8gX', 'ee2fe3a6b6cd3d5b36968f8cd411440e18b4d496af20cccaeb772a1f1ca5ab7b04456510ef7e6cbe620181f59c51d3519b707270cf6e457c239f82372b9c5279', 'foo@foo.com')[0m
  [4;36;1mSubscription Create (0.2ms)[0m   [0;1mINSERT INTO "subscriptions" ("created_at", "updated_at", "subscriber_id", "subscriber_type", "info_create_edit", "next_renewal_on", "plan_id", "state") VALUES('2009-09-05 06:13:26', '2009-09-05 06:13:26', 2, 'User', NULL, NULL, NULL, NULL)[0m
  [4;35;1mSubscriptionProfile Load (0.2ms)[0m   [0mSELECT * FROM "subscription_profiles" WHERE ("subscription_profiles".subscription_id = 2) LIMIT 1[0m
  [4;36;1mSubscriptionProfile Create (0.3ms)[0m   [0;1mINSERT INTO "subscription_profiles" ("card_first_name", "created_at", "profile_key", "card_type", "card_display_number", "updated_at", "subscription_id", "card_expires_on", "card_last_name", "state") VALUES(NULL, '2009-09-05 06:13:26', NULL, NULL, NULL, '2009-09-05 06:13:26', 2, NULL, NULL, 'none')[0m


Processing InfosController#welcome (for 127.0.0.1 at 2009-09-05 12:34:40) [GET]
  Parameters: {"action"=>"welcome", "controller"=>"infos"}
Rendering template within layouts/application
Rendering infos/welcome
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd8504f1299d24562890562c18a8ed16bcf8b6b8a26511e83bd9e98a4cc786bda0079c8469bd052f304b96cb7d5b304a6f181ec738de1d88042927ed31a9ac133') LIMIT 1[0m
Rendered layouts/_user_nav (0.3ms)
Completed in 57ms (View: 54, DB: 1) | 200 OK [http://localhost/]


Processing UsersController#show (for 127.0.0.1 at 2009-09-05 12:35:11) [GET]
  Parameters: {"action"=>"show", "id"=>"current", "controller"=>"users"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd8504f1299d24562890562c18a8ed16bcf8b6b8a26511e83bd9e98a4cc786bda0079c8469bd052f304b96cb7d5b304a6f181ec738de1d88042927ed31a9ac133') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/show
  [4;36;1mSubscription Load (0.5ms)[0m   [0;1mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 1 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
  [4;35;1mSubscriptionPlan Load (0.3ms)[0m   [0mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."id" = 2) [0m
Rendered users/_sidebar (10.9ms)
Rendered layouts/_user_nav (0.3ms)
Completed in 35ms (View: 15, DB: 1) | 200 OK [http://localhost/users/current]


Processing SubscriptionsController#show (for 127.0.0.1 at 2009-09-05 12:35:13) [GET]
  Parameters: {"action"=>"show", "id"=>"current", "controller"=>"subscriptions"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd8504f1299d24562890562c18a8ed16bcf8b6b8a26511e83bd9e98a4cc786bda0079c8469bd052f304b96cb7d5b304a6f181ec738de1d88042927ed31a9ac133') LIMIT 1[0m
  [4;35;1mSubscription Load (0.4ms)[0m   [0mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 1 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
Rendering template within layouts/application
Rendering subscriptions/show
  [4;36;1mSubscriptionPlan Load (0.4ms)[0m   [0;1mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."id" = 2) [0m
  [4;35;1mSubscriptionProfile Load (0.4ms)[0m   [0mSELECT * FROM "subscription_profiles" WHERE ("subscription_profiles".subscription_id = 1) LIMIT 1[0m
  [4;36;1mSubscriptionTransaction Load (0.2ms)[0m   [0;1mSELECT * FROM "subscription_transactions" WHERE ("subscription_transactions".subscription_id = 1) ORDER BY created_at DESC LIMIT 1[0m
Rendered layouts/_user_nav (0.3ms)
Completed in 34ms (View: 13, DB: 2) | 200 OK [http://localhost/subscriptions/current]


Processing SubscriptionsController#credit_card (for 127.0.0.1 at 2009-09-05 12:35:18) [GET]
  Parameters: {"action"=>"credit_card", "id"=>"current", "controller"=>"subscriptions"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd8504f1299d24562890562c18a8ed16bcf8b6b8a26511e83bd9e98a4cc786bda0079c8469bd052f304b96cb7d5b304a6f181ec738de1d88042927ed31a9ac133') LIMIT 1[0m
  [4;36;1mSubscription Load (0.4ms)[0m   [0;1mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 1 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
Rendering template within layouts/application
Rendering subscriptions/credit_card
Rendered layouts/_user_nav (0.3ms)
Completed in 38ms (View: 18, DB: 1) | 200 OK [http://localhost/subscriptions/current/credit_card]


Processing UsersController#show (for 127.0.0.1 at 2009-09-05 12:35:29) [GET]
  Parameters: {"action"=>"show", "id"=>"current", "controller"=>"users"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd8504f1299d24562890562c18a8ed16bcf8b6b8a26511e83bd9e98a4cc786bda0079c8469bd052f304b96cb7d5b304a6f181ec738de1d88042927ed31a9ac133') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/show
  [4;36;1mSubscription Load (0.5ms)[0m   [0;1mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 1 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
  [4;35;1mSubscriptionPlan Load (0.3ms)[0m   [0mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."id" = 2) [0m
Rendered users/_sidebar (3.1ms)
Rendered layouts/_user_nav (0.3ms)
Completed in 24ms (View: 5, DB: 1) | 200 OK [http://localhost/users/current]


Processing SubscriptionsController#show (for 127.0.0.1 at 2009-09-05 12:35:36) [GET]
  Parameters: {"action"=>"show", "id"=>"current", "controller"=>"subscriptions"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd8504f1299d24562890562c18a8ed16bcf8b6b8a26511e83bd9e98a4cc786bda0079c8469bd052f304b96cb7d5b304a6f181ec738de1d88042927ed31a9ac133') LIMIT 1[0m
  [4;35;1mSubscription Load (0.4ms)[0m   [0mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 1 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
Rendering template within layouts/application
Rendering subscriptions/show
  [4;36;1mSubscriptionPlan Load (0.4ms)[0m   [0;1mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."id" = 2) [0m
  [4;35;1mSubscriptionProfile Load (0.4ms)[0m   [0mSELECT * FROM "subscription_profiles" WHERE ("subscription_profiles".subscription_id = 1) LIMIT 1[0m
  [4;36;1mSubscriptionTransaction Load (0.2ms)[0m   [0;1mSELECT * FROM "subscription_transactions" WHERE ("subscription_transactions".subscription_id = 1) ORDER BY created_at DESC LIMIT 1[0m
Rendered layouts/_user_nav (0.3ms)
Completed in 26ms (View: 5, DB: 2) | 200 OK [http://localhost/subscriptions/current]


Processing SubscriptionsController#credit_card (for 127.0.0.1 at 2009-09-05 12:47:47) [GET]
  Parameters: {"action"=>"credit_card", "id"=>"current", "controller"=>"subscriptions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd8504f1299d24562890562c18a8ed16bcf8b6b8a26511e83bd9e98a4cc786bda0079c8469bd052f304b96cb7d5b304a6f181ec738de1d88042927ed31a9ac133') LIMIT 1[0m
  [4;36;1mSubscription Load (0.5ms)[0m   [0;1mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 1 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `new_credit_card' for #<Class:0x313f4f4>):
  app/controllers/subscriptions_controller.rb:19:in `credit_card'

Rendered rescues/_trace (43.1ms)
Rendered rescues/_request_and_response (1.5ms)
Rendering rescues/layout (internal_server_error)


Processing SubscriptionsController#credit_card (for 127.0.0.1 at 2009-09-05 13:08:08) [GET]
  Parameters: {"action"=>"credit_card", "id"=>"current", "controller"=>"subscriptions"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd8504f1299d24562890562c18a8ed16bcf8b6b8a26511e83bd9e98a4cc786bda0079c8469bd052f304b96cb7d5b304a6f181ec738de1d88042927ed31a9ac133') LIMIT 1[0m
  [4;35;1mSubscription Load (0.4ms)[0m   [0mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 1 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
  [4;36;1mSubscriptionProfile Load (0.4ms)[0m   [0;1mSELECT * FROM "subscription_profiles" WHERE ("subscription_profiles".subscription_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering subscriptions/credit_card
Rendered layouts/_user_nav (0.3ms)
Completed in 30ms (View: 5, DB: 1) | 200 OK [http://localhost/subscriptions/current/credit_card]


Processing SubscriptionsController#show (for 127.0.0.1 at 2009-09-05 13:10:33) [GET]
  Parameters: {"action"=>"show", "id"=>"current", "controller"=>"subscriptions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd8504f1299d24562890562c18a8ed16bcf8b6b8a26511e83bd9e98a4cc786bda0079c8469bd052f304b96cb7d5b304a6f181ec738de1d88042927ed31a9ac133') LIMIT 1[0m
  [4;36;1mSubscription Load (0.4ms)[0m   [0;1mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 1 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
Rendering template within layouts/application
Rendering subscriptions/show
  [4;35;1mSubscriptionPlan Load (0.4ms)[0m   [0mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."id" = 2) [0m
  [4;36;1mSubscriptionProfile Load (0.4ms)[0m   [0;1mSELECT * FROM "subscription_profiles" WHERE ("subscription_profiles".subscription_id = 1) LIMIT 1[0m
  [4;35;1mSubscriptionTransaction Load (0.2ms)[0m   [0mSELECT * FROM "subscription_transactions" WHERE ("subscription_transactions".subscription_id = 1) ORDER BY created_at DESC LIMIT 1[0m
Rendered layouts/_user_nav (0.3ms)
Completed in 132ms (View: 10, DB: 2) | 200 OK [http://localhost/subscriptions/current]


Processing SubscriptionsController#credit_card (for 127.0.0.1 at 2009-09-05 13:10:36) [GET]
  Parameters: {"action"=>"credit_card", "id"=>"current", "controller"=>"subscriptions"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd8504f1299d24562890562c18a8ed16bcf8b6b8a26511e83bd9e98a4cc786bda0079c8469bd052f304b96cb7d5b304a6f181ec738de1d88042927ed31a9ac133') LIMIT 1[0m
  [4;35;1mSubscription Load (0.4ms)[0m   [0mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 1 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
  [4;36;1mSubscriptionProfile Load (0.4ms)[0m   [0;1mSELECT * FROM "subscription_profiles" WHERE ("subscription_profiles".subscription_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering subscriptions/credit_card
Rendered layouts/_user_nav (0.3ms)
Completed in 26ms (View: 5, DB: 1) | 200 OK [http://localhost/subscriptions/current/credit_card]


Processing SubscriptionsController#credit_card (for 127.0.0.1 at 2009-09-05 13:11:05) [GET]
  Parameters: {"action"=>"credit_card", "id"=>"current", "controller"=>"subscriptions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd8504f1299d24562890562c18a8ed16bcf8b6b8a26511e83bd9e98a4cc786bda0079c8469bd052f304b96cb7d5b304a6f181ec738de1d88042927ed31a9ac133') LIMIT 1[0m
  [4;36;1mSubscription Load (0.4ms)[0m   [0;1mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 1 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
  [4;35;1mSubscriptionProfile Load (0.4ms)[0m   [0mSELECT * FROM "subscription_profiles" WHERE ("subscription_profiles".subscription_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering subscriptions/credit_card
Rendered layouts/_user_nav (0.3ms)
Completed in 26ms (View: 5, DB: 1) | 200 OK [http://localhost/subscriptions/current/credit_card]


Processing SubscriptionsController#credit_card (for 127.0.0.1 at 2009-09-05 13:11:49) [GET]
  Parameters: {"action"=>"credit_card", "id"=>"current", "controller"=>"subscriptions"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd8504f1299d24562890562c18a8ed16bcf8b6b8a26511e83bd9e98a4cc786bda0079c8469bd052f304b96cb7d5b304a6f181ec738de1d88042927ed31a9ac133') LIMIT 1[0m
  [4;35;1mSubscription Load (0.5ms)[0m   [0mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 1 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
  [4;36;1mSubscriptionProfile Load (0.4ms)[0m   [0;1mSELECT * FROM "subscription_profiles" WHERE ("subscription_profiles".subscription_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering subscriptions/credit_card
Rendered layouts/_user_nav (10.5ms)
Completed in 179ms (View: 38, DB: 1) | 200 OK [http://localhost/subscriptions/current/credit_card]


Processing SubscriptionsController#credit_card (for 127.0.0.1 at 2009-09-05 13:11:52) [GET]
  Parameters: {"action"=>"credit_card", "id"=>"current", "controller"=>"subscriptions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd8504f1299d24562890562c18a8ed16bcf8b6b8a26511e83bd9e98a4cc786bda0079c8469bd052f304b96cb7d5b304a6f181ec738de1d88042927ed31a9ac133') LIMIT 1[0m
  [4;36;1mSubscription Load (0.4ms)[0m   [0;1mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 1 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
  [4;35;1mSubscriptionProfile Load (0.4ms)[0m   [0mSELECT * FROM "subscription_profiles" WHERE ("subscription_profiles".subscription_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering subscriptions/credit_card
Rendered layouts/_user_nav (0.3ms)
Completed in 99ms (View: 5, DB: 1) | 200 OK [http://localhost/subscriptions/current/credit_card]


Processing SubscriptionsController#credit_card (for 127.0.0.1 at 2009-09-05 13:11:55) [GET]
  Parameters: {"action"=>"credit_card", "id"=>"current", "controller"=>"subscriptions"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd8504f1299d24562890562c18a8ed16bcf8b6b8a26511e83bd9e98a4cc786bda0079c8469bd052f304b96cb7d5b304a6f181ec738de1d88042927ed31a9ac133') LIMIT 1[0m
  [4;35;1mSubscription Load (0.4ms)[0m   [0mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 1 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
  [4;36;1mSubscriptionProfile Load (0.4ms)[0m   [0;1mSELECT * FROM "subscription_profiles" WHERE ("subscription_profiles".subscription_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering subscriptions/credit_card
Rendered layouts/_user_nav (0.3ms)
Completed in 26ms (View: 5, DB: 1) | 200 OK [http://localhost/subscriptions/current/credit_card]


Processing SubscriptionsController#credit_card (for 127.0.0.1 at 2009-09-05 13:12:39) [GET]
  Parameters: {"action"=>"credit_card", "id"=>"current", "controller"=>"subscriptions"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd8504f1299d24562890562c18a8ed16bcf8b6b8a26511e83bd9e98a4cc786bda0079c8469bd052f304b96cb7d5b304a6f181ec738de1d88042927ed31a9ac133') LIMIT 1[0m
  [4;35;1mSubscription Load (0.5ms)[0m   [0mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 1 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
  [4;36;1mSubscriptionProfile Load (0.4ms)[0m   [0;1mSELECT * FROM "subscription_profiles" WHERE ("subscription_profiles".subscription_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering subscriptions/credit_card
Rendered layouts/_user_nav (1.1ms)
Completed in 91ms (View: 19, DB: 1) | 200 OK [http://localhost/subscriptions/current/credit_card]


Processing SubscriptionsController#store_credit_card (for 127.0.0.1 at 2009-09-05 13:13:02) [POST]
  Parameters: {"commit"=>"Submit", "action"=>"store_credit_card", "authenticity_token"=>"DTCdpMb+VgY3wMbzGlOzteA8SjSvrjrHvtTK4FX0POg=", "credit_card"=>"[FILTERED]", "id"=>"current", "controller"=>"subscriptions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd8504f1299d24562890562c18a8ed16bcf8b6b8a26511e83bd9e98a4cc786bda0079c8469bd052f304b96cb7d5b304a6f181ec738de1d88042927ed31a9ac133') LIMIT 1[0m
  [4;36;1mSubscription Load (0.5ms)[0m   [0;1mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 1 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
  [4;35;1mSubscriptionProfile Load (0.5ms)[0m   [0mSELECT * FROM "subscription_profiles" WHERE ("subscription_profiles".subscription_id = 1) LIMIT 1[0m
  [4;36;1mSubscription Load (0.4ms)[0m   [0;1mSELECT * FROM "subscriptions" WHERE ("subscriptions"."id" = 1) [0m
  [4;35;1mSubscriptionTransaction Create (0.7ms)[0m   [0mINSERT INTO "subscription_transactions" ("reference", "created_at", "updated_at", "amount_cents", "action", "subscription_id", "success", "params", "message", "test") VALUES(NULL, '2009-09-05 17:13:02', '2009-09-05 17:13:02', NULL, 'store', 1, 'f', '--- 
billingid: 
error: "Bogus Gateway: Forced failure"
', 'Bogus Gateway: Forced failure', 't')[0m
Rendering template within layouts/application
Rendering subscriptions/credit_card
Rendered layouts/_user_nav (0.3ms)
Completed in 123ms (View: 5, DB: 3) | 200 OK [http://localhost/subscriptions/current/store_credit_card]


Processing SubscriptionsController#current (for 127.0.0.1 at 2009-09-05 13:16:28) [GET]
  Parameters: {"action"=>"current", "id"=>"store_credit_card", "controller"=>"subscriptions"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd8504f1299d24562890562c18a8ed16bcf8b6b8a26511e83bd9e98a4cc786bda0079c8469bd052f304b96cb7d5b304a6f181ec738de1d88042927ed31a9ac133') LIMIT 1[0m
  [4;35;1mSubscription Load (0.4ms)[0m   [0mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 1 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m

ActionController::UnknownAction (No action responded to current. Actions: cancel, credit_card, current_user, current_user_session, edit, history, logged_in?, login_required, redirect_to_target_or_default, show, store_credit_card, and update):
  

Rendering rescues/layout (not_found)


Processing SubscriptionsController#credit_card (for 127.0.0.1 at 2009-09-05 13:16:38) [GET]
  Parameters: {"action"=>"credit_card", "id"=>"current", "controller"=>"subscriptions"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd8504f1299d24562890562c18a8ed16bcf8b6b8a26511e83bd9e98a4cc786bda0079c8469bd052f304b96cb7d5b304a6f181ec738de1d88042927ed31a9ac133') LIMIT 1[0m
  [4;35;1mSubscription Load (0.4ms)[0m   [0mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 1 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
  [4;36;1mSubscriptionProfile Load (0.4ms)[0m   [0;1mSELECT * FROM "subscription_profiles" WHERE ("subscription_profiles".subscription_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering subscriptions/credit_card
Rendered layouts/_user_nav (0.3ms)
Completed in 29ms (View: 9, DB: 1) | 200 OK [http://localhost/subscriptions/current/credit_card]


Processing SubscriptionsController#store_credit_card (for 127.0.0.1 at 2009-09-05 13:16:44) [POST]
  Parameters: {"commit"=>"Submit", "action"=>"store_credit_card", "authenticity_token"=>"DTCdpMb+VgY3wMbzGlOzteA8SjSvrjrHvtTK4FX0POg=", "credit_card"=>"[FILTERED]", "id"=>"current", "controller"=>"subscriptions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd8504f1299d24562890562c18a8ed16bcf8b6b8a26511e83bd9e98a4cc786bda0079c8469bd052f304b96cb7d5b304a6f181ec738de1d88042927ed31a9ac133') LIMIT 1[0m
  [4;36;1mSubscription Load (0.4ms)[0m   [0;1mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 1 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
  [4;35;1mSubscriptionProfile Load (0.4ms)[0m   [0mSELECT * FROM "subscription_profiles" WHERE ("subscription_profiles".subscription_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering subscriptions/credit_card
Rendered layouts/_user_nav (0.3ms)
Completed in 28ms (View: 5, DB: 1) | 200 OK [http://localhost/subscriptions/current/store_credit_card]


Processing SubscriptionsController#store_credit_card (for 127.0.0.1 at 2009-09-05 13:16:54) [POST]
  Parameters: {"commit"=>"Submit", "action"=>"store_credit_card", "authenticity_token"=>"DTCdpMb+VgY3wMbzGlOzteA8SjSvrjrHvtTK4FX0POg=", "credit_card"=>"[FILTERED]", "id"=>"current", "controller"=>"subscriptions"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd8504f1299d24562890562c18a8ed16bcf8b6b8a26511e83bd9e98a4cc786bda0079c8469bd052f304b96cb7d5b304a6f181ec738de1d88042927ed31a9ac133') LIMIT 1[0m
  [4;35;1mSubscription Load (0.4ms)[0m   [0mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 1 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
  [4;36;1mSubscriptionProfile Load (0.4ms)[0m   [0;1mSELECT * FROM "subscription_profiles" WHERE ("subscription_profiles".subscription_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering subscriptions/credit_card
Rendered layouts/_user_nav (0.3ms)
Completed in 29ms (View: 5, DB: 1) | 200 OK [http://localhost/subscriptions/current/store_credit_card]


Processing SubscriptionsController#store_credit_card (for 127.0.0.1 at 2009-09-05 13:20:10) [POST]
  Parameters: {"commit"=>"Submit", "action"=>"store_credit_card", "authenticity_token"=>"DTCdpMb+VgY3wMbzGlOzteA8SjSvrjrHvtTK4FX0POg=", "credit_card"=>"[FILTERED]", "id"=>"current", "controller"=>"subscriptions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd8504f1299d24562890562c18a8ed16bcf8b6b8a26511e83bd9e98a4cc786bda0079c8469bd052f304b96cb7d5b304a6f181ec738de1d88042927ed31a9ac133') LIMIT 1[0m
  [4;36;1mSubscription Load (0.4ms)[0m   [0;1mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 1 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
  [4;35;1mSubscriptionProfile Load (0.4ms)[0m   [0mSELECT * FROM "subscription_profiles" WHERE ("subscription_profiles".subscription_id = 1) LIMIT 1[0m

***** Debugger requested, but was not available: Start server with --debugger to enable *****
Rendering template within layouts/application
Rendering subscriptions/credit_card
Rendered layouts/_user_nav (0.3ms)
Completed in 27ms (View: 5, DB: 1) | 200 OK [http://localhost/subscriptions/current/store_credit_card]


Processing SubscriptionsController#store_credit_card (for 127.0.0.1 at 2009-09-05 13:23:56) [POST]
  Parameters: {"commit"=>"Submit", "action"=>"store_credit_card", "authenticity_token"=>"DTCdpMb+VgY3wMbzGlOzteA8SjSvrjrHvtTK4FX0POg=", "credit_card"=>"[FILTERED]", "id"=>"current", "controller"=>"subscriptions"}
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd8504f1299d24562890562c18a8ed16bcf8b6b8a26511e83bd9e98a4cc786bda0079c8469bd052f304b96cb7d5b304a6f181ec738de1d88042927ed31a9ac133') LIMIT 1[0m
  [4;35;1mSubscription Load (0.6ms)[0m   [0mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 1 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
  [4;36;1mSubscriptionProfile Load (0.5ms)[0m   [0;1mSELECT * FROM "subscription_profiles" WHERE ("subscription_profiles".subscription_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering subscriptions/credit_card

ActionView::TemplateError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id) on line #3 of app/views/subscriptions/credit_card.html.erb:
1: <% title "Credit Card" %>
2: 
3: <% form_for @profile, :url => {:action => :store_credit_card} do |form| %>
4: 	<%= form.error_messages %>
5: 	
6: 	<% fields_for @profile.credit_card do |f| %>

    app/views/subscriptions/credit_card.html.erb:3
    app/controllers/subscriptions_controller.rb:33:in `store_credit_card'

Rendered rescues/_trace (79.9ms)
Rendered rescues/_request_and_response (2.0ms)
Rendering rescues/layout (internal_server_error)


Processing SubscriptionsController#current (for 127.0.0.1 at 2009-09-05 13:34:45) [GET]
  Parameters: {"action"=>"current", "id"=>"store_credit_card", "controller"=>"subscriptions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd8504f1299d24562890562c18a8ed16bcf8b6b8a26511e83bd9e98a4cc786bda0079c8469bd052f304b96cb7d5b304a6f181ec738de1d88042927ed31a9ac133') LIMIT 1[0m
  [4;36;1mSubscription Load (0.5ms)[0m   [0;1mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 1 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m

ActionController::UnknownAction (No action responded to current. Actions: cancel, credit_card, current_user, current_user_session, edit, history, logged_in?, login_required, redirect_to_target_or_default, show, store_credit_card, and update):
  

Rendering rescues/layout (not_found)


Processing SubscriptionsController#credit_card (for 127.0.0.1 at 2009-09-05 13:34:52) [GET]
  Parameters: {"action"=>"credit_card", "id"=>"current", "controller"=>"subscriptions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd8504f1299d24562890562c18a8ed16bcf8b6b8a26511e83bd9e98a4cc786bda0079c8469bd052f304b96cb7d5b304a6f181ec738de1d88042927ed31a9ac133') LIMIT 1[0m
  [4;36;1mSubscription Load (0.6ms)[0m   [0;1mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 1 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
Rendering template within layouts/application
Rendering subscriptions/credit_card

ActionView::TemplateError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id) on line #3 of app/views/subscriptions/credit_card.html.erb:
1: <% title "Credit Card" %>
2: 
3: <% form_for @profile, :url => {:action => :store_credit_card} do |form| %>
4: 	<%= form.error_messages %>
5: 	
6: 	<% fields_for @profile.credit_card do |f| %>

    app/views/subscriptions/credit_card.html.erb:3

Rendered rescues/_trace (75.7ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing SubscriptionsController#credit_card (for 127.0.0.1 at 2009-09-05 13:35:37) [GET]
  Parameters: {"action"=>"credit_card", "id"=>"current", "controller"=>"subscriptions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd8504f1299d24562890562c18a8ed16bcf8b6b8a26511e83bd9e98a4cc786bda0079c8469bd052f304b96cb7d5b304a6f181ec738de1d88042927ed31a9ac133') LIMIT 1[0m
  [4;36;1mSubscription Load (0.5ms)[0m   [0;1mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 1 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
  [4;35;1mSubscriptionProfile Load (0.5ms)[0m   [0mSELECT * FROM "subscription_profiles" WHERE ("subscription_profiles".subscription_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering subscriptions/credit_card
Rendered layouts/_user_nav (1.4ms)
Completed in 42ms (View: 16, DB: 2) | 200 OK [http://localhost/subscriptions/current/credit_card]


Processing SubscriptionsController#current (for 127.0.0.1 at 2009-09-05 13:35:41) [PUT]
  Parameters: {"nil_class"=>{"number"=>"", "month"=>"01", "type"=>"bogus", "year"=>"2009", "last_name"=>"", "verification_value"=>"", "first_name"=>""}, "commit"=>"Submit", "action"=>"current", "_method"=>"put", "authenticity_token"=>"DTCdpMb+VgY3wMbzGlOzteA8SjSvrjrHvtTK4FX0POg=", "id"=>"store_credit_card", "controller"=>"subscriptions"}
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd8504f1299d24562890562c18a8ed16bcf8b6b8a26511e83bd9e98a4cc786bda0079c8469bd052f304b96cb7d5b304a6f181ec738de1d88042927ed31a9ac133') LIMIT 1[0m
  [4;35;1mSubscription Load (0.5ms)[0m   [0mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 1 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m

ActionController::UnknownAction (No action responded to current. Actions: cancel, credit_card, current_user, current_user_session, edit, history, logged_in?, login_required, redirect_to_target_or_default, show, store_credit_card, and update):
  

Rendering rescues/layout (not_found)


Processing SubscriptionsController#credit_card (for 127.0.0.1 at 2009-09-05 13:35:56) [GET]
  Parameters: {"action"=>"credit_card", "id"=>"current", "controller"=>"subscriptions"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd8504f1299d24562890562c18a8ed16bcf8b6b8a26511e83bd9e98a4cc786bda0079c8469bd052f304b96cb7d5b304a6f181ec738de1d88042927ed31a9ac133') LIMIT 1[0m
  [4;35;1mSubscription Load (0.5ms)[0m   [0mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 1 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
  [4;36;1mSubscriptionProfile Load (0.5ms)[0m   [0;1mSELECT * FROM "subscription_profiles" WHERE ("subscription_profiles".subscription_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering subscriptions/credit_card
Rendered layouts/_user_nav (0.4ms)
Completed in 32ms (View: 6, DB: 2) | 200 OK [http://localhost/subscriptions/current/credit_card]


Processing SubscriptionsController#credit_card (for 127.0.0.1 at 2009-09-05 13:38:53) [GET]
  Parameters: {"action"=>"credit_card", "id"=>"current", "controller"=>"subscriptions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd8504f1299d24562890562c18a8ed16bcf8b6b8a26511e83bd9e98a4cc786bda0079c8469bd052f304b96cb7d5b304a6f181ec738de1d88042927ed31a9ac133') LIMIT 1[0m
  [4;36;1mSubscription Load (0.5ms)[0m   [0;1mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 1 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
  [4;35;1mSubscriptionProfile Load (0.5ms)[0m   [0mSELECT * FROM "subscription_profiles" WHERE ("subscription_profiles".subscription_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering subscriptions/credit_card
Rendered layouts/_user_nav (0.4ms)
Completed in 38ms (View: 12, DB: 2) | 200 OK [http://localhost/subscriptions/current/credit_card]


Processing SubscriptionsController#current (for 127.0.0.1 at 2009-09-05 13:38:56) [PUT]
  Parameters: {"active_merchant_billing_credit_card"=>"[FILTERED]", "commit"=>"Submit", "action"=>"current", "_method"=>"put", "authenticity_token"=>"DTCdpMb+VgY3wMbzGlOzteA8SjSvrjrHvtTK4FX0POg=", "id"=>"store_credit_card", "controller"=>"subscriptions"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd8504f1299d24562890562c18a8ed16bcf8b6b8a26511e83bd9e98a4cc786bda0079c8469bd052f304b96cb7d5b304a6f181ec738de1d88042927ed31a9ac133') LIMIT 1[0m
  [4;35;1mSubscription Load (0.5ms)[0m   [0mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 1 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m

ActionController::UnknownAction (No action responded to current. Actions: cancel, credit_card, current_user, current_user_session, edit, history, logged_in?, login_required, redirect_to_target_or_default, show, store_credit_card, and update):
  

Rendering rescues/layout (not_found)


Processing SubscriptionsController#credit_card (for 127.0.0.1 at 2009-09-05 13:39:02) [GET]
  Parameters: {"action"=>"credit_card", "id"=>"current", "controller"=>"subscriptions"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd8504f1299d24562890562c18a8ed16bcf8b6b8a26511e83bd9e98a4cc786bda0079c8469bd052f304b96cb7d5b304a6f181ec738de1d88042927ed31a9ac133') LIMIT 1[0m
  [4;35;1mSubscription Load (0.5ms)[0m   [0mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 1 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
  [4;36;1mSubscriptionProfile Load (0.5ms)[0m   [0;1mSELECT * FROM "subscription_profiles" WHERE ("subscription_profiles".subscription_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering subscriptions/credit_card
Rendered layouts/_user_nav (0.4ms)
Completed in 32ms (View: 6, DB: 2) | 200 OK [http://localhost/subscriptions/current/credit_card]


Processing SubscriptionsController#credit_card (for 127.0.0.1 at 2009-09-05 13:39:03) [GET]
  Parameters: {"action"=>"credit_card", "id"=>"current", "controller"=>"subscriptions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd8504f1299d24562890562c18a8ed16bcf8b6b8a26511e83bd9e98a4cc786bda0079c8469bd052f304b96cb7d5b304a6f181ec738de1d88042927ed31a9ac133') LIMIT 1[0m
  [4;36;1mSubscription Load (0.5ms)[0m   [0;1mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 1 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
  [4;35;1mSubscriptionProfile Load (0.5ms)[0m   [0mSELECT * FROM "subscription_profiles" WHERE ("subscription_profiles".subscription_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering subscriptions/credit_card
Rendered layouts/_user_nav (0.4ms)
Completed in 33ms (View: 6, DB: 2) | 200 OK [http://localhost/subscriptions/current/credit_card]


Processing SubscriptionsController#current (for 127.0.0.1 at 2009-09-05 13:39:05) [PUT]
  Parameters: {"active_merchant_billing_credit_card"=>"[FILTERED]", "commit"=>"Submit", "action"=>"current", "_method"=>"put", "authenticity_token"=>"DTCdpMb+VgY3wMbzGlOzteA8SjSvrjrHvtTK4FX0POg=", "id"=>"store_credit_card", "controller"=>"subscriptions"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd8504f1299d24562890562c18a8ed16bcf8b6b8a26511e83bd9e98a4cc786bda0079c8469bd052f304b96cb7d5b304a6f181ec738de1d88042927ed31a9ac133') LIMIT 1[0m
  [4;35;1mSubscription Load (0.5ms)[0m   [0mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 1 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m

ActionController::UnknownAction (No action responded to current. Actions: cancel, credit_card, current_user, current_user_session, edit, history, logged_in?, login_required, redirect_to_target_or_default, show, store_credit_card, and update):
  

Rendering rescues/layout (not_found)


Processing SubscriptionsController#credit_card (for 127.0.0.1 at 2009-09-05 13:43:10) [GET]
  Parameters: {"action"=>"credit_card", "id"=>"current", "controller"=>"subscriptions"}
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd8504f1299d24562890562c18a8ed16bcf8b6b8a26511e83bd9e98a4cc786bda0079c8469bd052f304b96cb7d5b304a6f181ec738de1d88042927ed31a9ac133') LIMIT 1[0m
  [4;35;1mSubscription Load (0.5ms)[0m   [0mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 1 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
  [4;36;1mSubscriptionProfile Load (0.5ms)[0m   [0;1mSELECT * FROM "subscription_profiles" WHERE ("subscription_profiles".subscription_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering subscriptions/credit_card

ActionView::TemplateError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.credit_card) on line #3 of app/views/subscriptions/credit_card.html.erb:
1: <% title "Credit Card" %>
2: 
3: <% form_for :credit_card, @profile.credit_card, :url => {:action => :store_credit_card} do |f| %>
4: 	<%= error_messages_for :profile %>
5: 	
6:   <p>

    app/views/subscriptions/credit_card.html.erb:3

Rendered rescues/_trace (69.7ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing SubscriptionsController#credit_card (for 127.0.0.1 at 2009-09-05 13:43:44) [GET]
  Parameters: {"action"=>"credit_card", "id"=>"current", "controller"=>"subscriptions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd8504f1299d24562890562c18a8ed16bcf8b6b8a26511e83bd9e98a4cc786bda0079c8469bd052f304b96cb7d5b304a6f181ec738de1d88042927ed31a9ac133') LIMIT 1[0m
  [4;36;1mSubscription Load (0.5ms)[0m   [0;1mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 1 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
  [4;35;1mSubscriptionProfile Load (0.5ms)[0m   [0mSELECT * FROM "subscription_profiles" WHERE ("subscription_profiles".subscription_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering subscriptions/credit_card
Rendered layouts/_user_nav (0.4ms)
Completed in 36ms (View: 10, DB: 2) | 200 OK [http://localhost/subscriptions/current/credit_card]


Processing SubscriptionsController#store_credit_card (for 127.0.0.1 at 2009-09-05 13:44:04) [POST]
  Parameters: {"commit"=>"Submit", "action"=>"store_credit_card", "authenticity_token"=>"DTCdpMb+VgY3wMbzGlOzteA8SjSvrjrHvtTK4FX0POg=", "credit_card"=>"[FILTERED]", "id"=>"current", "controller"=>"subscriptions"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd8504f1299d24562890562c18a8ed16bcf8b6b8a26511e83bd9e98a4cc786bda0079c8469bd052f304b96cb7d5b304a6f181ec738de1d88042927ed31a9ac133') LIMIT 1[0m
  [4;35;1mSubscription Load (0.5ms)[0m   [0mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 1 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
  [4;36;1mSubscriptionProfile Load (0.5ms)[0m   [0;1mSELECT * FROM "subscription_profiles" WHERE ("subscription_profiles".subscription_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering subscriptions/credit_card
Rendered layouts/_user_nav (0.4ms)
Completed in 14191ms (View: 7, DB: 2) | 200 OK [http://localhost/subscriptions/current/store_credit_card]


Processing SubscriptionsController#credit_card (for 127.0.0.1 at 2009-09-05 13:44:38) [GET]
  Parameters: {"action"=>"credit_card", "id"=>"current", "controller"=>"subscriptions"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd8504f1299d24562890562c18a8ed16bcf8b6b8a26511e83bd9e98a4cc786bda0079c8469bd052f304b96cb7d5b304a6f181ec738de1d88042927ed31a9ac133') LIMIT 1[0m
  [4;35;1mSubscription Load (0.5ms)[0m   [0mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 1 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
  [4;36;1mSubscriptionProfile Load (0.5ms)[0m   [0;1mSELECT * FROM "subscription_profiles" WHERE ("subscription_profiles".subscription_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering subscriptions/credit_card
Rendered layouts/_user_nav (1.2ms)
Completed in 205ms (View: 18, DB: 1) | 200 OK [http://localhost/subscriptions/current/credit_card]


Processing SubscriptionsController#store_credit_card (for 127.0.0.1 at 2009-09-05 13:44:40) [POST]
  Parameters: {"commit"=>"Submit", "action"=>"store_credit_card", "authenticity_token"=>"DTCdpMb+VgY3wMbzGlOzteA8SjSvrjrHvtTK4FX0POg=", "credit_card"=>"[FILTERED]", "id"=>"current", "controller"=>"subscriptions"}
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd8504f1299d24562890562c18a8ed16bcf8b6b8a26511e83bd9e98a4cc786bda0079c8469bd052f304b96cb7d5b304a6f181ec738de1d88042927ed31a9ac133') LIMIT 1[0m
  [4;36;1mSubscription Load (0.5ms)[0m   [0;1mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 1 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
  [4;35;1mSubscriptionProfile Load (0.6ms)[0m   [0mSELECT * FROM "subscription_profiles" WHERE ("subscription_profiles".subscription_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering subscriptions/credit_card
Rendered layouts/_user_nav (0.4ms)
Completed in 2813ms (View: 7, DB: 2) | 200 OK [http://localhost/subscriptions/current/store_credit_card]


Processing SubscriptionsController#store_credit_card (for 127.0.0.1 at 2009-09-05 13:45:29) [POST]
  Parameters: {"commit"=>"Submit", "action"=>"store_credit_card", "authenticity_token"=>"DTCdpMb+VgY3wMbzGlOzteA8SjSvrjrHvtTK4FX0POg=", "credit_card"=>"[FILTERED]", "id"=>"current", "controller"=>"subscriptions"}
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd8504f1299d24562890562c18a8ed16bcf8b6b8a26511e83bd9e98a4cc786bda0079c8469bd052f304b96cb7d5b304a6f181ec738de1d88042927ed31a9ac133') LIMIT 1[0m
  [4;35;1mSubscription Load (0.5ms)[0m   [0mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 1 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
  [4;36;1mSubscriptionProfile Load (0.5ms)[0m   [0;1mSELECT * FROM "subscription_profiles" WHERE ("subscription_profiles".subscription_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering subscriptions/credit_card
Rendered layouts/_user_nav (0.4ms)
Completed in 2146ms (View: 13, DB: 2) | 200 OK [http://localhost/subscriptions/current/store_credit_card]


Processing SubscriptionsController#store_credit_card (for 127.0.0.1 at 2009-09-05 13:46:02) [POST]
  Parameters: {"commit"=>"Submit", "action"=>"store_credit_card", "authenticity_token"=>"DTCdpMb+VgY3wMbzGlOzteA8SjSvrjrHvtTK4FX0POg=", "credit_card"=>"[FILTERED]", "id"=>"current", "controller"=>"subscriptions"}
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd8504f1299d24562890562c18a8ed16bcf8b6b8a26511e83bd9e98a4cc786bda0079c8469bd052f304b96cb7d5b304a6f181ec738de1d88042927ed31a9ac133') LIMIT 1[0m
  [4;36;1mSubscription Load (0.5ms)[0m   [0;1mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 1 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
  [4;35;1mSubscriptionProfile Load (0.6ms)[0m   [0mSELECT * FROM "subscription_profiles" WHERE ("subscription_profiles".subscription_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering subscriptions/credit_card

ActionView::TemplateError (undefined method `merge' for :credit_card:Symbol) on line #4 of app/views/subscriptions/credit_card.html.erb:
1: <% title "Credit Card" %>
2: 
3: <% form_for :credit_card, :url => {:action => :store_credit_card} do |f| %>
4: 	<%= f.error_messages :credit_card %>
5: 	
6:   <p>
7:     <%= f.label :first_name %><br />

    app/views/subscriptions/credit_card.html.erb:4
    app/views/subscriptions/credit_card.html.erb:3
    app/controllers/subscriptions_controller.rb:33:in `store_credit_card'

Rendered rescues/_trace (177.9ms)
Rendered rescues/_request_and_response (1.9ms)
Rendering rescues/layout (internal_server_error)


Processing SubscriptionsController#store_credit_card (for 127.0.0.1 at 2009-09-05 13:46:45) [POST]
  Parameters: {"commit"=>"Submit", "action"=>"store_credit_card", "authenticity_token"=>"DTCdpMb+VgY3wMbzGlOzteA8SjSvrjrHvtTK4FX0POg=", "credit_card"=>"[FILTERED]", "id"=>"current", "controller"=>"subscriptions"}
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd8504f1299d24562890562c18a8ed16bcf8b6b8a26511e83bd9e98a4cc786bda0079c8469bd052f304b96cb7d5b304a6f181ec738de1d88042927ed31a9ac133') LIMIT 1[0m
  [4;35;1mSubscription Load (0.6ms)[0m   [0mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 1 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
  [4;36;1mSubscriptionProfile Load (0.6ms)[0m   [0;1mSELECT * FROM "subscription_profiles" WHERE ("subscription_profiles".subscription_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering subscriptions/credit_card
Rendered layouts/_user_nav (0.5ms)
Completed in 1667ms (View: 12, DB: 2) | 200 OK [http://localhost/subscriptions/current/store_credit_card]


Processing SubscriptionsController#store_credit_card (for 127.0.0.1 at 2009-09-05 13:46:57) [POST]
  Parameters: {"commit"=>"Submit", "action"=>"store_credit_card", "authenticity_token"=>"DTCdpMb+VgY3wMbzGlOzteA8SjSvrjrHvtTK4FX0POg=", "credit_card"=>"[FILTERED]", "id"=>"current", "controller"=>"subscriptions"}
  [4;35;1mUser Load (1.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd8504f1299d24562890562c18a8ed16bcf8b6b8a26511e83bd9e98a4cc786bda0079c8469bd052f304b96cb7d5b304a6f181ec738de1d88042927ed31a9ac133') LIMIT 1[0m
  [4;36;1mSubscription Load (0.5ms)[0m   [0;1mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 1 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
  [4;35;1mSubscriptionProfile Load (0.5ms)[0m   [0mSELECT * FROM "subscription_profiles" WHERE ("subscription_profiles".subscription_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering subscriptions/credit_card
Rendered layouts/_user_nav (0.6ms)
Completed in 2225ms (View: 7, DB: 2) | 200 OK [http://localhost/subscriptions/current/store_credit_card]


Processing SubscriptionsController#credit_card (for 127.0.0.1 at 2009-09-05 13:48:21) [GET]
  Parameters: {"action"=>"credit_card", "id"=>"current", "controller"=>"subscriptions"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd8504f1299d24562890562c18a8ed16bcf8b6b8a26511e83bd9e98a4cc786bda0079c8469bd052f304b96cb7d5b304a6f181ec738de1d88042927ed31a9ac133') LIMIT 1[0m
  [4;35;1mSubscription Load (0.5ms)[0m   [0mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 1 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
  [4;36;1mSubscriptionProfile Load (0.5ms)[0m   [0;1mSELECT * FROM "subscription_profiles" WHERE ("subscription_profiles".subscription_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering subscriptions/credit_card
Rendered layouts/_user_nav (0.4ms)
Completed in 33ms (View: 6, DB: 2) | 200 OK [http://localhost/subscriptions/current/credit_card]


Processing SubscriptionsController#store_credit_card (for 127.0.0.1 at 2009-09-05 13:48:24) [POST]
  Parameters: {"commit"=>"Submit", "action"=>"store_credit_card", "authenticity_token"=>"DTCdpMb+VgY3wMbzGlOzteA8SjSvrjrHvtTK4FX0POg=", "credit_card"=>"[FILTERED]", "id"=>"current", "controller"=>"subscriptions"}
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd8504f1299d24562890562c18a8ed16bcf8b6b8a26511e83bd9e98a4cc786bda0079c8469bd052f304b96cb7d5b304a6f181ec738de1d88042927ed31a9ac133') LIMIT 1[0m
  [4;36;1mSubscription Load (0.5ms)[0m   [0;1mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 1 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
  [4;35;1mSubscriptionProfile Load (0.6ms)[0m   [0mSELECT * FROM "subscription_profiles" WHERE ("subscription_profiles".subscription_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering subscriptions/credit_card
Rendered layouts/_user_nav (0.4ms)
Completed in 1742ms (View: 7, DB: 2) | 200 OK [http://localhost/subscriptions/current/store_credit_card]


Processing SubscriptionsController#store_credit_card (for 127.0.0.1 at 2009-09-05 13:48:58) [POST]
  Parameters: {"commit"=>"Submit", "action"=>"store_credit_card", "authenticity_token"=>"DTCdpMb+VgY3wMbzGlOzteA8SjSvrjrHvtTK4FX0POg=", "credit_card"=>"[FILTERED]", "id"=>"current", "controller"=>"subscriptions"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd8504f1299d24562890562c18a8ed16bcf8b6b8a26511e83bd9e98a4cc786bda0079c8469bd052f304b96cb7d5b304a6f181ec738de1d88042927ed31a9ac133') LIMIT 1[0m
  [4;35;1mSubscription Load (0.6ms)[0m   [0mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 1 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
  [4;36;1mSubscriptionProfile Load (0.5ms)[0m   [0;1mSELECT * FROM "subscription_profiles" WHERE ("subscription_profiles".subscription_id = 1) LIMIT 1[0m
  [4;35;1mSubscription Load (0.5ms)[0m   [0mSELECT * FROM "subscriptions" WHERE ("subscriptions"."id" = 1) [0m
  [4;36;1mSubscriptionTransaction Create (0.7ms)[0m   [0;1mINSERT INTO "subscription_transactions" ("reference", "created_at", "updated_at", "amount_cents", "action", "subscription_id", "success", "params", "message", "test") VALUES(NULL, '2009-09-05 17:48:58', '2009-09-05 17:48:58', NULL, 'store', 1, 'f', '--- 
billingid: 
error: "Bogus Gateway: Forced failure"
', 'Bogus Gateway: Forced failure', 't')[0m
Rendering template within layouts/application
Rendering subscriptions/credit_card
Rendered layouts/_user_nav (0.4ms)
Completed in 1467ms (View: 6, DB: 3) | 200 OK [http://localhost/subscriptions/current/store_credit_card]


Processing SubscriptionsController#store_credit_card (for 127.0.0.1 at 2009-09-05 13:49:09) [POST]
  Parameters: {"commit"=>"Submit", "action"=>"store_credit_card", "authenticity_token"=>"DTCdpMb+VgY3wMbzGlOzteA8SjSvrjrHvtTK4FX0POg=", "credit_card"=>"[FILTERED]", "id"=>"current", "controller"=>"subscriptions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd8504f1299d24562890562c18a8ed16bcf8b6b8a26511e83bd9e98a4cc786bda0079c8469bd052f304b96cb7d5b304a6f181ec738de1d88042927ed31a9ac133') LIMIT 1[0m
  [4;36;1mSubscription Load (0.6ms)[0m   [0;1mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 1 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
  [4;35;1mSubscriptionProfile Load (0.5ms)[0m   [0mSELECT * FROM "subscription_profiles" WHERE ("subscription_profiles".subscription_id = 1) LIMIT 1[0m
  [4;36;1mSubscription Load (0.5ms)[0m   [0;1mSELECT * FROM "subscriptions" WHERE ("subscriptions"."id" = 1) [0m
  [4;35;1mSubscriptionTransaction Create (0.5ms)[0m   [0mINSERT INTO "subscription_transactions" ("reference", "created_at", "updated_at", "amount_cents", "action", "subscription_id", "success", "params", "message", "test") VALUES(NULL, '2009-09-05 17:49:09', '2009-09-05 17:49:09', NULL, 'store', 1, 'f', '--- 
billingid: 
error: "Bogus Gateway: Forced failure"
', 'Bogus Gateway: Forced failure', 't')[0m
Rendering template within layouts/application
Rendering subscriptions/credit_card

ActionView::TemplateError (undefined method `field_for' for #<ActionView::Helpers::FormBuilder:0x33ba38c>) on line #5 of app/views/subscriptions/credit_card.html.erb:
2: 
3: <% form_for :profile, :url => {:action => :store_credit_card} do |form| %>
4: 	<%= form.error_messages %>
5: 	<% form.field_for :credit_card do |f| %>
6:   <p>
7:     <%= f.label :first_name %><br />
8:     <%= f.text_field :first_name %>

    app/views/subscriptions/credit_card.html.erb:5
    app/views/subscriptions/credit_card.html.erb:3
    app/controllers/subscriptions_controller.rb:33:in `store_credit_card'

Rendered rescues/_trace (176.2ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing SubscriptionsController#current (for 127.0.0.1 at 2009-09-05 14:01:18) [GET]
  Parameters: {"action"=>"current", "id"=>"store_credit_card", "controller"=>"subscriptions"}
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd8504f1299d24562890562c18a8ed16bcf8b6b8a26511e83bd9e98a4cc786bda0079c8469bd052f304b96cb7d5b304a6f181ec738de1d88042927ed31a9ac133') LIMIT 1[0m
  [4;35;1mSubscription Load (0.5ms)[0m   [0mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 1 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m

ActionController::UnknownAction (No action responded to current. Actions: cancel, credit_card, current_user, current_user_session, edit, history, logged_in?, login_required, redirect_to_target_or_default, show, store_credit_card, and update):
  

Rendering rescues/layout (not_found)


Processing SubscriptionsController#current (for 127.0.0.1 at 2009-09-05 14:01:18) [GET]
  Parameters: {"action"=>"current", "id"=>"store_credit_card", "controller"=>"subscriptions"}
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd8504f1299d24562890562c18a8ed16bcf8b6b8a26511e83bd9e98a4cc786bda0079c8469bd052f304b96cb7d5b304a6f181ec738de1d88042927ed31a9ac133') LIMIT 1[0m
  [4;35;1mSubscription Load (0.5ms)[0m   [0mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 1 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m

ActionController::UnknownAction (No action responded to current. Actions: cancel, credit_card, current_user, current_user_session, edit, history, logged_in?, login_required, redirect_to_target_or_default, show, store_credit_card, and update):
  

Rendering rescues/layout (not_found)


Processing SubscriptionsController#credit_card (for 127.0.0.1 at 2009-09-05 14:01:22) [GET]
  Parameters: {"action"=>"credit_card", "id"=>"current", "controller"=>"subscriptions"}
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd8504f1299d24562890562c18a8ed16bcf8b6b8a26511e83bd9e98a4cc786bda0079c8469bd052f304b96cb7d5b304a6f181ec738de1d88042927ed31a9ac133') LIMIT 1[0m
  [4;35;1mSubscription Load (0.5ms)[0m   [0mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 1 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
  [4;36;1mSubscriptionProfile Load (0.5ms)[0m   [0;1mSELECT * FROM "subscription_profiles" WHERE ("subscription_profiles".subscription_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering subscriptions/credit_card

ActionView::TemplateError (undefined method `field_for' for #<ActionView::Helpers::FormBuilder:0x3327a3c>) on line #5 of app/views/subscriptions/credit_card.html.erb:
2: 
3: <% form_for :profile, :url => {:action => :store_credit_card} do |form| %>
4: 	<%= form.error_messages %>
5: 	<% form.field_for :credit_card do |f| %>
6:   <p>
7:     <%= f.label :first_name %><br />
8:     <%= f.text_field :first_name %>

    app/views/subscriptions/credit_card.html.erb:5
    app/views/subscriptions/credit_card.html.erb:3

Rendered rescues/_trace (180.5ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing SubscriptionsController#credit_card (for 127.0.0.1 at 2009-09-05 14:01:34) [GET]
  Parameters: {"action"=>"credit_card", "id"=>"current", "controller"=>"subscriptions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd8504f1299d24562890562c18a8ed16bcf8b6b8a26511e83bd9e98a4cc786bda0079c8469bd052f304b96cb7d5b304a6f181ec738de1d88042927ed31a9ac133') LIMIT 1[0m
  [4;36;1mSubscription Load (0.5ms)[0m   [0;1mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 1 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
  [4;35;1mSubscriptionProfile Load (0.6ms)[0m   [0mSELECT * FROM "subscription_profiles" WHERE ("subscription_profiles".subscription_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering subscriptions/credit_card
Rendered layouts/_user_nav (0.4ms)
Completed in 40ms (View: 14, DB: 2) | 200 OK [http://localhost/subscriptions/current/credit_card]


Processing SubscriptionsController#credit_card (for 127.0.0.1 at 2009-09-05 14:02:40) [GET]
  Parameters: {"action"=>"credit_card", "id"=>"current", "controller"=>"subscriptions"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd8504f1299d24562890562c18a8ed16bcf8b6b8a26511e83bd9e98a4cc786bda0079c8469bd052f304b96cb7d5b304a6f181ec738de1d88042927ed31a9ac133') LIMIT 1[0m
  [4;35;1mSubscription Load (0.5ms)[0m   [0mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 1 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
  [4;36;1mSubscriptionProfile Load (0.5ms)[0m   [0;1mSELECT * FROM "subscription_profiles" WHERE ("subscription_profiles".subscription_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering subscriptions/credit_card
Rendered layouts/_user_nav (0.4ms)
Completed in 35ms (View: 9, DB: 2) | 200 OK [http://localhost/subscriptions/current/credit_card]


Processing SubscriptionsController#store_credit_card (for 127.0.0.1 at 2009-09-05 14:02:42) [POST]
  Parameters: {"commit"=>"Submit", "profile"=>{"credit_card"=>"[FILTERED]"}, "action"=>"store_credit_card", "authenticity_token"=>"DTCdpMb+VgY3wMbzGlOzteA8SjSvrjrHvtTK4FX0POg=", "id"=>"current", "controller"=>"subscriptions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd8504f1299d24562890562c18a8ed16bcf8b6b8a26511e83bd9e98a4cc786bda0079c8469bd052f304b96cb7d5b304a6f181ec738de1d88042927ed31a9ac133') LIMIT 1[0m
  [4;36;1mSubscription Load (0.5ms)[0m   [0;1mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 1 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
  [4;35;1mSubscriptionProfile Load (0.6ms)[0m   [0mSELECT * FROM "subscription_profiles" WHERE ("subscription_profiles".subscription_id = 1) LIMIT 1[0m

NameError (undefined local variable or method `profile' for #<SubscriptionsController:0x334cdc8>):
  app/controllers/subscriptions_controller.rb:28:in `store_credit_card'

Rendered rescues/_trace (160.1ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)


Processing SubscriptionsController#credit_card (for 127.0.0.1 at 2009-09-05 14:03:35) [GET]
  Parameters: {"action"=>"credit_card", "id"=>"current", "controller"=>"subscriptions"}
  [4;36;1mUser Load (1.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd8504f1299d24562890562c18a8ed16bcf8b6b8a26511e83bd9e98a4cc786bda0079c8469bd052f304b96cb7d5b304a6f181ec738de1d88042927ed31a9ac133') LIMIT 1[0m
  [4;35;1mSubscription Load (0.6ms)[0m   [0mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 1 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
  [4;36;1mSubscriptionProfile Load (0.5ms)[0m   [0;1mSELECT * FROM "subscription_profiles" WHERE ("subscription_profiles".subscription_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering subscriptions/credit_card
Rendered layouts/_user_nav (0.4ms)
Completed in 38ms (View: 10, DB: 2) | 200 OK [http://localhost/subscriptions/current/credit_card]


Processing SubscriptionsController#store_credit_card (for 127.0.0.1 at 2009-09-05 14:03:38) [POST]
  Parameters: {"commit"=>"Submit", "profile"=>{"credit_card"=>"[FILTERED]"}, "action"=>"store_credit_card", "authenticity_token"=>"DTCdpMb+VgY3wMbzGlOzteA8SjSvrjrHvtTK4FX0POg=", "id"=>"current", "controller"=>"subscriptions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd8504f1299d24562890562c18a8ed16bcf8b6b8a26511e83bd9e98a4cc786bda0079c8469bd052f304b96cb7d5b304a6f181ec738de1d88042927ed31a9ac133') LIMIT 1[0m
  [4;36;1mSubscription Load (0.5ms)[0m   [0;1mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 1 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
  [4;35;1mSubscriptionProfile Load (0.6ms)[0m   [0mSELECT * FROM "subscription_profiles" WHERE ("subscription_profiles".subscription_id = 1) LIMIT 1[0m

NameError (undefined local variable or method `profile' for #<SubscriptionsController:0x353ea14>):
  app/controllers/subscriptions_controller.rb:28:in `store_credit_card'

Rendered rescues/_trace (55.9ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing SubscriptionsController#store_credit_card (for 127.0.0.1 at 2009-09-05 14:04:20) [POST]
  Parameters: {"commit"=>"Submit", "profile"=>{"credit_card"=>"[FILTERED]"}, "action"=>"store_credit_card", "authenticity_token"=>"DTCdpMb+VgY3wMbzGlOzteA8SjSvrjrHvtTK4FX0POg=", "id"=>"current", "controller"=>"subscriptions"}
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd8504f1299d24562890562c18a8ed16bcf8b6b8a26511e83bd9e98a4cc786bda0079c8469bd052f304b96cb7d5b304a6f181ec738de1d88042927ed31a9ac133') LIMIT 1[0m
  [4;35;1mSubscription Load (1.2ms)[0m   [0mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 1 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
  [4;36;1mSubscriptionProfile Load (0.6ms)[0m   [0;1mSELECT * FROM "subscription_profiles" WHERE ("subscription_profiles".subscription_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering subscriptions/credit_card
Rendered layouts/_user_nav (0.4ms)
Completed in 2328ms (View: 10, DB: 2) | 200 OK [http://localhost/subscriptions/current/store_credit_card]


Processing SubscriptionsController#store_credit_card (for 127.0.0.1 at 2009-09-05 14:05:56) [POST]
  Parameters: {"commit"=>"Submit", "profile"=>{"credit_card"=>"[FILTERED]"}, "action"=>"store_credit_card", "authenticity_token"=>"DTCdpMb+VgY3wMbzGlOzteA8SjSvrjrHvtTK4FX0POg=", "id"=>"current", "controller"=>"subscriptions"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd8504f1299d24562890562c18a8ed16bcf8b6b8a26511e83bd9e98a4cc786bda0079c8469bd052f304b96cb7d5b304a6f181ec738de1d88042927ed31a9ac133') LIMIT 1[0m
  [4;35;1mSubscription Load (0.5ms)[0m   [0mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 1 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
  [4;36;1mSubscriptionProfile Load (0.6ms)[0m   [0;1mSELECT * FROM "subscription_profiles" WHERE ("subscription_profiles".subscription_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering subscriptions/credit_card
Rendered layouts/_user_nav (1.4ms)
Completed in 3562ms (View: 24, DB: 2) | 200 OK [http://localhost/subscriptions/current/store_credit_card]


Processing SubscriptionsController#store_credit_card (for 127.0.0.1 at 2009-09-05 14:06:43) [POST]
  Parameters: {"commit"=>"Submit", "profile"=>{"credit_card"=>"[FILTERED]"}, "action"=>"store_credit_card", "authenticity_token"=>"DTCdpMb+VgY3wMbzGlOzteA8SjSvrjrHvtTK4FX0POg=", "id"=>"current", "controller"=>"subscriptions"}
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd8504f1299d24562890562c18a8ed16bcf8b6b8a26511e83bd9e98a4cc786bda0079c8469bd052f304b96cb7d5b304a6f181ec738de1d88042927ed31a9ac133') LIMIT 1[0m
  [4;36;1mSubscription Load (0.6ms)[0m   [0;1mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 1 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
  [4;35;1mSubscriptionProfile Load (0.6ms)[0m   [0mSELECT * FROM "subscription_profiles" WHERE ("subscription_profiles".subscription_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering subscriptions/credit_card
Rendered layouts/_user_nav (0.4ms)
Completed in 5058ms (View: 10, DB: 2) | 200 OK [http://localhost/subscriptions/current/store_credit_card]


Processing SubscriptionsController#credit_card (for 127.0.0.1 at 2009-09-05 14:07:02) [GET]
  Parameters: {"action"=>"credit_card", "id"=>"current", "controller"=>"subscriptions"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd8504f1299d24562890562c18a8ed16bcf8b6b8a26511e83bd9e98a4cc786bda0079c8469bd052f304b96cb7d5b304a6f181ec738de1d88042927ed31a9ac133') LIMIT 1[0m
  [4;35;1mSubscription Load (0.5ms)[0m   [0mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 1 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
  [4;36;1mSubscriptionProfile Load (0.5ms)[0m   [0;1mSELECT * FROM "subscription_profiles" WHERE ("subscription_profiles".subscription_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering subscriptions/credit_card
Rendered layouts/_user_nav (0.5ms)
Completed in 37ms (View: 10, DB: 2) | 200 OK [http://localhost/subscriptions/current/credit_card]


Processing SubscriptionsController#store_credit_card (for 127.0.0.1 at 2009-09-05 14:07:05) [POST]
  Parameters: {"commit"=>"Submit", "profile"=>{"credit_card"=>"[FILTERED]"}, "action"=>"store_credit_card", "authenticity_token"=>"DTCdpMb+VgY3wMbzGlOzteA8SjSvrjrHvtTK4FX0POg=", "id"=>"current", "controller"=>"subscriptions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd8504f1299d24562890562c18a8ed16bcf8b6b8a26511e83bd9e98a4cc786bda0079c8469bd052f304b96cb7d5b304a6f181ec738de1d88042927ed31a9ac133') LIMIT 1[0m
  [4;36;1mSubscription Load (0.6ms)[0m   [0;1mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 1 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
  [4;35;1mSubscriptionProfile Load (0.6ms)[0m   [0mSELECT * FROM "subscription_profiles" WHERE ("subscription_profiles".subscription_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering subscriptions/credit_card
Rendered layouts/_user_nav (0.4ms)
Completed in 1998ms (View: 11, DB: 2) | 200 OK [http://localhost/subscriptions/current/store_credit_card]


Processing SubscriptionsController#store_credit_card (for 127.0.0.1 at 2009-09-05 14:07:48) [POST]
  Parameters: {"commit"=>"Submit", "profile"=>{"credit_card"=>"[FILTERED]"}, "action"=>"store_credit_card", "authenticity_token"=>"DTCdpMb+VgY3wMbzGlOzteA8SjSvrjrHvtTK4FX0POg=", "id"=>"current", "controller"=>"subscriptions"}
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd8504f1299d24562890562c18a8ed16bcf8b6b8a26511e83bd9e98a4cc786bda0079c8469bd052f304b96cb7d5b304a6f181ec738de1d88042927ed31a9ac133') LIMIT 1[0m
  [4;35;1mSubscription Load (0.6ms)[0m   [0mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 1 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
  [4;36;1mSubscriptionProfile Load (0.6ms)[0m   [0;1mSELECT * FROM "subscription_profiles" WHERE ("subscription_profiles".subscription_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering subscriptions/credit_card
Rendered layouts/_user_nav (0.5ms)
Completed in 93403ms (View: 11, DB: 2) | 200 OK [http://localhost/subscriptions/current/store_credit_card]


Processing SubscriptionsController#credit_card (for 127.0.0.1 at 2009-09-05 14:09:33) [GET]
  Parameters: {"action"=>"credit_card", "id"=>"current", "controller"=>"subscriptions"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd8504f1299d24562890562c18a8ed16bcf8b6b8a26511e83bd9e98a4cc786bda0079c8469bd052f304b96cb7d5b304a6f181ec738de1d88042927ed31a9ac133') LIMIT 1[0m
  [4;35;1mSubscription Load (0.5ms)[0m   [0mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 1 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
  [4;36;1mSubscriptionProfile Load (0.5ms)[0m   [0;1mSELECT * FROM "subscription_profiles" WHERE ("subscription_profiles".subscription_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering subscriptions/credit_card
Rendered layouts/_user_nav (1.1ms)
Completed in 176ms (View: 21, DB: 1) | 200 OK [http://localhost/subscriptions/current/credit_card]


Processing SubscriptionsController#store_credit_card (for 127.0.0.1 at 2009-09-05 14:09:37) [POST]
  Parameters: {"commit"=>"Submit", "profile"=>{"credit_card"=>"[FILTERED]"}, "action"=>"store_credit_card", "authenticity_token"=>"DTCdpMb+VgY3wMbzGlOzteA8SjSvrjrHvtTK4FX0POg=", "id"=>"current", "controller"=>"subscriptions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd8504f1299d24562890562c18a8ed16bcf8b6b8a26511e83bd9e98a4cc786bda0079c8469bd052f304b96cb7d5b304a6f181ec738de1d88042927ed31a9ac133') LIMIT 1[0m
  [4;36;1mSubscription Load (0.4ms)[0m   [0;1mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 1 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
  [4;35;1mSubscriptionProfile Load (0.6ms)[0m   [0mSELECT * FROM "subscription_profiles" WHERE ("subscription_profiles".subscription_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering subscriptions/credit_card
Rendered layouts/_user_nav (0.4ms)
Completed in 15446ms (View: 11, DB: 1) | 200 OK [http://localhost/subscriptions/current/store_credit_card]


Processing SubscriptionsController#store_credit_card (for 127.0.0.1 at 2009-09-05 14:12:01) [POST]
  Parameters: {"commit"=>"Submit", "profile"=>{"credit_card"=>"[FILTERED]"}, "action"=>"store_credit_card", "authenticity_token"=>"DTCdpMb+VgY3wMbzGlOzteA8SjSvrjrHvtTK4FX0POg=", "id"=>"current", "controller"=>"subscriptions"}
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd8504f1299d24562890562c18a8ed16bcf8b6b8a26511e83bd9e98a4cc786bda0079c8469bd052f304b96cb7d5b304a6f181ec738de1d88042927ed31a9ac133') LIMIT 1[0m
  [4;35;1mSubscription Load (0.6ms)[0m   [0mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 1 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
  [4;36;1mSubscriptionProfile Load (0.6ms)[0m   [0;1mSELECT * FROM "subscription_profiles" WHERE ("subscription_profiles".subscription_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering subscriptions/credit_card
Rendered layouts/_user_nav (0.4ms)
Completed in 40ms (View: 11, DB: 2) | 200 OK [http://localhost/subscriptions/current/store_credit_card]


Processing SubscriptionsController#store_credit_card (for 127.0.0.1 at 2009-09-05 14:12:26) [POST]
  Parameters: {"commit"=>"Submit", "profile"=>{"credit_card"=>"[FILTERED]"}, "action"=>"store_credit_card", "authenticity_token"=>"DTCdpMb+VgY3wMbzGlOzteA8SjSvrjrHvtTK4FX0POg=", "id"=>"current", "controller"=>"subscriptions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd8504f1299d24562890562c18a8ed16bcf8b6b8a26511e83bd9e98a4cc786bda0079c8469bd052f304b96cb7d5b304a6f181ec738de1d88042927ed31a9ac133') LIMIT 1[0m
  [4;36;1mSubscription Load (0.5ms)[0m   [0;1mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 1 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
  [4;35;1mSubscriptionProfile Load (0.6ms)[0m   [0mSELECT * FROM "subscription_profiles" WHERE ("subscription_profiles".subscription_id = 1) LIMIT 1[0m
  [4;36;1mSubscription Load (0.5ms)[0m   [0;1mSELECT * FROM "subscriptions" WHERE ("subscriptions"."id" = 1) [0m
  [4;35;1mSubscriptionTransaction Create (0.7ms)[0m   [0mINSERT INTO "subscription_transactions" ("reference", "created_at", "updated_at", "amount_cents", "action", "subscription_id", "success", "params", "message", "test") VALUES(NULL, '2009-09-05 18:12:26', '2009-09-05 18:12:26', NULL, 'store', 1, 'f', '--- 
billingid: 
error: "Bogus Gateway: Forced failure"
', 'Bogus Gateway: Forced failure', 't')[0m
Rendering template within layouts/application
Rendering subscriptions/credit_card
Rendered layouts/_user_nav (0.4ms)
Completed in 62ms (View: 12, DB: 3) | 200 OK [http://localhost/subscriptions/current/store_credit_card]


Processing SubscriptionsController#store_credit_card (for 127.0.0.1 at 2009-09-05 14:13:30) [POST]
  Parameters: {"commit"=>"Submit", "profile"=>{"credit_card"=>"[FILTERED]"}, "action"=>"store_credit_card", "authenticity_token"=>"DTCdpMb+VgY3wMbzGlOzteA8SjSvrjrHvtTK4FX0POg=", "id"=>"current", "controller"=>"subscriptions"}
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd8504f1299d24562890562c18a8ed16bcf8b6b8a26511e83bd9e98a4cc786bda0079c8469bd052f304b96cb7d5b304a6f181ec738de1d88042927ed31a9ac133') LIMIT 1[0m
  [4;35;1mSubscription Load (0.5ms)[0m   [0mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 1 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
  [4;36;1mSubscriptionProfile Load (0.6ms)[0m   [0;1mSELECT * FROM "subscription_profiles" WHERE ("subscription_profiles".subscription_id = 1) LIMIT 1[0m
  [4;35;1mSubscription Load (0.5ms)[0m   [0mSELECT * FROM "subscriptions" WHERE ("subscriptions"."id" = 1) [0m
  [4;36;1mSubscriptionTransaction Create (0.5ms)[0m   [0;1mINSERT INTO "subscription_transactions" ("reference", "created_at", "updated_at", "amount_cents", "action", "subscription_id", "success", "params", "message", "test") VALUES(NULL, '2009-09-05 18:13:30', '2009-09-05 18:13:30', NULL, 'store', 1, 'f', '--- 
billingid: 
error: "Bogus Gateway: Forced failure"
', 'Bogus Gateway: Forced failure', 't')[0m
Rendering template within layouts/application
Rendering subscriptions/credit_card
Rendered layouts/_user_nav (0.5ms)
Completed in 284134ms (View: 11, DB: 3) | 200 OK [http://localhost/subscriptions/current/store_credit_card]


Processing SubscriptionsController#store_credit_card (for 127.0.0.1 at 2009-09-05 14:18:53) [POST]
  Parameters: {"commit"=>"Submit", "profile"=>{"credit_card"=>"[FILTERED]"}, "action"=>"store_credit_card", "authenticity_token"=>"DTCdpMb+VgY3wMbzGlOzteA8SjSvrjrHvtTK4FX0POg=", "id"=>"current", "controller"=>"subscriptions"}
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd8504f1299d24562890562c18a8ed16bcf8b6b8a26511e83bd9e98a4cc786bda0079c8469bd052f304b96cb7d5b304a6f181ec738de1d88042927ed31a9ac133') LIMIT 1[0m
  [4;36;1mSubscription Load (0.5ms)[0m   [0;1mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 1 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
  [4;35;1mSubscriptionProfile Load (0.5ms)[0m   [0mSELECT * FROM "subscription_profiles" WHERE ("subscription_profiles".subscription_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering subscriptions/credit_card
Rendered layouts/_user_nav (0.4ms)
Completed in 1832ms (View: 12, DB: 2) | 200 OK [http://localhost/subscriptions/current/store_credit_card]


Processing SubscriptionsController#store_credit_card (for 127.0.0.1 at 2009-09-05 14:19:12) [POST]
  Parameters: {"commit"=>"Submit", "profile"=>{"credit_card"=>"[FILTERED]"}, "action"=>"store_credit_card", "authenticity_token"=>"DTCdpMb+VgY3wMbzGlOzteA8SjSvrjrHvtTK4FX0POg=", "id"=>"current", "controller"=>"subscriptions"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd8504f1299d24562890562c18a8ed16bcf8b6b8a26511e83bd9e98a4cc786bda0079c8469bd052f304b96cb7d5b304a6f181ec738de1d88042927ed31a9ac133') LIMIT 1[0m
  [4;35;1mSubscription Load (0.5ms)[0m   [0mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 1 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
  [4;36;1mSubscriptionProfile Load (0.5ms)[0m   [0;1mSELECT * FROM "subscription_profiles" WHERE ("subscription_profiles".subscription_id = 1) LIMIT 1[0m
  [4;35;1mSubscription Load (0.5ms)[0m   [0mSELECT * FROM "subscriptions" WHERE ("subscriptions"."id" = 1) [0m
  [4;36;1mSubscriptionTransaction Create (0.5ms)[0m   [0;1mINSERT INTO "subscription_transactions" ("reference", "created_at", "updated_at", "amount_cents", "action", "subscription_id", "success", "params", "message", "test") VALUES(NULL, '2009-09-05 18:19:12', '2009-09-05 18:19:12', NULL, 'store', 1, 'f', '--- 
billingid: 
error: "Bogus Gateway: Forced failure"
', 'Bogus Gateway: Forced failure', 't')[0m
Rendering template within layouts/application
Rendering subscriptions/credit_card
Rendered layouts/_user_nav (0.4ms)
Completed in 3154ms (View: 7, DB: 2) | 200 OK [http://localhost/subscriptions/current/store_credit_card]


Processing SubscriptionsController#store_credit_card (for 127.0.0.1 at 2009-09-05 14:20:48) [POST]
  Parameters: {"commit"=>"Submit", "profile"=>{"credit_card"=>"[FILTERED]"}, "action"=>"store_credit_card", "authenticity_token"=>"DTCdpMb+VgY3wMbzGlOzteA8SjSvrjrHvtTK4FX0POg=", "id"=>"current", "controller"=>"subscriptions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd8504f1299d24562890562c18a8ed16bcf8b6b8a26511e83bd9e98a4cc786bda0079c8469bd052f304b96cb7d5b304a6f181ec738de1d88042927ed31a9ac133') LIMIT 1[0m
  [4;36;1mSubscription Load (0.5ms)[0m   [0;1mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 1 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
  [4;35;1mSubscriptionProfile Load (0.5ms)[0m   [0mSELECT * FROM "subscription_profiles" WHERE ("subscription_profiles".subscription_id = 1) LIMIT 1[0m
  [4;36;1mSubscription Load (0.5ms)[0m   [0;1mSELECT * FROM "subscriptions" WHERE ("subscriptions"."id" = 1) [0m
  [4;35;1mSubscriptionTransaction Create (0.5ms)[0m   [0mINSERT INTO "subscription_transactions" ("reference", "created_at", "updated_at", "amount_cents", "action", "subscription_id", "success", "params", "message", "test") VALUES(NULL, '2009-09-05 18:20:48', '2009-09-05 18:20:48', NULL, 'store', 1, 'f', '--- 
billingid: 
error: "Bogus Gateway: Forced failure"
', 'Bogus Gateway: Forced failure', 't')[0m
Rendering template within layouts/application
Rendering subscriptions/credit_card
Rendered layouts/_user_nav (0.4ms)
Completed in 1603ms (View: 8, DB: 3) | 200 OK [http://localhost/subscriptions/current/store_credit_card]


Processing SubscriptionsController#store_credit_card (for 127.0.0.1 at 2009-09-05 14:21:02) [POST]
  Parameters: {"commit"=>"Submit", "profile"=>{"credit_card"=>"[FILTERED]"}, "action"=>"store_credit_card", "authenticity_token"=>"DTCdpMb+VgY3wMbzGlOzteA8SjSvrjrHvtTK4FX0POg=", "id"=>"current", "controller"=>"subscriptions"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd8504f1299d24562890562c18a8ed16bcf8b6b8a26511e83bd9e98a4cc786bda0079c8469bd052f304b96cb7d5b304a6f181ec738de1d88042927ed31a9ac133') LIMIT 1[0m
  [4;35;1mSubscription Load (0.5ms)[0m   [0mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 1 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
  [4;36;1mSubscriptionProfile Load (0.5ms)[0m   [0;1mSELECT * FROM "subscription_profiles" WHERE ("subscription_profiles".subscription_id = 1) LIMIT 1[0m
  [4;35;1mSubscription Load (0.4ms)[0m   [0mSELECT * FROM "subscriptions" WHERE ("subscriptions"."id" = 1) [0m
  [4;36;1mSubscriptionTransaction Create (0.7ms)[0m   [0;1mINSERT INTO "subscription_transactions" ("reference", "created_at", "updated_at", "amount_cents", "action", "subscription_id", "success", "params", "message", "test") VALUES(NULL, '2009-09-05 18:21:02', '2009-09-05 18:21:02', NULL, 'store', 1, 'f', '--- 
billingid: 
error: "Bogus Gateway: Forced failure"
', 'Bogus Gateway: Forced failure', 't')[0m
Rendering template within layouts/application
Rendering subscriptions/credit_card
Rendered layouts/_user_nav (1.4ms)
Completed in 6114ms (View: 23, DB: 3) | 200 OK [http://localhost/subscriptions/current/store_credit_card]


Processing SubscriptionsController#store_credit_card (for 127.0.0.1 at 2009-09-05 14:22:16) [POST]
  Parameters: {"commit"=>"Submit", "profile"=>{"credit_card"=>"[FILTERED]"}, "action"=>"store_credit_card", "authenticity_token"=>"DTCdpMb+VgY3wMbzGlOzteA8SjSvrjrHvtTK4FX0POg=", "id"=>"current", "controller"=>"subscriptions"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd8504f1299d24562890562c18a8ed16bcf8b6b8a26511e83bd9e98a4cc786bda0079c8469bd052f304b96cb7d5b304a6f181ec738de1d88042927ed31a9ac133') LIMIT 1[0m
  [4;35;1mSubscription Load (0.5ms)[0m   [0mSELECT * FROM "subscriptions" WHERE ("subscriptions".subscriber_id = 1 AND "subscriptions".subscriber_type = 'User') LIMIT 1[0m
  [4;36;1mSubscriptionProfile Load (0.5ms)[0m   [0;1mSELECT * FROM "subscription_profiles" WHERE ("subscription_profiles".subscription_id = 1) LIMIT 1[0m
  [4;35;1mSubscription Load (0.4ms)[0m   [0mSELECT * FROM "subscriptions" WHERE ("subscriptions"."id" = 1) [0m
  [4;36;1mSubscriptionTransaction Create (0.7ms)[0m   [0;1mINSERT INTO "subscription_transactions" ("reference", "created_at", "updated_at", "amount_cents", "action", "subscription_id", "success", "params", "message", "test") VALUES(NULL, '2009-09-05 18:22:17', '2009-09-05 18:22:17', NULL, 'store', 1, 'f', '--- 
billingid: 
error: "Bogus Gateway: Forced failure"
', 'Bogus Gateway: Forced failure', 't')[0m
Rendering template within layouts/application
Rendering subscriptions/credit_card
Rendered layouts/_user_nav (1.4ms)
Completed in 6787ms (View: 23, DB: 3) | 200 OK [http://localhost/subscriptions/current/store_credit_card]
  [4;36;1mSQL (0.5ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("infos")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("subscription_plans")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("subscription_profiles")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("subscription_transactions")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("subscriptions")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mCREATE TABLE "infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mCREATE TABLE "subscription_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "rate_cents" integer DEFAULT 0, "interval" integer DEFAULT 1, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (4.7ms)[0m   [0;1mCREATE TABLE "subscription_profiles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer, "state" varchar(255), "profile_key" varchar(255), "card_first_name" varchar(255), "card_last_name" varchar(255), "card_type" varchar(255), "card_display_number" varchar(255), "card_expires_on" date, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (5.4ms)[0m   [0;1mCREATE TABLE "subscription_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer NOT NULL, "amount_cents" integer, "success" boolean, "reference" varchar(255), "message" varchar(255), "action" varchar(255), "params" text, "test" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (6.0ms)[0m   [0;1mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "plan_id" integer, "state" varchar(255), "next_renewal_on" date, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "persistence_token" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (2.3ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901043747')[0m
  [4;35;1mSQL (3.2ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090901024918')[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901025004')[0m
  [4;36;1mSQL (2.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSubscription Load (0.6ms)[0m   [0mSELECT * FROM "subscriptions" WHERE (state = 'past_due') [0m
  [4;36;1mSubscription Load (0.3ms)[0m   [0;1mSELECT * FROM "subscriptions" WHERE (state = 'in_trial') [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("infos")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("subscription_plans")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("subscription_profiles")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("subscription_transactions")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("subscriptions")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mCREATE TABLE "infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (23.1ms)[0m   [0;1mCREATE TABLE "subscription_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "rate_cents" integer DEFAULT 0, "interval" integer DEFAULT 1, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (5.3ms)[0m   [0;1mCREATE TABLE "subscription_profiles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer, "state" varchar(255), "profile_key" varchar(255), "card_first_name" varchar(255), "card_last_name" varchar(255), "card_type" varchar(255), "card_display_number" varchar(255), "card_expires_on" date, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (5.5ms)[0m   [0;1mCREATE TABLE "subscription_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer NOT NULL, "amount_cents" integer, "success" boolean, "reference" varchar(255), "message" varchar(255), "action" varchar(255), "params" text, "test" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (5.1ms)[0m   [0;1mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "plan_id" integer, "state" varchar(255), "next_renewal_on" date, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "persistence_token" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.8ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (2.0ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (4.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901043747')[0m
  [4;35;1mSQL (1.9ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090901024918')[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901025004')[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to SaaslogicMigration (20090901043747)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.4ms)[0m   [0mDROP TABLE "subscription_profiles"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDROP TABLE "subscription_plans"[0m
  [4;35;1mSQL (0.6ms)[0m   [0mDROP TABLE "subscription_transactions"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDROP TABLE "subscriptions"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20090901043747'[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("infos")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20090901024918)
Migrating to CreateInfos (20090901025004)
Migrating to SaaslogicMigration (20090901043747)
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "plan_id" integer, "state" varchar(255), "next_renewal_on" date, "warnings_sent" integer, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCREATE TABLE "subscription_profiles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer, "state" varchar(255), "profile_key" varchar(255), "card_first_name" varchar(255), "card_last_name" varchar(255), "card_type" varchar(255), "card_display_number" varchar(255), "card_expires_on" date, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "subscription_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer NOT NULL, "amount_cents" integer, "success" boolean, "reference" varchar(255), "message" varchar(255), "action" varchar(255), "params" text, "test" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "subscription_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "rate_cents" integer DEFAULT 0, "interval" integer DEFAULT 1, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (1.5ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090901043747')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("infos")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("subscription_plans")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("subscription_profiles")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("subscription_transactions")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("subscriptions")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("infos")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("subscription_plans")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("subscription_profiles")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("subscription_transactions")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("subscriptions")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mCREATE TABLE "infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mCREATE TABLE "subscription_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "rate_cents" integer DEFAULT 0, "interval" integer DEFAULT 1, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mCREATE TABLE "subscription_profiles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer, "state" varchar(255), "profile_key" varchar(255), "card_first_name" varchar(255), "card_last_name" varchar(255), "card_type" varchar(255), "card_display_number" varchar(255), "card_expires_on" date, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (5.8ms)[0m   [0;1mCREATE TABLE "subscription_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer NOT NULL, "amount_cents" integer, "success" boolean, "reference" varchar(255), "message" varchar(255), "action" varchar(255), "params" text, "test" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "plan_id" integer, "state" varchar(255), "next_renewal_on" date, "warnings_sent" integer, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (8.6ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "persistence_token" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (5.6ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901043747')[0m
  [4;35;1mSQL (4.9ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090901024918')[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901025004')[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to SaaslogicMigration (20090901043747)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.3ms)[0m   [0mDROP TABLE "subscription_profiles"[0m
  [4;36;1mSQL (55.9ms)[0m   [0;1mDROP TABLE "subscription_plans"[0m
  [4;35;1mSQL (0.8ms)[0m   [0mDROP TABLE "subscription_transactions"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mDROP TABLE "subscriptions"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20090901043747'[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("infos")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20090901024918)
Migrating to CreateInfos (20090901025004)
Migrating to SaaslogicMigration (20090901043747)
  [4;35;1mSQL (0.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "plan_id" integer, "state" varchar(255), "next_renewal_on" date, "warning_level" integer, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "subscription_profiles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer, "state" varchar(255), "profile_key" varchar(255), "card_first_name" varchar(255), "card_last_name" varchar(255), "card_type" varchar(255), "card_display_number" varchar(255), "card_expires_on" date, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "subscription_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer NOT NULL, "amount_cents" integer, "success" boolean, "reference" varchar(255), "message" varchar(255), "action" varchar(255), "params" text, "test" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "subscription_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "rate_cents" integer DEFAULT 0, "interval" integer DEFAULT 1, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090901043747')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("infos")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("subscription_plans")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("subscription_profiles")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("subscription_transactions")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("subscriptions")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("infos")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("subscription_plans")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("subscription_profiles")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("subscription_transactions")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("subscriptions")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mCREATE TABLE "infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mCREATE TABLE "subscription_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "rate_cents" integer DEFAULT 0, "interval" integer DEFAULT 1, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (4.1ms)[0m   [0;1mCREATE TABLE "subscription_profiles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer, "state" varchar(255), "profile_key" varchar(255), "card_first_name" varchar(255), "card_last_name" varchar(255), "card_type" varchar(255), "card_display_number" varchar(255), "card_expires_on" date, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mCREATE TABLE "subscription_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer NOT NULL, "amount_cents" integer, "success" boolean, "reference" varchar(255), "message" varchar(255), "action" varchar(255), "params" text, "test" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "plan_id" integer, "state" varchar(255), "next_renewal_on" date, "warning_level" integer, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "persistence_token" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (7.9ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901043747')[0m
  [4;35;1mSQL (5.0ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090901024918')[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901025004')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("infos")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("subscription_plans")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("subscription_profiles")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("subscription_transactions")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("subscriptions")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mCREATE TABLE "infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mCREATE TABLE "subscription_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "rate_cents" integer DEFAULT 0, "interval" integer DEFAULT 1, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (6.2ms)[0m   [0;1mCREATE TABLE "subscription_profiles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer, "state" varchar(255), "profile_key" varchar(255), "card_first_name" varchar(255), "card_last_name" varchar(255), "card_type" varchar(255), "card_display_number" varchar(255), "card_expires_on" date, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (5.7ms)[0m   [0;1mCREATE TABLE "subscription_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer NOT NULL, "amount_cents" integer, "success" boolean, "reference" varchar(255), "message" varchar(255), "action" varchar(255), "params" text, "test" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "plan_id" integer, "state" varchar(255), "next_renewal_on" date, "warning_level" integer, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "persistence_token" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (2.3ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901043747')[0m
  [4;35;1mSQL (8.4ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090901024918')[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901025004')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("infos")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("subscription_plans")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("subscription_profiles")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("subscription_transactions")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("subscriptions")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mCREATE TABLE "infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (6.1ms)[0m   [0;1mCREATE TABLE "subscription_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "rate_cents" integer DEFAULT 0, "interval" integer DEFAULT 1, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mCREATE TABLE "subscription_profiles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer, "state" varchar(255), "profile_key" varchar(255), "card_first_name" varchar(255), "card_last_name" varchar(255), "card_type" varchar(255), "card_display_number" varchar(255), "card_expires_on" date, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mCREATE TABLE "subscription_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer NOT NULL, "amount_cents" integer, "success" boolean, "reference" varchar(255), "message" varchar(255), "action" varchar(255), "params" text, "test" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "plan_id" integer, "state" varchar(255), "next_renewal_on" date, "warning_level" integer, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "persistence_token" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (2.1ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (8.4ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901043747')[0m
  [4;35;1mSQL (1.8ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090901024918')[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901025004')[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to SaaslogicMigration (20090901043747)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.4ms)[0m   [0mDROP TABLE "subscription_profiles"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDROP TABLE "subscription_plans"[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDROP TABLE "subscription_transactions"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDROP TABLE "subscriptions"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20090901043747'[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("infos")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20090901024918)
Migrating to CreateInfos (20090901025004)
Migrating to SaaslogicMigration (20090901043747)
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "plan_id" integer, "state" varchar(255), "next_renewal_on" date, "warning_level" integer, "balance_cents" integer, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "subscription_profiles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer, "state" varchar(255), "profile_key" varchar(255), "card_first_name" varchar(255), "card_last_name" varchar(255), "card_type" varchar(255), "card_display_number" varchar(255), "card_expires_on" date, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCREATE TABLE "subscription_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer NOT NULL, "amount_cents" integer, "success" boolean, "reference" varchar(255), "message" varchar(255), "action" varchar(255), "params" text, "test" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "subscription_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "rate_cents" integer DEFAULT 0, "interval" integer DEFAULT 1, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090901043747')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("infos")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("subscription_plans")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("subscription_profiles")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("subscription_transactions")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("subscriptions")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("infos")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("subscription_plans")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("subscription_profiles")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("subscription_transactions")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("subscriptions")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mCREATE TABLE "infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (5.7ms)[0m   [0;1mCREATE TABLE "subscription_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "rate_cents" integer DEFAULT 0, "interval" integer DEFAULT 1, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (5.6ms)[0m   [0;1mCREATE TABLE "subscription_profiles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer, "state" varchar(255), "profile_key" varchar(255), "card_first_name" varchar(255), "card_last_name" varchar(255), "card_type" varchar(255), "card_display_number" varchar(255), "card_expires_on" date, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (5.6ms)[0m   [0;1mCREATE TABLE "subscription_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer NOT NULL, "amount_cents" integer, "success" boolean, "reference" varchar(255), "message" varchar(255), "action" varchar(255), "params" text, "test" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (5.3ms)[0m   [0;1mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "plan_id" integer, "state" varchar(255), "next_renewal_on" date, "warning_level" integer, "balance_cents" integer, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.5ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "persistence_token" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (8.1ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901043747')[0m
  [4;35;1mSQL (5.0ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090901024918')[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901025004')[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to SaaslogicMigration (20090901043747)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.3ms)[0m   [0mDROP TABLE "subscription_profiles"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDROP TABLE "subscription_plans"[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDROP TABLE "subscription_transactions"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDROP TABLE "subscriptions"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20090901043747'[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("infos")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20090901024918)
Migrating to CreateInfos (20090901025004)
Migrating to SaaslogicMigration (20090901043747)
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "plan_id" integer, "state" varchar(255), "next_renewal_on" date, "warning_level" integer, "balance_cents" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "subscription_profiles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer, "state" varchar(255), "profile_key" varchar(255), "card_first_name" varchar(255), "card_last_name" varchar(255), "card_type" varchar(255), "card_display_number" varchar(255), "card_expires_on" date, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "subscription_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer NOT NULL, "amount_cents" integer, "success" boolean, "reference" varchar(255), "message" varchar(255), "action" varchar(255), "params" text, "test" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mCREATE TABLE "subscription_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "rate_cents" integer DEFAULT 0, "interval" integer DEFAULT 1, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090901043747')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("infos")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("subscription_plans")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("subscription_profiles")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("subscription_transactions")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("subscriptions")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("infos")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("subscription_plans")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("subscription_profiles")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("subscription_transactions")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("subscriptions")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mCREATE TABLE "infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mCREATE TABLE "subscription_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "rate_cents" integer DEFAULT 0, "interval" integer DEFAULT 1, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mCREATE TABLE "subscription_profiles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer, "state" varchar(255), "profile_key" varchar(255), "card_first_name" varchar(255), "card_last_name" varchar(255), "card_type" varchar(255), "card_display_number" varchar(255), "card_expires_on" date, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mCREATE TABLE "subscription_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer NOT NULL, "amount_cents" integer, "success" boolean, "reference" varchar(255), "message" varchar(255), "action" varchar(255), "params" text, "test" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (10.3ms)[0m   [0;1mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "plan_id" integer, "state" varchar(255), "next_renewal_on" date, "warning_level" integer, "balance_cents" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (5.6ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "persistence_token" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (5.6ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901043747')[0m
  [4;35;1mSQL (4.8ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090901024918')[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901025004')[0m
  [4;36;1mSubscriptionPlan Load (0.3ms)[0m   [0;1mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."name" = 'free') LIMIT 1[0m
  [4;35;1mSubscriptionPlan Load (0.3ms)[0m   [0mSELECT * FROM "subscription_plans" WHERE ("subscription_plans"."rate_cents" = 0) LIMIT 1[0m
  [4;36;1mSubscriptionPlan Create (0.7ms)[0m   [0;1mINSERT INTO "subscription_plans" ("name", "created_at", "rate_cents", "updated_at", "interval", "info_create_edit") VALUES('free', '2009-09-09 17:22:05', 0, '2009-09-09 17:22:05', 1, NULL)[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'subscriber@example.com') LIMIT 1[0m
  [4;36;1mUser Exists (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."username") = 'trial_3_guy') LIMIT 1[0m
  [4;35;1mUser Exists (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = 'e3221c3a34426a3fb5ce10a2a087a4ed44669abe31be617ec00778e6472497cbd0a62da0720947b053c35164eb01ca13f248add6d6fb6c011c6240f749ca8e0d') LIMIT 1[0m
  [4;36;1mUser Create (0.5ms)[0m   [0;1mINSERT INTO "users" ("created_at", "crypted_password", "updated_at", "username", "password_salt", "persistence_token", "email") VALUES('2009-09-09 17:22:20', '9fc38c88e55d9885e074eaf30b333d73c57813e99ae6c54b2f963d9a076a076a9ddaa237b174874db28c849792f35723032d26141eb34518653ba768f4db18ac', '2009-09-09 17:22:20', 'trial_3_guy', 'XCeHd4JEdqOoSx_3Pf2N', 'e3221c3a34426a3fb5ce10a2a087a4ed44669abe31be617ec00778e6472497cbd0a62da0720947b053c35164eb01ca13f248add6d6fb6c011c6240f749ca8e0d', 'subscriber@example.com')[0m
  [4;35;1mSubscription Create (0.2ms)[0m   [0mINSERT INTO "subscriptions" ("warning_level", "created_at", "updated_at", "subscriber_id", "subscriber_type", "balance_cents", "info_create_edit", "next_renewal_on", "plan_id", "state") VALUES(NULL, '2009-09-09 17:22:20', '2009-09-09 17:22:20', 2, 'User', 0, NULL, NULL, 1, 'pending')[0m
  [4;36;1mSubscriptionProfile Load (0.2ms)[0m   [0;1mSELECT * FROM "subscription_profiles" WHERE ("subscription_profiles".subscription_id = 1) LIMIT 1[0m
  [4;35;1mSubscriptionProfile Create (0.3ms)[0m   [0mINSERT INTO "subscription_profiles" ("card_first_name", "created_at", "profile_key", "card_type", "card_display_number", "updated_at", "subscription_id", "card_expires_on", "card_last_name", "state") VALUES(NULL, '2009-09-09 17:22:20', NULL, NULL, NULL, '2009-09-09 17:22:20', 1, NULL, NULL, 'no_info')[0m
  [4;36;1mSubscription Update (0.2ms)[0m   [0;1mUPDATE "subscriptions" SET "updated_at" = '2009-09-09 17:22:20', "created_at" = '2009-09-09 17:22:20', "plan_id" = 1, "state" = 'free', "subscriber_type" = 'User', "subscriber_id" = 2 WHERE "id" = 1[0m
  [4;35;1mSubscriptionPlan Create (0.6ms)[0m   [0mINSERT INTO "subscription_plans" ("name", "created_at", "rate_cents", "updated_at", "interval", "info_create_edit") VALUES('basic', '2009-09-09 17:22:53', 1000, '2009-09-09 17:22:53', 1, NULL)[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'subscriber@example.com') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."username") = 'trial_3_guy') LIMIT 1[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = '6aa30f52e039780eca761e0ae9428ccb4b569e81c3602910dea6e6ad2f3ee64e08182adb58e6c2577e188823280cead3ff2794ffbec30bfddb81951d0443b481') LIMIT 1[0m
  [4;35;1mUser Exists (0.5ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'subscriber@example.com') LIMIT 1[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."username") = 'trial_3_guy') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = '6aa30f52e039780eca761e0ae9428ccb4b569e81c3602910dea6e6ad2f3ee64e08182adb58e6c2577e188823280cead3ff2794ffbec30bfddb81951d0443b481') LIMIT 1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("infos")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("subscription_plans")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("subscription_profiles")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("subscription_transactions")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("subscriptions")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.7ms)[0m   [0;1mCREATE TABLE "infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mCREATE TABLE "subscription_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "rate_cents" integer DEFAULT 0, "interval" integer DEFAULT 1, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mCREATE TABLE "subscription_profiles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer, "state" varchar(255), "profile_key" varchar(255), "card_first_name" varchar(255), "card_last_name" varchar(255), "card_type" varchar(255), "card_display_number" varchar(255), "card_expires_on" date, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.7ms)[0m   [0;1mCREATE TABLE "subscription_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer NOT NULL, "amount_cents" integer, "success" boolean, "reference" varchar(255), "message" varchar(255), "action" varchar(255), "params" text, "test" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "plan_id" integer, "state" varchar(255), "next_renewal_on" date, "warning_level" integer, "balance_cents" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "persistence_token" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (2.6ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901043747')[0m
  [4;35;1mSQL (1.9ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090901024918')[0m
  [4;36;1mSQL (2.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901025004')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("infos")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("subscription_plans")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("subscription_profiles")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("subscription_transactions")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("subscriptions")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.6ms)[0m   [0;1mCREATE TABLE "infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (41.2ms)[0m   [0;1mCREATE TABLE "subscription_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "rate_cents" integer DEFAULT 0, "interval" integer DEFAULT 1, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.8ms)[0m   [0;1mCREATE TABLE "subscription_profiles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer, "state" varchar(255), "profile_key" varchar(255), "card_first_name" varchar(255), "card_last_name" varchar(255), "card_type" varchar(255), "card_display_number" varchar(255), "card_expires_on" date, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.6ms)[0m   [0;1mCREATE TABLE "subscription_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer NOT NULL, "amount_cents" integer, "success" boolean, "reference" varchar(255), "message" varchar(255), "action" varchar(255), "params" text, "test" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.3ms)[0m   [0;1mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "plan_id" integer, "state" varchar(255), "next_renewal_on" date, "warning_level" integer, "balance_cents" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "persistence_token" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.3ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (2.0ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901043747')[0m
  [4;35;1mSQL (2.3ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090901024918')[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901025004')[0m
  [4;35;1mSubscription Load (0.0ms)[0m   [0mSQLite3::SQLException: database schema has changed: SELECT * FROM "subscriptions" LIMIT 1[0m
  [4;36;1mSubscription Load (2.5ms)[0m   [0;1mSELECT * FROM "subscriptions" LIMIT 1[0m
  [4;35;1mSubscription Load (0.5ms)[0m   [0mSELECT * FROM "subscriptions" LIMIT 1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("infos")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("subscription_plans")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("subscription_profiles")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("subscription_transactions")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("subscriptions")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.7ms)[0m   [0;1mCREATE TABLE "infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.7ms)[0m   [0;1mCREATE TABLE "subscription_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "rate_cents" integer DEFAULT 0, "interval" integer DEFAULT 1, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mCREATE TABLE "subscription_profiles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer, "state" varchar(255), "profile_key" varchar(255), "card_first_name" varchar(255), "card_last_name" varchar(255), "card_type" varchar(255), "card_display_number" varchar(255), "card_expires_on" date, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mCREATE TABLE "subscription_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer NOT NULL, "amount_cents" integer, "success" boolean, "reference" varchar(255), "message" varchar(255), "action" varchar(255), "params" text, "test" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "plan_id" integer, "state" varchar(255), "next_renewal_on" date, "warning_level" integer, "balance_cents" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "persistence_token" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (2.2ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901043747')[0m
  [4;35;1mSQL (1.9ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090901024918')[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901025004')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("infos")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("subscription_plans")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("subscription_profiles")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("subscription_transactions")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("subscriptions")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mCREATE TABLE "infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mCREATE TABLE "subscription_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "rate_cents" integer DEFAULT 0, "interval" integer DEFAULT 1, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (8.0ms)[0m   [0;1mCREATE TABLE "subscription_profiles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer, "state" varchar(255), "profile_key" varchar(255), "card_first_name" varchar(255), "card_last_name" varchar(255), "card_type" varchar(255), "card_display_number" varchar(255), "card_expires_on" date, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (5.6ms)[0m   [0;1mCREATE TABLE "subscription_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer NOT NULL, "amount_cents" integer, "success" boolean, "reference" varchar(255), "message" varchar(255), "action" varchar(255), "params" text, "test" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (6.0ms)[0m   [0;1mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "plan_id" integer, "state" varchar(255), "next_renewal_on" date, "warning_level" integer, "balance_cents" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (5.4ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "persistence_token" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (5.1ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901043747')[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090901024918')[0m
  [4;36;1mSQL (9.3ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901025004')[0m
  [4;36;1mSubscription Load (0.3ms)[0m   [0;1mSELECT * FROM "subscriptions" WHERE ("subscriptions"."id" IS NULL) LIMIT 1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (2.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("infos")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("subscription_plans")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("subscription_profiles")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("subscription_transactions")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("subscriptions")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.7ms)[0m   [0;1mCREATE TABLE "infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.7ms)[0m   [0;1mCREATE TABLE "subscription_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "rate_cents" integer DEFAULT 0, "interval" integer DEFAULT 1, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mCREATE TABLE "subscription_profiles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer, "state" varchar(255), "profile_key" varchar(255), "card_first_name" varchar(255), "card_last_name" varchar(255), "card_type" varchar(255), "card_display_number" varchar(255), "card_expires_on" date, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.5ms)[0m   [0;1mCREATE TABLE "subscription_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer NOT NULL, "amount_cents" integer, "success" boolean, "reference" varchar(255), "message" varchar(255), "action" varchar(255), "params" text, "test" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.6ms)[0m   [0;1mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "plan_id" integer, "state" varchar(255), "next_renewal_on" date, "warning_level" integer, "balance_cents" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "persistence_token" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (2.4ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901043747')[0m
  [4;35;1mSQL (2.5ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090901024918')[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901025004')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("infos")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("subscription_plans")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("subscription_profiles")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("subscription_transactions")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("subscriptions")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.3ms)[0m   [0;1mCREATE TABLE "infos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mCREATE TABLE "subscription_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "rate_cents" integer DEFAULT 0, "interval" integer DEFAULT 1, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.7ms)[0m   [0;1mCREATE TABLE "subscription_profiles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer, "state" varchar(255), "profile_key" varchar(255), "card_first_name" varchar(255), "card_last_name" varchar(255), "card_type" varchar(255), "card_display_number" varchar(255), "card_expires_on" date, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (5.5ms)[0m   [0;1mCREATE TABLE "subscription_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscription_id" integer NOT NULL, "amount_cents" integer, "success" boolean, "reference" varchar(255), "message" varchar(255), "action" varchar(255), "params" text, "test" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (5.3ms)[0m   [0;1mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subscriber_id" integer NOT NULL, "subscriber_type" varchar(255) NOT NULL, "plan_id" integer, "state" varchar(255), "next_renewal_on" date, "warning_level" integer, "balance_cents" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "info_create_edit" boolean) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "persistence_token" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (9.0ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901043747')[0m
  [4;35;1mSQL (4.7ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090901024918')[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090901025004')[0m
